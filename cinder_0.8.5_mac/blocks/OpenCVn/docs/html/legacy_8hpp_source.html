<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Cinder</title>
		<link rel="stylesheet" href="cinder_doxygen.css" type="text/css" media="screen" />
	</head>
<body>	
<div class="wrapper">
	<div id="header">
		<h1><a href="http://libcinder.org">Cinder</a></h1>
	</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/opencv2/legacy/legacy.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="legacy_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*M///////////////////////////////////////////////////////////////////////////////////////</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">//  IMPORTANT: READ BEFORE DOWNLOADING, COPYING, INSTALLING OR USING.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  By downloading, copying, installing or using the software you agree to this license.</span>
<a name="l00006"></a>00006 <span class="comment">//  If you do not agree to this license, do not download, install,</span>
<a name="l00007"></a>00007 <span class="comment">//  copy or use the software.</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//                        Intel License Agreement</span>
<a name="l00011"></a>00011 <span class="comment">//                For Open Source Computer Vision Library</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">// Copyright (C) 2000, Intel Corporation, all rights reserved.</span>
<a name="l00014"></a>00014 <span class="comment">// Third party copyrights are property of their respective owners.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// Redistribution and use in source and binary forms, with or without modification,</span>
<a name="l00017"></a>00017 <span class="comment">// are permitted provided that the following conditions are met:</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">//   * Redistribution&#39;s of source code must retain the above copyright notice,</span>
<a name="l00020"></a>00020 <span class="comment">//     this list of conditions and the following disclaimer.</span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="comment">//   * Redistribution&#39;s in binary form must reproduce the above copyright notice,</span>
<a name="l00023"></a>00023 <span class="comment">//     this list of conditions and the following disclaimer in the documentation</span>
<a name="l00024"></a>00024 <span class="comment">//     and/or other materials provided with the distribution.</span>
<a name="l00025"></a>00025 <span class="comment">//</span>
<a name="l00026"></a>00026 <span class="comment">//   * The name of Intel Corporation may not be used to endorse or promote products</span>
<a name="l00027"></a>00027 <span class="comment">//     derived from this software without specific prior written permission.</span>
<a name="l00028"></a>00028 <span class="comment">//</span>
<a name="l00029"></a>00029 <span class="comment">// This software is provided by the copyright holders and contributors &quot;as is&quot; and</span>
<a name="l00030"></a>00030 <span class="comment">// any express or implied warranties, including, but not limited to, the implied</span>
<a name="l00031"></a>00031 <span class="comment">// warranties of merchantability and fitness for a particular purpose are disclaimed.</span>
<a name="l00032"></a>00032 <span class="comment">// In no event shall the Intel Corporation or contributors be liable for any direct,</span>
<a name="l00033"></a>00033 <span class="comment">// indirect, incidental, special, exemplary, or consequential damages</span>
<a name="l00034"></a>00034 <span class="comment">// (including, but not limited to, procurement of substitute goods or services;</span>
<a name="l00035"></a>00035 <span class="comment">// loss of use, data, or profits; or business interruption) however caused</span>
<a name="l00036"></a>00036 <span class="comment">// and on any theory of liability, whether in contract, strict liability,</span>
<a name="l00037"></a>00037 <span class="comment">// or tort (including negligence or otherwise) arising in any way out of</span>
<a name="l00038"></a>00038 <span class="comment">// the use of this software, even if advised of the possibility of such damage.</span>
<a name="l00039"></a>00039 <span class="comment">//</span>
<a name="l00040"></a>00040 <span class="comment">//M*/</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="preprocessor">#ifndef __OPENCV_LEGACY_HPP__</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#define __OPENCV_LEGACY_HPP__</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="imgproc_8hpp.html" title="The Image Processing.">opencv2/imgproc/imgproc.hpp</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="imgproc__c_8h.html">opencv2/imgproc/imgproc_c.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="features2d_2features2d_8hpp.html">opencv2/features2d/features2d.hpp</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="calib3d_8hpp.html">opencv2/calib3d/calib3d.hpp</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="ml_8hpp.html">opencv2/ml/ml.hpp</a>&quot;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00053"></a>00053 <span class="preprocessor">#endif</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="legacy_8hpp.html#a0a359acf7af75ec3d6837ec29b67843f">00055</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_seq.html">CvSeq</a>*) cvSegmentImage( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* srcarr, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#af9870907f1556eb538d1008fbd76c0e2">dstarr</a>,
<a name="l00056"></a>00056                                     <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#aa5f276dac1990d1189fa0c77bc6b1d0d">canny_threshold</a>,
<a name="l00057"></a>00057                                     <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a169787c9aae2157991087ee40ccbb7fe">ffill_threshold</a>,
<a name="l00058"></a>00058                                     <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* <a class="code" href="core__c_8h.html#a970a07e901e339b08d59ffd66f372bc4">storage</a> );
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">/****************************************************************************************\</span>
<a name="l00061"></a>00061 <span class="comment">*                                  Eigen objects                                         *</span>
<a name="l00062"></a>00062 <span class="comment">\****************************************************************************************/</span>
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="legacy_8hpp.html#acc546d7b88e7ae69cf9d9cbb750f8ac1">00064</a> typedef <span class="keywordtype">int</span> (CV_CDECL * <a class="code" href="legacy_8hpp.html#acc546d7b88e7ae69cf9d9cbb750f8ac1">CvCallback</a>)(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">void</span>* <a class="code" href="imgproc__c_8h.html#ac9db6ccf8d1a2abfd9a0a162547f9666">buffer</a>, <span class="keywordtype">void</span>* user_data);
<a name="l00065"></a><a class="code" href="union_cv_input.html">00065</a> typedef union
<a name="l00066"></a>00066 {
<a name="l00067"></a><a class="code" href="union_cv_input.html#af3dddd9cf5bd893640a9fea1d34cca90">00067</a>     <a class="code" href="legacy_8hpp.html#acc546d7b88e7ae69cf9d9cbb750f8ac1">CvCallback</a> <a class="code" href="union_cv_input.html#af3dddd9cf5bd893640a9fea1d34cca90">callback</a>;
<a name="l00068"></a><a class="code" href="union_cv_input.html#af02370c1290daef253984f0c466d0ab7">00068</a>     <span class="keywordtype">void</span>* <a class="code" href="union_cv_input.html#af02370c1290daef253984f0c466d0ab7">data</a>;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 <a class="code" href="union_cv_input.html">CvInput</a>;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="preprocessor">#define CV_EIGOBJ_NO_CALLBACK     0</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="preprocessor">#define CV_EIGOBJ_INPUT_CALLBACK  1</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#define CV_EIGOBJ_OUTPUT_CALLBACK 2</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor">#define CV_EIGOBJ_BOTH_CALLBACK   3</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00077"></a>00077 <span class="comment">/* Calculates covariation matrix of a set of arrays */</span>
<a name="l00078"></a><a class="code" href="legacy_8hpp.html#ae6d7787b8c860038ffa2f009134ec73e">00078</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcCovarMatrixEx( <span class="keywordtype">int</span> nObjects, <span class="keywordtype">void</span>* <a class="code" href="legacy_8hpp.html#a8f45a3157cd8bdbb30d638b20fd31f1a">input</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#aeef2a008e8d7ff7dca4c3245dff57269">ioFlags</a>,
<a name="l00079"></a>00079                                   <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a92edb5c446a10525038b1e9df949f192">ioBufSize</a>, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="imgproc__c_8h.html#ac9db6ccf8d1a2abfd9a0a162547f9666">buffer</a>, <span class="keywordtype">void</span>* <a class="code" href="legacy_8hpp.html#ae6d7787b8c860038ffa2f009134ec73e">userData</a>,
<a name="l00080"></a>00080                                   <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#a92db7c1486bb541ca602670b43c052e8">avg</a>, <span class="keywordtype">float</span>* <a class="code" href="legacy_8hpp.html#a871756ab4050f88e3a3d98082ca78ee7">covarMatrix</a> );
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="comment">/* Calculates eigen values and vectors of covariation matrix of a set of</span>
<a name="l00083"></a>00083 <span class="comment">   arrays */</span>
<a name="l00084"></a><a class="code" href="legacy_8hpp.html#ad2a91d797896d7d86e0c03dc705a4abc">00084</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcEigenObjects( <span class="keywordtype">int</span> nObjects, <span class="keywordtype">void</span>* input, <span class="keywordtype">void</span>* <a class="code" href="legacy_8hpp.html#ad2a91d797896d7d86e0c03dc705a4abc">output</a>,
<a name="l00085"></a>00085                                  <span class="keywordtype">int</span> ioFlags, <span class="keywordtype">int</span> ioBufSize, <span class="keywordtype">void</span>* userData,
<a name="l00086"></a>00086                                  <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a>* <a class="code" href="legacy_8hpp.html#a408aad06d661cf0d092e4ac35990cbee">calcLimit</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>* avg,
<a name="l00087"></a>00087                                  <span class="keywordtype">float</span>* <a class="code" href="legacy_8hpp.html#ac5846588159ad69c6bf080141e173c1f">eigVals</a> );
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 <span class="comment">/* Calculates dot product (obj - avg) * eigObj (i.e. projects image to eigen vector) */</span>
<a name="l00090"></a><a class="code" href="legacy_8hpp.html#abb9ca9aeb23fdd4ad6e764c77bcf915d">00090</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">double</span>)  cvCalcDecompCoeff( <a class="code" href="struct___ipl_image.html">IplImage</a>* obj, <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#abb9ca9aeb23fdd4ad6e764c77bcf915d">eigObj</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>* avg );
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="comment">/* Projects image to eigen space (finds all decomposion coefficients */</span>
<a name="l00093"></a><a class="code" href="legacy_8hpp.html#a2c358257b0cf269f2cec3b831c4f4a7e">00093</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvEigenDecomposite( <a class="code" href="struct___ipl_image.html">IplImage</a>* obj, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a2c358257b0cf269f2cec3b831c4f4a7e">nEigObjs</a>, <span class="keywordtype">void</span>* <a class="code" href="legacy_8hpp.html#a1de26fee9a6f92864ecb8aee0eebde2d">eigInput</a>,
<a name="l00094"></a>00094                                  <span class="keywordtype">int</span> ioFlags, <span class="keywordtype">void</span>* userData, <a class="code" href="struct___ipl_image.html">IplImage</a>* avg,
<a name="l00095"></a>00095                                  <span class="keywordtype">float</span>* <a class="code" href="legacy_8hpp.html#a0bfd859c5268424809118f8d404a9105">coeffs</a> );
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="comment">/* Projects original objects used to calculate eigen space basis to that space */</span>
<a name="l00098"></a><a class="code" href="legacy_8hpp.html#a3adae8ce9e40a8ac0b2f315cca97f699">00098</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvEigenProjection( <span class="keywordtype">void</span>* eigInput, <span class="keywordtype">int</span> nEigObjs, <span class="keywordtype">int</span> ioFlags,
<a name="l00099"></a>00099                                 <span class="keywordtype">void</span>* userData, <span class="keywordtype">float</span>* coeffs, <a class="code" href="struct___ipl_image.html">IplImage</a>* avg,
<a name="l00100"></a>00100                                 <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a3adae8ce9e40a8ac0b2f315cca97f699">proj</a> );
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/****************************************************************************************\</span>
<a name="l00103"></a>00103 <span class="comment">*                                       1D/2D HMM                                        *</span>
<a name="l00104"></a>00104 <span class="comment">\****************************************************************************************/</span>
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="struct_cv_img_obs_info.html">00106</a> typedef struct <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>
<a name="l00107"></a>00107 {
<a name="l00108"></a><a class="code" href="struct_cv_img_obs_info.html#ab59ce8a12a9853445fedbe3fc10c9601">00108</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_img_obs_info.html#ab59ce8a12a9853445fedbe3fc10c9601">obs_x</a>;
<a name="l00109"></a><a class="code" href="struct_cv_img_obs_info.html#af926497a39e7abe5d707a9ad082882bc">00109</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_img_obs_info.html#af926497a39e7abe5d707a9ad082882bc">obs_y</a>;
<a name="l00110"></a><a class="code" href="struct_cv_img_obs_info.html#a2f2a1ec7d4a57340ad7b753bfb1e5efe">00110</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_img_obs_info.html#a2f2a1ec7d4a57340ad7b753bfb1e5efe">obs_size</a>;
<a name="l00111"></a><a class="code" href="struct_cv_img_obs_info.html#a89f0fc6c28d37239bbfb27740ce891b5">00111</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_img_obs_info.html#a89f0fc6c28d37239bbfb27740ce891b5">obs</a>;<span class="comment">//consequtive observations</span>
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="struct_cv_img_obs_info.html#a2ebc3a7cc6e29a9c57b6e356f09b73ce">00113</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_img_obs_info.html#a2ebc3a7cc6e29a9c57b6e356f09b73ce">state</a>;<span class="comment">/* arr of pairs superstate/state to which observation belong */</span>
<a name="l00114"></a><a class="code" href="struct_cv_img_obs_info.html#a30c5759006567c40458647ca51a13952">00114</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_img_obs_info.html#a30c5759006567c40458647ca51a13952">mix</a>;  <span class="comment">/* number of mixture to which observation belong */</span>
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 } <a class="code" href="legacy_8hpp.html#afb0a1daae8fa175ae3cce39a43fcc030">CvImgObsInfo</a>;<span class="comment">/*struct for 1 image*/</span>
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="legacy_8hpp.html#a3a01cc4134748312fd0925bff34b1fe9">00118</a> <span class="keyword">typedef</span> <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a> <a class="code" href="legacy_8hpp.html#a3a01cc4134748312fd0925bff34b1fe9">Cv1DObsInfo</a>;
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="struct_cv_e_h_m_m_state.html">00120</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_e_h_m_m_state.html">CvEHMMState</a>
<a name="l00121"></a>00121 {
<a name="l00122"></a><a class="code" href="struct_cv_e_h_m_m_state.html#adfda6047de059d4f4cad1f8ed2b36a29">00122</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_h_m_m_state.html#adfda6047de059d4f4cad1f8ed2b36a29">num_mix</a>;        <span class="comment">/*number of mixtures in this state*/</span>
<a name="l00123"></a><a class="code" href="struct_cv_e_h_m_m_state.html#a993c9aa34c4de69c40af0c0e6b2d3f2c">00123</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_e_h_m_m_state.html#a993c9aa34c4de69c40af0c0e6b2d3f2c">mu</a>;          <span class="comment">/*mean vectors corresponding to each mixture*/</span>
<a name="l00124"></a><a class="code" href="struct_cv_e_h_m_m_state.html#adcb09e6a57bb8b6c06ced06629ea7fa2">00124</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_e_h_m_m_state.html#adcb09e6a57bb8b6c06ced06629ea7fa2">inv_var</a>;     <span class="comment">/* square root of inversed variances corresp. to each mixture*/</span>
<a name="l00125"></a><a class="code" href="struct_cv_e_h_m_m_state.html#a9cd99f55e789424d88d2283e9ec89daf">00125</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_e_h_m_m_state.html#a9cd99f55e789424d88d2283e9ec89daf">log_var_val</a>; <span class="comment">/* sum of 0.5 (LN2PI + ln(variance[i]) ) for i=1,n */</span>
<a name="l00126"></a><a class="code" href="struct_cv_e_h_m_m_state.html#a3bb5cefe04096511d309bf6da477dbed">00126</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_e_h_m_m_state.html#a3bb5cefe04096511d309bf6da477dbed">weight</a>;      <span class="comment">/*array of mixture weights. Summ of all weights in state is 1. */</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 } <a class="code" href="legacy_8hpp.html#a23008024bea2335763c79a495d641c5e">CvEHMMState</a>;
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="struct_cv_e_h_m_m.html">00130</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>
<a name="l00131"></a>00131 {
<a name="l00132"></a><a class="code" href="struct_cv_e_h_m_m.html#aaa849276eb472066624aac17d07d363d">00132</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_h_m_m.html#aaa849276eb472066624aac17d07d363d">level</a>; <span class="comment">/* 0 - lowest(i.e its states are real states), ..... */</span>
<a name="l00133"></a><a class="code" href="struct_cv_e_h_m_m.html#a76f8d6af057a30e38c7978ec3ca84f60">00133</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_h_m_m.html#a76f8d6af057a30e38c7978ec3ca84f60">num_states</a>; <span class="comment">/* number of HMM states */</span>
<a name="l00134"></a><a class="code" href="struct_cv_e_h_m_m.html#a380235219abbd662f98358d9ae7095db">00134</a>     <span class="keywordtype">float</span>*  <a class="code" href="struct_cv_e_h_m_m.html#a380235219abbd662f98358d9ae7095db">transP</a>;<span class="comment">/*transition probab. matrices for states */</span>
<a name="l00135"></a><a class="code" href="struct_cv_e_h_m_m.html#a68625cb2d24219abe21121d038aa1cfb">00135</a>     <span class="keywordtype">float</span>** <a class="code" href="struct_cv_e_h_m_m.html#a68625cb2d24219abe21121d038aa1cfb">obsProb</a>; <span class="comment">/* if level == 0 - array of brob matrices corresponding to hmm</span>
<a name="l00136"></a>00136 <span class="comment">                        if level == 1 - martix of matrices */</span>
<a name="l00137"></a>00137     <span class="keyword">union</span>
<a name="l00138"></a>00138     {
<a name="l00139"></a><a class="code" href="struct_cv_e_h_m_m.html#a00849148e222b5fd626b39113651bc16">00139</a>         <a class="code" href="struct_cv_e_h_m_m_state.html">CvEHMMState</a>* <a class="code" href="struct_cv_e_h_m_m.html#a00849148e222b5fd626b39113651bc16">state</a>; <span class="comment">/* if level == 0 points to real states array,</span>
<a name="l00140"></a>00140 <span class="comment">                               if not - points to embedded hmms */</span>
<a name="l00141"></a><a class="code" href="struct_cv_e_h_m_m.html#ab1429de105e03466a3f91e0a4fcfaf0e">00141</a>         <span class="keyword">struct </span><a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* <a class="code" href="struct_cv_e_h_m_m.html#ab1429de105e03466a3f91e0a4fcfaf0e">ehmm</a>; <span class="comment">/* pointer to an embedded model or NULL, if it is a leaf */</span>
<a name="l00142"></a>00142     } <a class="code" href="struct_cv_e_h_m_m.html#a7cf5158b68201cd1441eebb052f15459">u</a>;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 } <a class="code" href="legacy_8hpp.html#ab7b3d8abfa5a583969f0f0d1e75c3029">CvEHMM</a>;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="comment">/*CVAPI(int)  icvCreate1DHMM( CvEHMM** this_hmm,</span>
<a name="l00147"></a>00147 <span class="comment">                                   int state_number, int* num_mix, int obs_size );</span>
<a name="l00148"></a>00148 <span class="comment"></span>
<a name="l00149"></a>00149 <span class="comment">CVAPI(int)  icvRelease1DHMM( CvEHMM** phmm );</span>
<a name="l00150"></a>00150 <span class="comment"></span>
<a name="l00151"></a>00151 <span class="comment">CVAPI(int)  icvUniform1DSegm( Cv1DObsInfo* obs_info, CvEHMM* hmm );</span>
<a name="l00152"></a>00152 <span class="comment"></span>
<a name="l00153"></a>00153 <span class="comment">CVAPI(int)  icvInit1DMixSegm( Cv1DObsInfo** obs_info_array, int num_img, CvEHMM* hmm);</span>
<a name="l00154"></a>00154 <span class="comment"></span>
<a name="l00155"></a>00155 <span class="comment">CVAPI(int)  icvEstimate1DHMMStateParams( CvImgObsInfo** obs_info_array, int num_img, CvEHMM* hmm);</span>
<a name="l00156"></a>00156 <span class="comment"></span>
<a name="l00157"></a>00157 <span class="comment">CVAPI(int)  icvEstimate1DObsProb( CvImgObsInfo* obs_info, CvEHMM* hmm );</span>
<a name="l00158"></a>00158 <span class="comment"></span>
<a name="l00159"></a>00159 <span class="comment">CVAPI(int)  icvEstimate1DTransProb( Cv1DObsInfo** obs_info_array,</span>
<a name="l00160"></a>00160 <span class="comment">                                           int num_seq,</span>
<a name="l00161"></a>00161 <span class="comment">                                           CvEHMM* hmm );</span>
<a name="l00162"></a>00162 <span class="comment"></span>
<a name="l00163"></a>00163 <span class="comment">CVAPI(float)  icvViterbi( Cv1DObsInfo* obs_info, CvEHMM* hmm);</span>
<a name="l00164"></a>00164 <span class="comment"></span>
<a name="l00165"></a>00165 <span class="comment">CVAPI(int)  icv1DMixSegmL2( CvImgObsInfo** obs_info_array, int num_img, CvEHMM* hmm );*/</span>
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 <span class="comment">/*********************************** Embedded HMMs *************************************/</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">/* Creates 2D HMM */</span>
<a name="l00170"></a><a class="code" href="legacy_8hpp.html#a3fb8610384976e539500bae87f5ab454">00170</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>*)  cvCreate2DHMM( <span class="keywordtype">int</span>* stateNumber, <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#a32a756bfd4c5902f07a4fb161cfa7687">numMix</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a3fb8610384976e539500bae87f5ab454">obsSize</a> );
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment">/* Releases HMM */</span>
<a name="l00173"></a>00173 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvRelease2DHMM( <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>** <a class="code" href="legacy_8hpp.html#ad10ac1ece700f3e40f5efbe921118178">hmm</a> );
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="preprocessor">#define CV_COUNT_OBS(roi, win, delta, numObs )                                       \</span>
<a name="l00176"></a>00176 <span class="preprocessor">{                                                                                    \</span>
<a name="l00177"></a>00177 <span class="preprocessor">   (numObs)-&gt;width  =((roi)-&gt;width  -(win)-&gt;width  +(delta)-&gt;width)/(delta)-&gt;width;  \</span>
<a name="l00178"></a>00178 <span class="preprocessor">   (numObs)-&gt;height =((roi)-&gt;height -(win)-&gt;height +(delta)-&gt;height)/(delta)-&gt;height;\</span>
<a name="l00179"></a>00179 <span class="preprocessor">}</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>
<a name="l00181"></a>00181 <span class="comment">/* Creates storage for observation vectors */</span>
<a name="l00182"></a>00182 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>*)  cvCreateObsInfo( <a class="code" href="struct_cv_size.html">CvSize</a> numObs, <span class="keywordtype">int</span> obsSize );
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">/* Releases storage for observation vectors */</span>
<a name="l00185"></a>00185 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvReleaseObsInfo( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>** obs_info );
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 <span class="comment">/* The function takes an image on input and and returns the sequnce of observations</span>
<a name="l00189"></a>00189 <span class="comment">   to be used with an embedded HMM; Each observation is top-left block of DCT</span>
<a name="l00190"></a>00190 <span class="comment">   coefficient matrix */</span>
<a name="l00191"></a><a class="code" href="legacy_8hpp.html#abe3b9480a63bfd1d9ebfad89ff8ff5d4">00191</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvImgToObs_DCT( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="core__c_8h.html#ab8e13ef59ba6f71bb02934957ba61c65">arr</a>, <span class="keywordtype">float</span>* <a class="code" href="legacy_8hpp.html#abe3b9480a63bfd1d9ebfad89ff8ff5d4">obs</a>, <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#a10ef54bea97370a4173a3d0c468c86ab">dctSize</a>,
<a name="l00192"></a>00192                              <a class="code" href="struct_cv_size.html">CvSize</a> obsSize, <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="core__c_8h.html#a5763d62f5c6f37e64f38d25dddcc10fa">delta</a> );
<a name="l00193"></a>00193 
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="comment">/* Uniformly segments all observation vectors extracted from image */</span>
<a name="l00196"></a><a class="code" href="legacy_8hpp.html#aed498f1fb4b827ba95104dc8b62efc36">00196</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvUniformImgSegm( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>* obs_info, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* <a class="code" href="legacy_8hpp.html#aed498f1fb4b827ba95104dc8b62efc36">ehmm</a> );
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">/* Does mixture segmentation of the states of embedded HMM */</span>
<a name="l00199"></a>00199 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvInitMixSegm( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>** obs_info_array,
<a name="l00200"></a><a class="code" href="legacy_8hpp.html#ad745f1d234c4a4267e0db10aab20f015">00200</a>                             <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#ad745f1d234c4a4267e0db10aab20f015">num_img</a>, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="comment">/* Function calculates means, variances, weights of every Gaussian mixture</span>
<a name="l00203"></a>00203 <span class="comment">   of every low-level state of embedded HMM */</span>
<a name="l00204"></a>00204 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvEstimateHMMStateParams( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>** obs_info_array,
<a name="l00205"></a>00205                                        <span class="keywordtype">int</span> num_img, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="comment">/* Function computes transition probability matrices of embedded HMM</span>
<a name="l00208"></a>00208 <span class="comment">   given observations segmentation */</span>
<a name="l00209"></a>00209 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvEstimateTransProb( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>** obs_info_array,
<a name="l00210"></a>00210                                   <span class="keywordtype">int</span> num_img, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">/* Function computes probabilities of appearing observations at any state</span>
<a name="l00213"></a>00213 <span class="comment">   (i.e. computes P(obs|state) for every pair(obs,state)) */</span>
<a name="l00214"></a>00214 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvEstimateObsProb( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>* obs_info,
<a name="l00215"></a>00215                                 <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">/* Runs Viterbi algorithm for embedded HMM */</span>
<a name="l00218"></a>00218 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">float</span>)  cvEViterbi( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>* obs_info, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 <span class="comment">/* Function clusters observation vectors from several images</span>
<a name="l00222"></a>00222 <span class="comment">   given observations segmentation.</span>
<a name="l00223"></a>00223 <span class="comment">   Euclidean distance used for clustering vectors.</span>
<a name="l00224"></a>00224 <span class="comment">   Centers of clusters are given means of every mixture */</span>
<a name="l00225"></a>00225 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvMixSegmL2( <a class="code" href="struct_cv_img_obs_info.html">CvImgObsInfo</a>** obs_info_array,
<a name="l00226"></a>00226                           <span class="keywordtype">int</span> num_img, <a class="code" href="struct_cv_e_h_m_m.html">CvEHMM</a>* hmm );
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="comment">/****************************************************************************************\</span>
<a name="l00229"></a>00229 <span class="comment">*               A few functions from old stereo gesture recognition demosions            *</span>
<a name="l00230"></a>00230 <span class="comment">\****************************************************************************************/</span>
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">/* Creates hand mask image given several points on the hand */</span>
<a name="l00233"></a>00233 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCreateHandMask( <a class="code" href="struct_cv_seq.html">CvSeq</a>* hand_points,
<a name="l00234"></a><a class="code" href="legacy_8hpp.html#a22e52b2b51d064865d3ac2f27b308c33">00234</a>                                    <a class="code" href="struct___ipl_image.html">IplImage</a> *<a class="code" href="legacy_8hpp.html#a32a9351ea46846b92eb1980ef410fa17">img_mask</a>, <a class="code" href="struct_cv_rect.html">CvRect</a> *<a class="code" href="legacy_8hpp.html#a22e52b2b51d064865d3ac2f27b308c33">roi</a>);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 <span class="comment">/* Finds hand region in range image data */</span>
<a name="l00237"></a><a class="code" href="legacy_8hpp.html#ae97003f8d5c64cdfb99f6f2606d121b6">00237</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvFindHandRegion (<a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* <a class="code" href="legacy_8hpp.html#a8c4b676395bf614cc92b782d12f18847">points</a>, <span class="keywordtype">int</span> <a class="code" href="calib3d_8hpp.html#a88d78b1935cd8bdee70a44eaaf326b1e">count</a>,
<a name="l00238"></a>00238                                 <a class="code" href="struct_cv_seq.html">CvSeq</a>* <a class="code" href="legacy_8hpp.html#a988b2fe12340ce1e693fd5d0dfb3c8ea">indexs</a>,
<a name="l00239"></a>00239                                 <span class="keywordtype">float</span>* <a class="code" href="core__c_8h.html#a888add5dce943a58e87388d9b136416a">line</a>, <a class="code" href="struct_cv_size2_d32f.html">CvSize2D32f</a> <a class="code" href="calib3d_8hpp.html#ae97003f8d5c64cdfb99f6f2606d121b6">size</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a0b4706eb64be40850fe9d384ecc82267">flag</a>,
<a name="l00240"></a>00240                                 <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* <a class="code" href="core__c_8h.html#a3f007d4bba0b0e0a4cbcb681f97f241c">center</a>,
<a name="l00241"></a>00241                                 <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* <a class="code" href="core__c_8h.html#a970a07e901e339b08d59ffd66f372bc4">storage</a>, <a class="code" href="struct_cv_seq.html">CvSeq</a> **<a class="code" href="legacy_8hpp.html#a39ca3e2d81e4534154b055d990492ac7">numbers</a>);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="comment">/* Finds hand region in range image data (advanced version) */</span>
<a name="l00244"></a><a class="code" href="legacy_8hpp.html#ae75128510d8f5848ffc0a2d6a44f4739">00244</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvFindHandRegionA( <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* points, <span class="keywordtype">int</span> count,
<a name="l00245"></a>00245                                 <a class="code" href="struct_cv_seq.html">CvSeq</a>* indexs,
<a name="l00246"></a>00246                                 <span class="keywordtype">float</span>* line, <a class="code" href="struct_cv_size2_d32f.html">CvSize2D32f</a> size, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#ae75128510d8f5848ffc0a2d6a44f4739">jc</a>,
<a name="l00247"></a>00247                                 <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* center,
<a name="l00248"></a>00248                                 <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage, <a class="code" href="struct_cv_seq.html">CvSeq</a> **numbers);
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <span class="comment">/* Calculates the cooficients of the homography matrix */</span>
<a name="l00251"></a><a class="code" href="legacy_8hpp.html#a8af544f0197a833aacc6b4c2d2b38ad5">00251</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcImageHomography( <span class="keywordtype">float</span>* line, <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* center,
<a name="l00252"></a>00252                                     <span class="keywordtype">float</span>* <a class="code" href="legacy_8hpp.html#a8af544f0197a833aacc6b4c2d2b38ad5">intrinsic</a>, <span class="keywordtype">float</span>* <a class="code" href="calib3d_8hpp.html#a23bb203201ad0ce051975280b687252e">homography</a> );
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="comment">/****************************************************************************************\</span>
<a name="l00255"></a>00255 <span class="comment">*                           More operations on sequences                                 *</span>
<a name="l00256"></a>00256 <span class="comment">\****************************************************************************************/</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="comment">/*****************************************************************************************/</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="preprocessor">#define CV_CURRENT_INT( reader ) (*((int *)(reader).ptr))</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span><span class="preprocessor">#define CV_PREV_INT( reader ) (*((int *)(reader).prev_elem))</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span>
<a name="l00263"></a>00263 <span class="preprocessor">#define  CV_GRAPH_WEIGHTED_VERTEX_FIELDS() CV_GRAPH_VERTEX_FIELDS()\</span>
<a name="l00264"></a>00264 <span class="preprocessor">    float weight;</span>
<a name="l00265"></a>00265 <span class="preprocessor"></span>
<a name="l00266"></a>00266 <span class="preprocessor">#define  CV_GRAPH_WEIGHTED_EDGE_FIELDS() CV_GRAPH_EDGE_FIELDS()</span>
<a name="l00267"></a>00267 <span class="preprocessor"></span>
<a name="l00268"></a><a class="code" href="struct_cv_graph_weighted_vtx.html">00268</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_graph_weighted_vtx.html">CvGraphWeightedVtx</a>
<a name="l00269"></a>00269 {
<a name="l00270"></a>00270     CV_GRAPH_WEIGHTED_VERTEX_FIELDS()
<a name="l00271"></a>00271 } <a class="code" href="legacy_8hpp.html#ae20f1a20764130ca506a11876fa584da">CvGraphWeightedVtx</a>;
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="struct_cv_graph_weighted_edge.html">00273</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_graph_weighted_edge.html">CvGraphWeightedEdge</a>
<a name="l00274"></a>00274 {
<a name="l00275"></a>00275     CV_GRAPH_WEIGHTED_EDGE_FIELDS()
<a name="l00276"></a>00276 } <a class="code" href="legacy_8hpp.html#a7b2a1d9f38da3caa334e0d2ee09719c6">CvGraphWeightedEdge</a>;
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381">00278</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381">CvGraphWeightType</a>
<a name="l00279"></a>00279 {
<a name="l00280"></a><a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a257082df2efb9ae30002adfcdec6ad85">00280</a>     <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a257082df2efb9ae30002adfcdec6ad85">CV_NOT_WEIGHTED</a>,
<a name="l00281"></a><a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a424405b57ccec864a52e8acb4546b451">00281</a>     <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a424405b57ccec864a52e8acb4546b451">CV_WEIGHTED_VTX</a>,
<a name="l00282"></a><a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a9530ba6d72467e341a5d3003d44c2b5c">00282</a>     <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a9530ba6d72467e341a5d3003d44c2b5c">CV_WEIGHTED_EDGE</a>,
<a name="l00283"></a><a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a82b41e279b53f282c24dc58866081f08">00283</a>     <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381a82b41e279b53f282c24dc58866081f08">CV_WEIGHTED_ALL</a>
<a name="l00284"></a>00284 } <a class="code" href="legacy_8hpp.html#a15208b8c75d1d66a27d9b468ddccb381">CvGraphWeightType</a>;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 <span class="comment">/* Calculates histogram of a contour */</span>
<a name="l00288"></a><a class="code" href="legacy_8hpp.html#a680f11e53e63640f03dcbb160eb06c53">00288</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcPGH( const <a class="code" href="struct_cv_seq.html">CvSeq</a>* <a class="code" href="core__c_8h.html#adbc53f0a2ae231f4fb30fb213be65a50">contour</a>, <a class="code" href="struct_cv_histogram.html">CvHistogram</a>* <a class="code" href="imgproc__c_8h.html#ab0663c690702cf27bead756ca1afba84">hist</a> );
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="preprocessor">#define CV_DOMINANT_IPAN 1</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
<a name="l00292"></a>00292 <span class="comment">/* Finds high-curvature points of the contour */</span>
<a name="l00293"></a>00293 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_seq.html">CvSeq</a>*) cvFindDominantPoints( <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour, <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage,
<a name="l00294"></a>00294                                    <span class="keywordtype">int</span> <a class="code" href="imgproc__c_8h.html#ab9b9819cc20b34aa0ae2bfa4486e7a65">method</a> <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_DOMINANT_IPAN),
<a name="l00295"></a>00295                                    <span class="keywordtype">double</span> parameter1 <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(0),
<a name="l00296"></a>00296                                    <span class="keywordtype">double</span> parameter2 CV_DEFAULT(0),
<a name="l00297"></a>00297                                    <span class="keywordtype">double</span> parameter3 CV_DEFAULT(0),
<a name="l00298"></a>00298                                    <span class="keywordtype">double</span> parameter4 CV_DEFAULT(0));
<a name="l00299"></a>00299 
<a name="l00300"></a>00300 <span class="comment">/*****************************************************************************************/</span>
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/*******************************Stereo correspondence*************************************/</span>
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="struct_cv_clique_finder.html">00305</a> typedef struct <a class="code" href="struct_cv_clique_finder.html">CvCliqueFinder</a>
<a name="l00306"></a>00306 {
<a name="l00307"></a><a class="code" href="struct_cv_clique_finder.html#ab45a13df90c9becdf0856649a4695efd">00307</a>     <a class="code" href="struct_cv_graph.html">CvGraph</a>* <a class="code" href="struct_cv_clique_finder.html#ab45a13df90c9becdf0856649a4695efd">graph</a>;
<a name="l00308"></a><a class="code" href="struct_cv_clique_finder.html#abc4e299be1ac4db2e6fbfd51ddb9d065">00308</a>     <span class="keywordtype">int</span>**    <a class="code" href="struct_cv_clique_finder.html#abc4e299be1ac4db2e6fbfd51ddb9d065">adj_matr</a>;
<a name="l00309"></a><a class="code" href="struct_cv_clique_finder.html#a8da5566410709f2a7a1891a05e20d6c3">00309</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#a8da5566410709f2a7a1891a05e20d6c3">N</a>; <span class="comment">//graph size</span>
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="comment">// stacks, counters etc/</span>
<a name="l00312"></a><a class="code" href="struct_cv_clique_finder.html#aacc8820053aa06c5482f3d54ccd90549">00312</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#aacc8820053aa06c5482f3d54ccd90549">k</a>; <span class="comment">//stack size</span>
<a name="l00313"></a><a class="code" href="struct_cv_clique_finder.html#a00f284454bebac7d8d86e7cca57459fd">00313</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#a00f284454bebac7d8d86e7cca57459fd">current_comp</a>;
<a name="l00314"></a><a class="code" href="struct_cv_clique_finder.html#a8929a3dc97b8b146f4b2bea5859559b0">00314</a>     <span class="keywordtype">int</span>** <a class="code" href="struct_cv_clique_finder.html#a8929a3dc97b8b146f4b2bea5859559b0">All</a>;
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="struct_cv_clique_finder.html#aadfcec5d703a5db394031b79c8f15b83">00316</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#aadfcec5d703a5db394031b79c8f15b83">ne</a>;
<a name="l00317"></a><a class="code" href="struct_cv_clique_finder.html#a0a757ff7a0febd3628de0eb8f4798fb4">00317</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#a0a757ff7a0febd3628de0eb8f4798fb4">ce</a>;
<a name="l00318"></a><a class="code" href="struct_cv_clique_finder.html#ab61915448377de08728337a8b30bc97c">00318</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#ab61915448377de08728337a8b30bc97c">fixp</a>; <span class="comment">//node with minimal disconnections</span>
<a name="l00319"></a><a class="code" href="struct_cv_clique_finder.html#a38047a358bc1cff9390dc98e1c843e5e">00319</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#a38047a358bc1cff9390dc98e1c843e5e">nod</a>;
<a name="l00320"></a><a class="code" href="struct_cv_clique_finder.html#ae165e8b548245ddbacef0f2953ad7a48">00320</a>     <span class="keywordtype">int</span>* <a class="code" href="struct_cv_clique_finder.html#ae165e8b548245ddbacef0f2953ad7a48">s</a>; <span class="comment">//for selected candidate</span>
<a name="l00321"></a><a class="code" href="struct_cv_clique_finder.html#a4d7b6d97430bc4d1cbe3d5a6f76847dc">00321</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#a4d7b6d97430bc4d1cbe3d5a6f76847dc">status</a>;
<a name="l00322"></a><a class="code" href="struct_cv_clique_finder.html#a27ea88c1685d01c000f2e4853c679eea">00322</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#a27ea88c1685d01c000f2e4853c679eea">best_score</a>;
<a name="l00323"></a><a class="code" href="struct_cv_clique_finder.html#ae93626c5759941f929340fe879380c04">00323</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#ae93626c5759941f929340fe879380c04">weighted</a>;
<a name="l00324"></a><a class="code" href="struct_cv_clique_finder.html#a0201060ff64dd9aeb610c64ac27abafe">00324</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_clique_finder.html#a0201060ff64dd9aeb610c64ac27abafe">weighted_edges</a>;
<a name="l00325"></a><a class="code" href="struct_cv_clique_finder.html#a0b6d6e48d2ba4d895b3baa2eebf9d290">00325</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_clique_finder.html#a0b6d6e48d2ba4d895b3baa2eebf9d290">best_weight</a>;
<a name="l00326"></a><a class="code" href="struct_cv_clique_finder.html#ae3bb166008a952d59fe0301b020a6dbf">00326</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_clique_finder.html#ae3bb166008a952d59fe0301b020a6dbf">edge_weights</a>;
<a name="l00327"></a><a class="code" href="struct_cv_clique_finder.html#a41aef4f7431fa184acd9b0f60bf1a396">00327</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_clique_finder.html#a41aef4f7431fa184acd9b0f60bf1a396">vertex_weights</a>;
<a name="l00328"></a><a class="code" href="struct_cv_clique_finder.html#a92a1736e65341feb05032c65890c29e7">00328</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_clique_finder.html#a92a1736e65341feb05032c65890c29e7">cur_weight</a>;
<a name="l00329"></a><a class="code" href="struct_cv_clique_finder.html#ad2b3a5159f6d0dda8d789d688b014112">00329</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_clique_finder.html#ad2b3a5159f6d0dda8d789d688b014112">cand_weight</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 } <a class="code" href="legacy_8hpp.html#a2d3870f9b288ff50a098dcd0d5f71a25">CvCliqueFinder</a>;
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 <span class="preprocessor">#define CLIQUE_TIME_OFF 2</span>
<a name="l00334"></a>00334 <span class="preprocessor"></span><span class="preprocessor">#define CLIQUE_FOUND 1</span>
<a name="l00335"></a>00335 <span class="preprocessor"></span><span class="preprocessor">#define CLIQUE_END   0</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span>
<a name="l00337"></a>00337 <span class="comment">/*CVAPI(void) cvStartFindCliques( CvGraph* graph, CvCliqueFinder* finder, int reverse,</span>
<a name="l00338"></a>00338 <span class="comment">                                   int weighted CV_DEFAULT(0),  int weighted_edges CV_DEFAULT(0));</span>
<a name="l00339"></a>00339 <span class="comment">CVAPI(int) cvFindNextMaximalClique( CvCliqueFinder* finder, int* clock_rest CV_DEFAULT(0) );</span>
<a name="l00340"></a>00340 <span class="comment">CVAPI(void) cvEndFindCliques( CvCliqueFinder* finder );</span>
<a name="l00341"></a>00341 <span class="comment"></span>
<a name="l00342"></a>00342 <span class="comment">CVAPI(void) cvBronKerbosch( CvGraph* graph );*/</span>
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="comment">/*F///////////////////////////////////////////////////////////////////////////////////////</span>
<a name="l00346"></a>00346 <span class="comment">//</span>
<a name="l00347"></a>00347 <span class="comment">//    Name:    cvSubgraphWeight</span>
<a name="l00348"></a>00348 <span class="comment">//    Purpose: finds weight of subgraph in a graph</span>
<a name="l00349"></a>00349 <span class="comment">//    Context:</span>
<a name="l00350"></a>00350 <span class="comment">//    Parameters:</span>
<a name="l00351"></a>00351 <span class="comment">//      graph - input graph.</span>
<a name="l00352"></a>00352 <span class="comment">//      subgraph - sequence of pairwise different ints.  These are indices of vertices of subgraph.</span>
<a name="l00353"></a>00353 <span class="comment">//      weight_type - describes the way we measure weight.</span>
<a name="l00354"></a>00354 <span class="comment">//            one of the following:</span>
<a name="l00355"></a>00355 <span class="comment">//            CV_NOT_WEIGHTED - weight of a clique is simply its size</span>
<a name="l00356"></a>00356 <span class="comment">//            CV_WEIGHTED_VTX - weight of a clique is the sum of weights of its vertices</span>
<a name="l00357"></a>00357 <span class="comment">//            CV_WEIGHTED_EDGE - the same but edges</span>
<a name="l00358"></a>00358 <span class="comment">//            CV_WEIGHTED_ALL - the same but both edges and vertices</span>
<a name="l00359"></a>00359 <span class="comment">//      weight_vtx - optional vector of floats, with size = graph-&gt;total.</span>
<a name="l00360"></a>00360 <span class="comment">//            If weight_type is either CV_WEIGHTED_VTX or CV_WEIGHTED_ALL</span>
<a name="l00361"></a>00361 <span class="comment">//            weights of vertices must be provided.  If weight_vtx not zero</span>
<a name="l00362"></a>00362 <span class="comment">//            these weights considered to be here, otherwise function assumes</span>
<a name="l00363"></a>00363 <span class="comment">//            that vertices of graph are inherited from CvGraphWeightedVtx.</span>
<a name="l00364"></a>00364 <span class="comment">//      weight_edge - optional matrix of floats, of width and height = graph-&gt;total.</span>
<a name="l00365"></a>00365 <span class="comment">//            If weight_type is either CV_WEIGHTED_EDGE or CV_WEIGHTED_ALL</span>
<a name="l00366"></a>00366 <span class="comment">//            weights of edges ought to be supplied.  If weight_edge is not zero</span>
<a name="l00367"></a>00367 <span class="comment">//            function finds them here, otherwise function expects</span>
<a name="l00368"></a>00368 <span class="comment">//            edges of graph to be inherited from CvGraphWeightedEdge.</span>
<a name="l00369"></a>00369 <span class="comment">//            If this parameter is not zero structure of the graph is determined from matrix</span>
<a name="l00370"></a>00370 <span class="comment">//            rather than from CvGraphEdge&#39;s.  In particular, elements corresponding to</span>
<a name="l00371"></a>00371 <span class="comment">//            absent edges should be zero.</span>
<a name="l00372"></a>00372 <span class="comment">//    Returns:</span>
<a name="l00373"></a>00373 <span class="comment">//      weight of subgraph.</span>
<a name="l00374"></a>00374 <span class="comment">//    Notes:</span>
<a name="l00375"></a>00375 <span class="comment">//F*/</span>
<a name="l00376"></a>00376 <span class="comment">/*CVAPI(float) cvSubgraphWeight( CvGraph *graph, CvSeq *subgraph,</span>
<a name="l00377"></a>00377 <span class="comment">                                  CvGraphWeightType weight_type CV_DEFAULT(CV_NOT_WEIGHTED),</span>
<a name="l00378"></a>00378 <span class="comment">                                  CvVect32f weight_vtx CV_DEFAULT(0),</span>
<a name="l00379"></a>00379 <span class="comment">                                  CvMatr32f weight_edge CV_DEFAULT(0) );*/</span>
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 <span class="comment">/*F///////////////////////////////////////////////////////////////////////////////////////</span>
<a name="l00383"></a>00383 <span class="comment">//</span>
<a name="l00384"></a>00384 <span class="comment">//    Name:    cvFindCliqueEx</span>
<a name="l00385"></a>00385 <span class="comment">//    Purpose: tries to find clique with maximum possible weight in a graph</span>
<a name="l00386"></a>00386 <span class="comment">//    Context:</span>
<a name="l00387"></a>00387 <span class="comment">//    Parameters:</span>
<a name="l00388"></a>00388 <span class="comment">//      graph - input graph.</span>
<a name="l00389"></a>00389 <span class="comment">//      storage - memory storage to be used by the result.</span>
<a name="l00390"></a>00390 <span class="comment">//      is_complementary - optional flag showing whether function should seek for clique</span>
<a name="l00391"></a>00391 <span class="comment">//            in complementary graph.</span>
<a name="l00392"></a>00392 <span class="comment">//      weight_type - describes our notion about weight.</span>
<a name="l00393"></a>00393 <span class="comment">//            one of the following:</span>
<a name="l00394"></a>00394 <span class="comment">//            CV_NOT_WEIGHTED - weight of a clique is simply its size</span>
<a name="l00395"></a>00395 <span class="comment">//            CV_WEIGHTED_VTX - weight of a clique is the sum of weights of its vertices</span>
<a name="l00396"></a>00396 <span class="comment">//            CV_WEIGHTED_EDGE - the same but edges</span>
<a name="l00397"></a>00397 <span class="comment">//            CV_WEIGHTED_ALL - the same but both edges and vertices</span>
<a name="l00398"></a>00398 <span class="comment">//      weight_vtx - optional vector of floats, with size = graph-&gt;total.</span>
<a name="l00399"></a>00399 <span class="comment">//            If weight_type is either CV_WEIGHTED_VTX or CV_WEIGHTED_ALL</span>
<a name="l00400"></a>00400 <span class="comment">//            weights of vertices must be provided.  If weight_vtx not zero</span>
<a name="l00401"></a>00401 <span class="comment">//            these weights considered to be here, otherwise function assumes</span>
<a name="l00402"></a>00402 <span class="comment">//            that vertices of graph are inherited from CvGraphWeightedVtx.</span>
<a name="l00403"></a>00403 <span class="comment">//      weight_edge - optional matrix of floats, of width and height = graph-&gt;total.</span>
<a name="l00404"></a>00404 <span class="comment">//            If weight_type is either CV_WEIGHTED_EDGE or CV_WEIGHTED_ALL</span>
<a name="l00405"></a>00405 <span class="comment">//            weights of edges ought to be supplied.  If weight_edge is not zero</span>
<a name="l00406"></a>00406 <span class="comment">//            function finds them here, otherwise function expects</span>
<a name="l00407"></a>00407 <span class="comment">//            edges of graph to be inherited from CvGraphWeightedEdge.</span>
<a name="l00408"></a>00408 <span class="comment">//            Note that in case of CV_WEIGHTED_EDGE or CV_WEIGHTED_ALL</span>
<a name="l00409"></a>00409 <span class="comment">//            nonzero is_complementary implies nonzero weight_edge.</span>
<a name="l00410"></a>00410 <span class="comment">//      start_clique - optional sequence of pairwise different ints.  They are indices of</span>
<a name="l00411"></a>00411 <span class="comment">//            vertices that shall be present in the output clique.</span>
<a name="l00412"></a>00412 <span class="comment">//      subgraph_of_ban - optional sequence of (maybe equal) ints.  They are indices of</span>
<a name="l00413"></a>00413 <span class="comment">//            vertices that shall not be present in the output clique.</span>
<a name="l00414"></a>00414 <span class="comment">//      clique_weight_ptr - optional output parameter.  Weight of found clique stored here.</span>
<a name="l00415"></a>00415 <span class="comment">//      num_generations - optional number of generations in evolutionary part of algorithm,</span>
<a name="l00416"></a>00416 <span class="comment">//            zero forces to return first found clique.</span>
<a name="l00417"></a>00417 <span class="comment">//      quality - optional parameter determining degree of required quality/speed tradeoff.</span>
<a name="l00418"></a>00418 <span class="comment">//            Must be in the range from 0 to 9.</span>
<a name="l00419"></a>00419 <span class="comment">//            0 is fast and dirty, 9 is slow but hopefully yields good clique.</span>
<a name="l00420"></a>00420 <span class="comment">//    Returns:</span>
<a name="l00421"></a>00421 <span class="comment">//      sequence of pairwise different ints.</span>
<a name="l00422"></a>00422 <span class="comment">//      These are indices of vertices that form found clique.</span>
<a name="l00423"></a>00423 <span class="comment">//    Notes:</span>
<a name="l00424"></a>00424 <span class="comment">//      in cases of CV_WEIGHTED_EDGE and CV_WEIGHTED_ALL weights should be nonnegative.</span>
<a name="l00425"></a>00425 <span class="comment">//      start_clique has a priority over subgraph_of_ban.</span>
<a name="l00426"></a>00426 <span class="comment">//F*/</span>
<a name="l00427"></a>00427 <span class="comment">/*CVAPI(CvSeq*) cvFindCliqueEx( CvGraph *graph, CvMemStorage *storage,</span>
<a name="l00428"></a>00428 <span class="comment">                                 int is_complementary CV_DEFAULT(0),</span>
<a name="l00429"></a>00429 <span class="comment">                                 CvGraphWeightType weight_type CV_DEFAULT(CV_NOT_WEIGHTED),</span>
<a name="l00430"></a>00430 <span class="comment">                                 CvVect32f weight_vtx CV_DEFAULT(0),</span>
<a name="l00431"></a>00431 <span class="comment">                                 CvMatr32f weight_edge CV_DEFAULT(0),</span>
<a name="l00432"></a>00432 <span class="comment">                                 CvSeq *start_clique CV_DEFAULT(0),</span>
<a name="l00433"></a>00433 <span class="comment">                                 CvSeq *subgraph_of_ban CV_DEFAULT(0),</span>
<a name="l00434"></a>00434 <span class="comment">                                 float *clique_weight_ptr CV_DEFAULT(0),</span>
<a name="l00435"></a>00435 <span class="comment">                                 int num_generations CV_DEFAULT(3),</span>
<a name="l00436"></a>00436 <span class="comment">                                 int quality CV_DEFAULT(2) );*/</span>
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 
<a name="l00439"></a>00439 <span class="preprocessor">#define CV_UNDEF_SC_PARAM         12345 //default value of parameters</span>
<a name="l00440"></a>00440 <span class="preprocessor"></span>
<a name="l00441"></a>00441 <span class="preprocessor">#define CV_IDP_BIRCHFIELD_PARAM1  25</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span><span class="preprocessor">#define CV_IDP_BIRCHFIELD_PARAM2  5</span>
<a name="l00443"></a>00443 <span class="preprocessor"></span><span class="preprocessor">#define CV_IDP_BIRCHFIELD_PARAM3  12</span>
<a name="l00444"></a>00444 <span class="preprocessor"></span><span class="preprocessor">#define CV_IDP_BIRCHFIELD_PARAM4  15</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span><span class="preprocessor">#define CV_IDP_BIRCHFIELD_PARAM5  25</span>
<a name="l00446"></a>00446 <span class="preprocessor"></span>
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 <span class="preprocessor">#define  CV_DISPARITY_BIRCHFIELD  0</span>
<a name="l00449"></a>00449 <span class="preprocessor"></span>
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <span class="comment">/*F///////////////////////////////////////////////////////////////////////////</span>
<a name="l00452"></a>00452 <span class="comment">//</span>
<a name="l00453"></a>00453 <span class="comment">//    Name:    cvFindStereoCorrespondence</span>
<a name="l00454"></a>00454 <span class="comment">//    Purpose: find stereo correspondence on stereo-pair</span>
<a name="l00455"></a>00455 <span class="comment">//    Context:</span>
<a name="l00456"></a>00456 <span class="comment">//    Parameters:</span>
<a name="l00457"></a>00457 <span class="comment">//      leftImage - left image of stereo-pair (format 8uC1).</span>
<a name="l00458"></a>00458 <span class="comment">//      rightImage - right image of stereo-pair (format 8uC1).</span>
<a name="l00459"></a>00459 <span class="comment">//   mode - mode of correspondence retrieval (now CV_DISPARITY_BIRCHFIELD only)</span>
<a name="l00460"></a>00460 <span class="comment">//      dispImage - destination disparity image</span>
<a name="l00461"></a>00461 <span class="comment">//      maxDisparity - maximal disparity</span>
<a name="l00462"></a>00462 <span class="comment">//      param1, param2, param3, param4, param5 - parameters of algorithm</span>
<a name="l00463"></a>00463 <span class="comment">//    Returns:</span>
<a name="l00464"></a>00464 <span class="comment">//    Notes:</span>
<a name="l00465"></a>00465 <span class="comment">//      Images must be rectified.</span>
<a name="l00466"></a>00466 <span class="comment">//      All images must have format 8uC1.</span>
<a name="l00467"></a>00467 <span class="comment">//F*/</span>
<a name="l00468"></a>00468 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)
<a name="l00469"></a>00469 cvFindStereoCorrespondence(
<a name="l00470"></a><a class="code" href="legacy_8hpp.html#a83b44df2c66a279ec55701fb1e02b563">00470</a>                    const  <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* leftImage, const  <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a83b44df2c66a279ec55701fb1e02b563">rightImage</a>,
<a name="l00471"></a>00471                    <span class="keywordtype">int</span>     <a class="code" href="legacy_8hpp.html#a1c26bb78d83bf1601bc49fd0050077a2">mode</a>,
<a name="l00472"></a>00472                    <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>*  <a class="code" href="legacy_8hpp.html#a2b2999cd64677d5d8befa5615812045c">dispImage</a>,
<a name="l00473"></a>00473                    <span class="keywordtype">int</span>     <a class="code" href="legacy_8hpp.html#a7961f91ade4eb198f4a622fbb0fd27c7">maxDisparity</a>,
<a name="l00474"></a>00474                    <span class="keywordtype">double</span>  <a class="code" href="core__c_8h.html#a4a138cebb3d1124bb552aa80cc860eea">param1</a> <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_UNDEF_SC_PARAM),
<a name="l00475"></a>00475                    <span class="keywordtype">double</span>  <a class="code" href="core__c_8h.html#a31355e809c125347b49af078e58da79e">param2</a> <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_UNDEF_SC_PARAM),
<a name="l00476"></a>00476                    <span class="keywordtype">double</span>  param3 <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_UNDEF_SC_PARAM),
<a name="l00477"></a>00477                    <span class="keywordtype">double</span>  param4 <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_UNDEF_SC_PARAM),
<a name="l00478"></a>00478                    <span class="keywordtype">double</span>  param5 <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(CV_UNDEF_SC_PARAM) );
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="comment">/*****************************************************************************************/</span>
<a name="l00481"></a>00481 <span class="comment">/************ Epiline functions *******************/</span>
<a name="l00482"></a>00482 
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 
<a name="l00485"></a><a class="code" href="struct_cv_stereo_line_coeff.html">00485</a> typedef struct <a class="code" href="struct_cv_stereo_line_coeff.html">CvStereoLineCoeff</a>
<a name="l00486"></a>00486 {
<a name="l00487"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a37f582afe1a799d6d16255266a1223d0">00487</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a37f582afe1a799d6d16255266a1223d0">Xcoef</a>;
<a name="l00488"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a2d619f8621ef86e0f47bc5c67ca988dc">00488</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a2d619f8621ef86e0f47bc5c67ca988dc">XcoefA</a>;
<a name="l00489"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a28fb7984cb8569db65134dbe8117fe67">00489</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a28fb7984cb8569db65134dbe8117fe67">XcoefB</a>;
<a name="l00490"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a4742e83052ad5a814af2a05e95ae04fd">00490</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a4742e83052ad5a814af2a05e95ae04fd">XcoefAB</a>;
<a name="l00491"></a>00491 
<a name="l00492"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a2f2134644686c45dca373c5d88045033">00492</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a2f2134644686c45dca373c5d88045033">Ycoef</a>;
<a name="l00493"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a6b67530fcb041c7213001056259dddff">00493</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a6b67530fcb041c7213001056259dddff">YcoefA</a>;
<a name="l00494"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a2c94956bca5a818af781b90d8dc841ec">00494</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a2c94956bca5a818af781b90d8dc841ec">YcoefB</a>;
<a name="l00495"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a34b35e9afff402fb69459416e565aeac">00495</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a34b35e9afff402fb69459416e565aeac">YcoefAB</a>;
<a name="l00496"></a>00496 
<a name="l00497"></a><a class="code" href="struct_cv_stereo_line_coeff.html#acf1797731e5d553e6ea09f6a52d372d0">00497</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#acf1797731e5d553e6ea09f6a52d372d0">Zcoef</a>;
<a name="l00498"></a><a class="code" href="struct_cv_stereo_line_coeff.html#afcaee17d41a5bdcc469db810a8c734d6">00498</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#afcaee17d41a5bdcc469db810a8c734d6">ZcoefA</a>;
<a name="l00499"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a700fbf82f7a601a1518d58f14d7d0819">00499</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a700fbf82f7a601a1518d58f14d7d0819">ZcoefB</a>;
<a name="l00500"></a><a class="code" href="struct_cv_stereo_line_coeff.html#a61e95e05fc766d5e629014cfff1aa6ab">00500</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_line_coeff.html#a61e95e05fc766d5e629014cfff1aa6ab">ZcoefAB</a>;
<a name="l00501"></a>00501 }<a class="code" href="legacy_8hpp.html#aa5e2103df0f2cbeed031406d416d1bf5">CvStereoLineCoeff</a>;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503 
<a name="l00504"></a><a class="code" href="struct_cv_camera.html">00504</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_camera.html">CvCamera</a>
<a name="l00505"></a>00505 {
<a name="l00506"></a><a class="code" href="struct_cv_camera.html#a9c640598804a3a64825e73b9456725a6">00506</a>     <span class="keywordtype">float</span>   <a class="code" href="struct_cv_camera.html#a9c640598804a3a64825e73b9456725a6">imgSize</a>[2]; <span class="comment">/* size of the camera view, used during calibration */</span>
<a name="l00507"></a><a class="code" href="struct_cv_camera.html#a59f4e88cb77d0659b7721fdb221857e2">00507</a>     <span class="keywordtype">float</span>   <a class="code" href="struct_cv_camera.html#a59f4e88cb77d0659b7721fdb221857e2">matrix</a>[9]; <span class="comment">/* intinsic camera parameters:  [ fx 0 cx; 0 fy cy; 0 0 1 ] */</span>
<a name="l00508"></a><a class="code" href="struct_cv_camera.html#a042d0f5498714b8ccbc42edb6dc6d3f4">00508</a>     <span class="keywordtype">float</span>   <a class="code" href="struct_cv_camera.html#a042d0f5498714b8ccbc42edb6dc6d3f4">distortion</a>[4]; <span class="comment">/* distortion coefficients - two coefficients for radial distortion</span>
<a name="l00509"></a>00509 <span class="comment">                              and another two for tangential: [ k1 k2 p1 p2 ] */</span>
<a name="l00510"></a><a class="code" href="struct_cv_camera.html#a2948313899fc0f26610cc228039240ec">00510</a>     <span class="keywordtype">float</span>   <a class="code" href="struct_cv_camera.html#a2948313899fc0f26610cc228039240ec">rotMatr</a>[9];
<a name="l00511"></a><a class="code" href="struct_cv_camera.html#ab4671992d1b78e26994418f1845727b4">00511</a>     <span class="keywordtype">float</span>   <a class="code" href="struct_cv_camera.html#ab4671992d1b78e26994418f1845727b4">transVect</a>[3]; <span class="comment">/* rotation matrix and transition vector relatively</span>
<a name="l00512"></a>00512 <span class="comment">                             to some reference point in the space. */</span>
<a name="l00513"></a>00513 } <a class="code" href="legacy_8hpp.html#ac2c76ad24ef00a1f6b8f127e5cc8bda3">CvCamera</a>;
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="struct_cv_stereo_camera.html">00515</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>
<a name="l00516"></a>00516 {
<a name="l00517"></a><a class="code" href="struct_cv_stereo_camera.html#a646135b970708db9393e08ecb874f4bb">00517</a>     <a class="code" href="struct_cv_camera.html">CvCamera</a>* <a class="code" href="struct_cv_stereo_camera.html#a646135b970708db9393e08ecb874f4bb">camera</a>[2]; <span class="comment">/* two individual camera parameters */</span>
<a name="l00518"></a><a class="code" href="struct_cv_stereo_camera.html#a0f1d899929ee07b59c06fd8284efd18e">00518</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_stereo_camera.html#a0f1d899929ee07b59c06fd8284efd18e">fundMatr</a>[9]; <span class="comment">/* fundamental matrix */</span>
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="comment">/* New part for stereo */</span>
<a name="l00521"></a><a class="code" href="struct_cv_stereo_camera.html#ab227708bf261abc8636eb58921a56700">00521</a>     <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a> <a class="code" href="struct_cv_stereo_camera.html#ab227708bf261abc8636eb58921a56700">epipole</a>[2];
<a name="l00522"></a><a class="code" href="struct_cv_stereo_camera.html#a1aa915655877e47f119825c0cace5473">00522</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="struct_cv_stereo_camera.html#a1aa915655877e47f119825c0cace5473">quad</a>[2][4]; <span class="comment">/* coordinates of destination quadrangle after</span>
<a name="l00523"></a>00523 <span class="comment">                                epipolar geometry rectification */</span>
<a name="l00524"></a><a class="code" href="struct_cv_stereo_camera.html#af05376d0e7e361967522b14fd53373bf">00524</a>     <span class="keywordtype">double</span> <a class="code" href="struct_cv_stereo_camera.html#af05376d0e7e361967522b14fd53373bf">coeffs</a>[2][3][3];<span class="comment">/* coefficients for transformation */</span>
<a name="l00525"></a><a class="code" href="struct_cv_stereo_camera.html#a5ada188887f9bfc33613d7db15fd3e32">00525</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="struct_cv_stereo_camera.html#a5ada188887f9bfc33613d7db15fd3e32">border</a>[2][4];
<a name="l00526"></a><a class="code" href="struct_cv_stereo_camera.html#a16dc53a1985f186e6dbc225a1d2c4682">00526</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="struct_cv_stereo_camera.html#a16dc53a1985f186e6dbc225a1d2c4682">warpSize</a>;
<a name="l00527"></a><a class="code" href="struct_cv_stereo_camera.html#a6587d80e1b870ec32bc9dfeda92f9949">00527</a>     <a class="code" href="struct_cv_stereo_line_coeff.html">CvStereoLineCoeff</a>* <a class="code" href="struct_cv_stereo_camera.html#a6587d80e1b870ec32bc9dfeda92f9949">lineCoeffs</a>;
<a name="l00528"></a><a class="code" href="struct_cv_stereo_camera.html#a202102897e4fc1c3b2000b1d537851fd">00528</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_camera.html#a202102897e4fc1c3b2000b1d537851fd">needSwapCameras</a>;<span class="comment">/* flag set to 1 if need to swap cameras for good reconstruction */</span>
<a name="l00529"></a><a class="code" href="struct_cv_stereo_camera.html#a98e5355c4ccd0d4aa747685e28cbd11b">00529</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_stereo_camera.html#a98e5355c4ccd0d4aa747685e28cbd11b">rotMatrix</a>[9];
<a name="l00530"></a><a class="code" href="struct_cv_stereo_camera.html#a65ab68375811fdefe09ef829c51629ef">00530</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_stereo_camera.html#a65ab68375811fdefe09ef829c51629ef">transVector</a>[3];
<a name="l00531"></a>00531 } <a class="code" href="legacy_8hpp.html#a0e3b7d30067a48aef31009f6f407c32d">CvStereoCamera</a>;
<a name="l00532"></a>00532 
<a name="l00533"></a>00533 
<a name="l00534"></a><a class="code" href="struct_cv_contour_orientation.html">00534</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_contour_orientation.html">CvContourOrientation</a>
<a name="l00535"></a>00535 {
<a name="l00536"></a><a class="code" href="struct_cv_contour_orientation.html#a3f6701ea11acb69489338bbf15f11351">00536</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_contour_orientation.html#a3f6701ea11acb69489338bbf15f11351">egvals</a>[2];
<a name="l00537"></a><a class="code" href="struct_cv_contour_orientation.html#aacc93a6f3fcd4acc5ffc82c0be7342d3">00537</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_contour_orientation.html#aacc93a6f3fcd4acc5ffc82c0be7342d3">egvects</a>[4];
<a name="l00538"></a>00538 
<a name="l00539"></a><a class="code" href="struct_cv_contour_orientation.html#ad8eae1d7da57b3a437d764d0f23c8439">00539</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_contour_orientation.html#a3aea985f00b691ec5be8f20b297dd65f">max</a>, <a class="code" href="struct_cv_contour_orientation.html#ad8eae1d7da57b3a437d764d0f23c8439">min</a>; <span class="comment">// minimum and maximum projections</span>
<a name="l00540"></a><a class="code" href="struct_cv_contour_orientation.html#ad0a335d9dafce7f86dfc9d4177260722">00540</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_contour_orientation.html#ac0c9962e410023716079eb0e11f90b52">imax</a>, <a class="code" href="struct_cv_contour_orientation.html#ad0a335d9dafce7f86dfc9d4177260722">imin</a>;
<a name="l00541"></a>00541 } <a class="code" href="legacy_8hpp.html#a86cd7e46575509097cf4bc5e0d92e542">CvContourOrientation</a>;
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 <span class="preprocessor">#define CV_CAMERA_TO_WARP 1</span>
<a name="l00544"></a>00544 <span class="preprocessor"></span><span class="preprocessor">#define CV_WARP_TO_CAMERA 2</span>
<a name="l00545"></a>00545 <span class="preprocessor"></span>
<a name="l00546"></a>00546 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvConvertWarpCoordinates(<span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a0bfd859c5268424809118f8d404a9105">coeffs</a>[3][3],
<a name="l00547"></a><a class="code" href="legacy_8hpp.html#a8d7bab5233ec8baf00fe1d64a7f84750">00547</a>                                 <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* <a class="code" href="legacy_8hpp.html#a04aa906f479b87722d95309bd612f26f">cameraPoint</a>,
<a name="l00548"></a>00548                                 <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* <a class="code" href="legacy_8hpp.html#a8d7bab5233ec8baf00fe1d64a7f84750">warpPoint</a>,
<a name="l00549"></a>00549                                 <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a886d551d5381dc3e53f17825ffc51641">direction</a>);
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetSymPoint3D(  <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> pointCorner,
<a name="l00552"></a><a class="code" href="legacy_8hpp.html#a7629bed6910996bff68d5ca444d49454">00552</a>                             <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a8ccbeb5e11516176b8290d39310664a0">point1</a>,
<a name="l00553"></a>00553                             <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a33b548dacdb4c24b6e7dd251dcf638c1">point2</a>,
<a name="l00554"></a>00554                             <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> *<a class="code" href="legacy_8hpp.html#a7629bed6910996bff68d5ca444d49454">pointSym2</a>);
<a name="l00555"></a>00555 
<a name="l00556"></a><a class="code" href="legacy_8hpp.html#ae895c2003a87eda49126845b7ac3688e">00556</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetPieceLength3D(<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> point1,<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> point2,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#ae895c2003a87eda49126845b7ac3688e">dist</a>);
<a name="l00557"></a>00557 
<a name="l00558"></a><a class="code" href="legacy_8hpp.html#a5c1566552733b40c41abae3210910ccb">00558</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvCompute3DPoint(    <span class="keywordtype">double</span> <a class="code" href="calib3d_8hpp.html#a95fc8341ca418bc06b36160632af6d47">alpha</a>,<span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#aeef80b803646578b205becf142d444d6">betta</a>,
<a name="l00559"></a>00559                             <a class="code" href="struct_cv_stereo_line_coeff.html">CvStereoLineCoeff</a>* coeffs,
<a name="l00560"></a>00560                             <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#a5c1566552733b40c41abae3210910ccb">point</a>);
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvCreateConvertMatrVect( <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#af2dc649293d3eec5304fadc8d8961202">rotMatr1</a>,
<a name="l00563"></a><a class="code" href="legacy_8hpp.html#a85a38a4b2004cb63b1bc7ef25d31c07e">00563</a>                                 <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#afd7bef5e4a25ad3b4db3c1c3fec6a6fe">transVect1</a>,
<a name="l00564"></a>00564                                 <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#ae87f86070bf276aa63f5fd5783e91ef0">rotMatr2</a>,
<a name="l00565"></a>00565                                 <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#a85a38a4b2004cb63b1bc7ef25d31c07e">transVect2</a>,
<a name="l00566"></a>00566                                 <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#ae1312cc0f25e2922a89c9ee703d6e524">convRotMatr</a>,
<a name="l00567"></a>00567                                 <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#abc2ab361c2589cc567adf3e10ac61934">convTransVect</a>);
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvConvertPointSystem(<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>  M2,
<a name="l00570"></a><a class="code" href="legacy_8hpp.html#ad789acae5dd33057b903e8a14e9f1e21">00570</a>                             <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#add86b9f088e2445e8d7709562f4d78dd">M1</a>,
<a name="l00571"></a>00571                             <span class="keywordtype">double</span>*     <a class="code" href="calib3d_8hpp.html#a35a11ed99b21a1dc615e57378188030b">rotMatr</a>,
<a name="l00572"></a>00572                             <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#ad789acae5dd33057b903e8a14e9f1e21">transVect</a>
<a name="l00573"></a>00573                             );
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvComputeCoeffForStereo(  <a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>* stereoCamera);
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="legacy_8hpp.html#a4dddbafd93517de7e35258768882167a">00577</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetCrossPieceVector(<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> p1_start,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#a57b7bbabc4d4b0830d43afc8edc763ce">p1_end</a>,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#a4dddbafd93517de7e35258768882167a">v2_start</a>,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#a487474c0bf6a4666d603eb2d675067ad">v2_end</a>,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> *<a class="code" href="legacy_8hpp.html#a1b4d01742c4690d2818387ff1a39ca12">cross</a>);
<a name="l00578"></a><a class="code" href="legacy_8hpp.html#aaed7591dd18d92f8033f952b64ae30f5">00578</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetCrossLineDirect(<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> p1,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#aaed7591dd18d92f8033f952b64ae30f5">p2</a>,<span class="keywordtype">float</span> <a class="code" href="legacy_8hpp.html#a1031d0e0a97a340abfe0a6ab9e831045">a</a>,<span class="keywordtype">float</span> <a class="code" href="legacy_8hpp.html#ac04272e8ca865b8fba18d36edae9fd2a">b</a>,<span class="keywordtype">float</span> <a class="code" href="legacy_8hpp.html#a1971420173e06f45845eed2ab4e3d5d0">c</a>,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* cross);
<a name="l00579"></a>00579 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">float</span>) icvDefinePointPosition(<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> point1,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> point2,<a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> point);
<a name="l00580"></a>00580 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvStereoCalibration( <span class="keywordtype">int</span> numImages,
<a name="l00581"></a><a class="code" href="legacy_8hpp.html#aa703c09dea45d9153472bb0d358118e8">00581</a>                             <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#ab953f81b46e1170d561008bc8cc243f3">nums</a>,
<a name="l00582"></a>00582                             <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#a190127ac383c0871da9bddc06739c5d6">imageSize</a>,
<a name="l00583"></a>00583                             <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* <a class="code" href="legacy_8hpp.html#a1fab7c9759b3734a2ac43eb441015472">imagePoints1</a>,
<a name="l00584"></a>00584                             <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* <a class="code" href="legacy_8hpp.html#af1bb66912b6713873b999ccfc11053f2">imagePoints2</a>,
<a name="l00585"></a>00585                             <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a>* <a class="code" href="legacy_8hpp.html#a705ea64e4dea0952cfcffa9dcc5ba0d8">objectPoints</a>,
<a name="l00586"></a>00586                             <a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>* <a class="code" href="legacy_8hpp.html#aa703c09dea45d9153472bb0d358118e8">stereoparams</a>
<a name="l00587"></a>00587                            );
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvComputeRestStereoParams(<a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a> *stereoparams);
<a name="l00591"></a>00591 
<a name="l00592"></a><a class="code" href="legacy_8hpp.html#aae97d4742fe38c96e76a147e4556768b">00592</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvComputePerspectiveMap( const <span class="keywordtype">double</span> coeffs[3][3], <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#ac2657e864b757d44f94bc313f7abf2d7">rectMapX</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#aae97d4742fe38c96e76a147e4556768b">rectMapY</a> );
<a name="l00593"></a>00593 
<a name="l00594"></a>00594 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvComCoeffForLine(   <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point1,
<a name="l00595"></a><a class="code" href="legacy_8hpp.html#af2dc649293d3eec5304fadc8d8961202">00595</a>                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point2,
<a name="l00596"></a>00596                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a469f9d7dcaaec681cade3fff36d7ac4c">point3</a>,
<a name="l00597"></a>00597                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a4efa61b6221492e3fa737c458370dca4">point4</a>,
<a name="l00598"></a>00598                             <span class="keywordtype">double</span>*    <a class="code" href="legacy_8hpp.html#a1424b5389c31ff8f9996d387824cab87">camMatr1</a>,
<a name="l00599"></a>00599                             <span class="keywordtype">double</span>*    rotMatr1,
<a name="l00600"></a>00600                             <span class="keywordtype">double</span>*    transVect1,
<a name="l00601"></a>00601                             <span class="keywordtype">double</span>*    <a class="code" href="legacy_8hpp.html#a4d432b4a4eb48196633cebc1e5018c9e">camMatr2</a>,
<a name="l00602"></a>00602                             <span class="keywordtype">double</span>*    rotMatr2,
<a name="l00603"></a>00603                             <span class="keywordtype">double</span>*    transVect2,
<a name="l00604"></a>00604                             <a class="code" href="struct_cv_stereo_line_coeff.html">CvStereoLineCoeff</a>*    coeffs,
<a name="l00605"></a>00605                             <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#a09e9213c943a897f93f05debec4c702f">needSwapCameras</a>);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetDirectionForPoint(  <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point,
<a name="l00608"></a><a class="code" href="legacy_8hpp.html#ad69ac9128602723f9d1cf1b1b3e5f468">00608</a>                                 <span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#a6833a3c778760c9dd36d01fe5371072c">camMatr</a>,
<a name="l00609"></a>00609                                 <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#ad69ac9128602723f9d1cf1b1b3e5f468">direct</a>);
<a name="l00610"></a>00610 
<a name="l00611"></a><a class="code" href="legacy_8hpp.html#a72b12a638f88d5b35c1c40918eff9e46">00611</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetCrossLines(<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#ab0e5ed8bfa67db9c8b60afc88d252f61">point11</a>,<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a7e035e87948a6761270222c5fa78f06a">point12</a>,
<a name="l00612"></a>00612                        <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a28cf262c6e2e075278517521c175037e">point21</a>,<a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a72b12a638f88d5b35c1c40918eff9e46">point22</a>,
<a name="l00613"></a>00613                        <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#a412e57150660ee36034f849e9c5d9b1e">midPoint</a>);
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvComputeStereoLineCoeffs(   <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> pointA,
<a name="l00616"></a><a class="code" href="legacy_8hpp.html#a40ac417c326622988583b3a9a813cc55">00616</a>                                     <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a7a68212a84224941109004500a170235">pointB</a>,
<a name="l00617"></a>00617                                     <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> <a class="code" href="legacy_8hpp.html#a40ac417c326622988583b3a9a813cc55">pointCam1</a>,
<a name="l00618"></a>00618                                     <span class="keywordtype">double</span> <a class="code" href="core__c_8h.html#a8e2b334f37aeebfb12dc05106294a198">gamma</a>,
<a name="l00619"></a>00619                                     <a class="code" href="struct_cv_stereo_line_coeff.html">CvStereoLineCoeff</a>*    coeffs);
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 <span class="comment">/*CVAPI(int) icvComputeFundMatrEpipoles ( double* camMatr1,</span>
<a name="l00622"></a>00622 <span class="comment">                                    double*     rotMatr1,</span>
<a name="l00623"></a>00623 <span class="comment">                                    double*     transVect1,</span>
<a name="l00624"></a>00624 <span class="comment">                                    double*     camMatr2,</span>
<a name="l00625"></a>00625 <span class="comment">                                    double*     rotMatr2,</span>
<a name="l00626"></a>00626 <span class="comment">                                    double*     transVect2,</span>
<a name="l00627"></a>00627 <span class="comment">                                    CvPoint2D64f* epipole1,</span>
<a name="l00628"></a>00628 <span class="comment">                                    CvPoint2D64f* epipole2,</span>
<a name="l00629"></a>00629 <span class="comment">                                    double*     fundMatr);*/</span>
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) icvGetAngleLine( <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> startPoint, <a class="code" href="struct_cv_size.html">CvSize</a> imageSize,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *point1,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *point2);
<a name="l00632"></a>00632 
<a name="l00633"></a><a class="code" href="legacy_8hpp.html#a0bb77d54f6769867cfdf389897bd8e43">00633</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCoefForPiece(   <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> p_start,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a1e12cda84da768e6e6c0c7cdcccc1ad1">p_end</a>,
<a name="l00634"></a>00634                         <span class="keywordtype">double</span> *a,<span class="keywordtype">double</span> *b,<span class="keywordtype">double</span> *c,
<a name="l00635"></a>00635                         <span class="keywordtype">int</span>* <a class="code" href="core__c_8h.html#a14871c176a686a03035b5f2bbc72a63f">result</a>);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637 <span class="comment">/*CVAPI(void) icvGetCommonArea( CvSize imageSize,</span>
<a name="l00638"></a>00638 <span class="comment">                    CvPoint2D64f epipole1,CvPoint2D64f epipole2,</span>
<a name="l00639"></a>00639 <span class="comment">                    double* fundMatr,</span>
<a name="l00640"></a>00640 <span class="comment">                    double* coeff11,double* coeff12,</span>
<a name="l00641"></a>00641 <span class="comment">                    double* coeff21,double* coeff22,</span>
<a name="l00642"></a>00642 <span class="comment">                    int* result);*/</span>
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvComputeeInfiniteProject1(<span class="keywordtype">double</span>*    rotMatr,
<a name="l00645"></a>00645                                      <span class="keywordtype">double</span>*    camMatr1,
<a name="l00646"></a>00646                                      <span class="keywordtype">double</span>*    camMatr2,
<a name="l00647"></a>00647                                      <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> point1,
<a name="l00648"></a>00648                                      <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> *point2);
<a name="l00649"></a>00649 
<a name="l00650"></a>00650 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvComputeeInfiniteProject2(<span class="keywordtype">double</span>*    rotMatr,
<a name="l00651"></a>00651                                      <span class="keywordtype">double</span>*    camMatr1,
<a name="l00652"></a>00652                                      <span class="keywordtype">double</span>*    camMatr2,
<a name="l00653"></a>00653                                      <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* point1,
<a name="l00654"></a>00654                                      <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> point2);
<a name="l00655"></a>00655 
<a name="l00656"></a><a class="code" href="legacy_8hpp.html#ac07fe01fdc00b83f63fc6d3ac00dd100">00656</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCrossDirectDirect(  <span class="keywordtype">double</span>* direct1,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#ac07fe01fdc00b83f63fc6d3ac00dd100">direct2</a>,
<a name="l00657"></a>00657                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *cross,<span class="keywordtype">int</span>* result);
<a name="l00658"></a>00658 
<a name="l00659"></a>00659 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCrossPieceDirect(   <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> p_start,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> p_end,
<a name="l00660"></a>00660                             <span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b,<span class="keywordtype">double</span> c,
<a name="l00661"></a>00661                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *cross,<span class="keywordtype">int</span>* result);
<a name="l00662"></a>00662 
<a name="l00663"></a><a class="code" href="legacy_8hpp.html#a403c02fe31c6c4bbbf86a5acf5432382">00663</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCrossPiecePiece( <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> p1_start,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> p1_end,
<a name="l00664"></a>00664                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a403c02fe31c6c4bbbf86a5acf5432382">p2_start</a>,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a1e71f33b901f6ea6a8bc717e4c44c311">p2_end</a>,
<a name="l00665"></a>00665                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* cross,
<a name="l00666"></a>00666                             <span class="keywordtype">int</span>* result);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetPieceLength(<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point1,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point2,<span class="keywordtype">double</span>* dist);
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCrossRectDirect(    <a class="code" href="struct_cv_size.html">CvSize</a> imageSize,
<a name="l00671"></a><a class="code" href="legacy_8hpp.html#a7e7356db167a8b78d03c01efc265b638">00671</a>                             <span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b,<span class="keywordtype">double</span> c,
<a name="l00672"></a>00672                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *<a class="code" href="core__c_8h.html#a45314566a84a31f43e6435d1eb24d4ec">start</a>,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> *<a class="code" href="core__c_8h.html#a338bddb6320c8e898e204d6273af2d67">end</a>,
<a name="l00673"></a>00673                             <span class="keywordtype">int</span>* result);
<a name="l00674"></a>00674 
<a name="l00675"></a>00675 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvProjectPointToImage(   <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a> point,
<a name="l00676"></a><a class="code" href="legacy_8hpp.html#a3280fcdf46c6a1d417fbbe3d5f0d7906">00676</a>                             <span class="keywordtype">double</span>* camMatr,<span class="keywordtype">double</span>* rotMatr,<span class="keywordtype">double</span>* transVect,
<a name="l00677"></a>00677                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* <a class="code" href="legacy_8hpp.html#a3280fcdf46c6a1d417fbbe3d5f0d7906">projPoint</a>);
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetQuadsTransform( <a class="code" href="struct_cv_size.html">CvSize</a>        imageSize,
<a name="l00680"></a><a class="code" href="legacy_8hpp.html#aa80dc9d8702386dac7fbb06311306e4f">00680</a>                         <span class="keywordtype">double</span>*     camMatr1,
<a name="l00681"></a>00681                         <span class="keywordtype">double</span>*     rotMatr1,
<a name="l00682"></a>00682                         <span class="keywordtype">double</span>*     transVect1,
<a name="l00683"></a>00683                         <span class="keywordtype">double</span>*     camMatr2,
<a name="l00684"></a>00684                         <span class="keywordtype">double</span>*     rotMatr2,
<a name="l00685"></a>00685                         <span class="keywordtype">double</span>*     transVect2,
<a name="l00686"></a>00686                         <a class="code" href="struct_cv_size.html">CvSize</a>*       <a class="code" href="legacy_8hpp.html#aa80dc9d8702386dac7fbb06311306e4f">warpSize</a>,
<a name="l00687"></a>00687                         <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a3488b929b553c414867cf862fe1eba0c">quad1</a>[4][2],
<a name="l00688"></a>00688                         <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a38a586e4637b95b9cd03c2590dbde40e">quad2</a>[4][2],
<a name="l00689"></a>00689                         <span class="keywordtype">double</span>*     <a class="code" href="legacy_8hpp.html#aeb50ebc144d295156c731b2d0a501a69">fundMatr</a>,
<a name="l00690"></a>00690                         <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#a1b748fda9378890ecac9b88ab22ce45a">epipole1</a>,
<a name="l00691"></a>00691                         <a class="code" href="struct_cv_point3_d64f.html">CvPoint3D64f</a>* <a class="code" href="legacy_8hpp.html#ab9c0a0523331f5b70297a1910d7b8082">epipole2</a>
<a name="l00692"></a>00692                         );
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetQuadsTransformStruct(  <a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>* stereoCamera);
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvComputeStereoParamsForCameras(<a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>* stereoCamera);
<a name="l00697"></a>00697 
<a name="l00698"></a><a class="code" href="legacy_8hpp.html#ab0e5ed8bfa67db9c8b60afc88d252f61">00698</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetCutPiece(   <span class="keywordtype">double</span>* areaLineCoef1,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#a3bb38f5e8d4d349a8ff3a7c5104fbd64">areaLineCoef2</a>,
<a name="l00699"></a>00699                     <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> <a class="code" href="legacy_8hpp.html#a0439020e70df2fe000e3790f61aef225">epipole</a>,
<a name="l00700"></a>00700                     <a class="code" href="struct_cv_size.html">CvSize</a> imageSize,
<a name="l00701"></a>00701                     <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* point11,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* point12,
<a name="l00702"></a>00702                     <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* point21,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* point22,
<a name="l00703"></a>00703                     <span class="keywordtype">int</span>* result);
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetMiddleAnglePoint(   <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> basePoint,
<a name="l00706"></a>00706                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point1,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point2,
<a name="l00707"></a>00707                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* midPoint);
<a name="l00708"></a>00708 
<a name="l00709"></a><a class="code" href="legacy_8hpp.html#afc794dfaf159224d6bd6dee7a7ce1640">00709</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetNormalDirect(<span class="keywordtype">double</span>* direct,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#afc794dfaf159224d6bd6dee7a7ce1640">normDirect</a>);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">double</span>) icvGetVect(<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> basePoint,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point1,<a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point2);
<a name="l00712"></a>00712 
<a name="l00713"></a><a class="code" href="legacy_8hpp.html#a6e65f7f63a272d1a9c7d2785a76757bb">00713</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvProjectPointToDirect(  <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#afc64c9905f74bf8bdf93d880e12e292a">lineCoeff</a>,
<a name="l00714"></a>00714                             <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a>* <a class="code" href="legacy_8hpp.html#a6e65f7f63a272d1a9c7d2785a76757bb">projectPoint</a>);
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="legacy_8hpp.html#a382b9a891c51e7ff56aeeb869693566a">00716</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) icvGetDistanceFromPointToDirect( <a class="code" href="struct_cv_point2_d64f.html">CvPoint2D64f</a> point,<span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#a382b9a891c51e7ff56aeeb869693566a">lineCoef</a>,<span class="keywordtype">double</span>*dist);
<a name="l00717"></a>00717 
<a name="l00718"></a><a class="code" href="legacy_8hpp.html#aba50b74b0193212b45629dbc430b5ba7">00718</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct___ipl_image.html">IplImage</a>*) icvCreateIsometricImage( <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a>,
<a name="l00719"></a>00719                               <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a12d095e499dbc4937d9a3f707b6b4a46">desired_depth</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#afdef99a50da24095e306521e3a1083a9">desired_num_channels</a> );
<a name="l00720"></a>00720 
<a name="l00721"></a><a class="code" href="legacy_8hpp.html#a1515a1225dbedd8186db12d748dfba2e">00721</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvDeInterlace( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="core__c_8h.html#a0430deaafd9043e478f306e33961299d">frame</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a1434cd26d28eeb0d2e7ddd3e2906ec21">fieldEven</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a1515a1225dbedd8186db12d748dfba2e">fieldOdd</a> );
<a name="l00722"></a>00722 
<a name="l00723"></a>00723 <span class="comment">/*CVAPI(int) icvSelectBestRt(           int           numImages,</span>
<a name="l00724"></a>00724 <span class="comment">                                    int*          numPoints,</span>
<a name="l00725"></a>00725 <span class="comment">                                    CvSize        imageSize,</span>
<a name="l00726"></a>00726 <span class="comment">                                    CvPoint2D32f* imagePoints1,</span>
<a name="l00727"></a>00727 <span class="comment">                                    CvPoint2D32f* imagePoints2,</span>
<a name="l00728"></a>00728 <span class="comment">                                    CvPoint3D32f* objectPoints,</span>
<a name="l00729"></a>00729 <span class="comment"></span>
<a name="l00730"></a>00730 <span class="comment">                                    CvMatr32f     cameraMatrix1,</span>
<a name="l00731"></a>00731 <span class="comment">                                    CvVect32f     distortion1,</span>
<a name="l00732"></a>00732 <span class="comment">                                    CvMatr32f     rotMatrs1,</span>
<a name="l00733"></a>00733 <span class="comment">                                    CvVect32f     transVects1,</span>
<a name="l00734"></a>00734 <span class="comment"></span>
<a name="l00735"></a>00735 <span class="comment">                                    CvMatr32f     cameraMatrix2,</span>
<a name="l00736"></a>00736 <span class="comment">                                    CvVect32f     distortion2,</span>
<a name="l00737"></a>00737 <span class="comment">                                    CvMatr32f     rotMatrs2,</span>
<a name="l00738"></a>00738 <span class="comment">                                    CvVect32f     transVects2,</span>
<a name="l00739"></a>00739 <span class="comment"></span>
<a name="l00740"></a>00740 <span class="comment">                                    CvMatr32f     bestRotMatr,</span>
<a name="l00741"></a>00741 <span class="comment">                                    CvVect32f     bestTransVect</span>
<a name="l00742"></a>00742 <span class="comment">                                    );*/</span>
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 
<a name="l00745"></a>00745 <span class="comment">/****************************************************************************************\</span>
<a name="l00746"></a>00746 <span class="comment">*                                     Contour Tree                                       *</span>
<a name="l00747"></a>00747 <span class="comment">\****************************************************************************************/</span>
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 <span class="comment">/* Contour tree header */</span>
<a name="l00750"></a><a class="code" href="struct_cv_contour_tree.html">00750</a> typedef struct <a class="code" href="struct_cv_contour_tree.html">CvContourTree</a>
<a name="l00751"></a>00751 {
<a name="l00752"></a>00752     CV_SEQUENCE_FIELDS()
<a name="l00753"></a>00753     <a class="code" href="struct_cv_point.html">CvPoint</a> p1;            <span class="comment">/* the first point of the binary tree root segment */</span>
<a name="l00754"></a><a class="code" href="struct_cv_contour_tree.html#aa2e801818ebee167017c5dc7c7148858">00754</a>     <a class="code" href="struct_cv_point.html">CvPoint</a> <a class="code" href="struct_cv_contour_tree.html#aa2e801818ebee167017c5dc7c7148858">p2</a>;            <span class="comment">/* the last point of the binary tree root segment */</span>
<a name="l00755"></a>00755 } <a class="code" href="legacy_8hpp.html#a4909af2a612e3d00da2147710d792e88">CvContourTree</a>;
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 <span class="comment">/* Builds hierarhical representation of a contour */</span>
<a name="l00758"></a>00758 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_contour_tree.html">CvContourTree</a>*)  cvCreateContourTree( const <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour,
<a name="l00759"></a><a class="code" href="legacy_8hpp.html#ad486c230317acbbf60577b15e027dc73">00759</a>                                             <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage,
<a name="l00760"></a>00760                                             <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#ad486c230317acbbf60577b15e027dc73">threshold</a> );
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 <span class="comment">/* Reconstruct (completelly or partially) contour a from contour tree */</span>
<a name="l00763"></a>00763 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_seq.html">CvSeq</a>*)  cvContourFromContourTree( const <a class="code" href="struct_cv_contour_tree.html">CvContourTree</a>* tree,
<a name="l00764"></a><a class="code" href="legacy_8hpp.html#a9fed6107e6362cd1a16f1feddb62f7a7">00764</a>                                          <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage,
<a name="l00765"></a>00765                                          <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a> <a class="code" href="calib3d_8hpp.html#ac10fcea99ab081e745366c6f5bbc8eb5">criteria</a> );
<a name="l00766"></a>00766 
<a name="l00767"></a>00767 <span class="comment">/* Compares two contour trees */</span>
<a name="l00768"></a><a class="code" href="legacy_8hpp.html#a22a181a370d3ab8aa40e77637fb5a2f9acfc46ef1ffa04dfd08c75215c12c5896">00768</a> enum { <a class="code" href="legacy_8hpp.html#a22a181a370d3ab8aa40e77637fb5a2f9acfc46ef1ffa04dfd08c75215c12c5896">CV_CONTOUR_TREES_MATCH_I1</a> = 1 };
<a name="l00769"></a>00769 
<a name="l00770"></a>00770 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">double</span>)  cvMatchContourTrees( const <a class="code" href="struct_cv_contour_tree.html">CvContourTree</a>* tree1,
<a name="l00771"></a><a class="code" href="legacy_8hpp.html#a9e22aaa090c4e608e861a4006a1b41f6">00771</a>                                     const <a class="code" href="struct_cv_contour_tree.html">CvContourTree</a>* <a class="code" href="legacy_8hpp.html#a9e22aaa090c4e608e861a4006a1b41f6">tree2</a>,
<a name="l00772"></a>00772                                     <span class="keywordtype">int</span> <a class="code" href="imgproc__c_8h.html#ab9b9819cc20b34aa0ae2bfa4486e7a65">method</a>, <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#ad486c230317acbbf60577b15e027dc73">threshold</a> );
<a name="l00773"></a>00773 
<a name="l00774"></a>00774 <span class="comment">/****************************************************************************************\</span>
<a name="l00775"></a>00775 <span class="comment">*                                   Contour Morphing                                     *</span>
<a name="l00776"></a>00776 <span class="comment">\****************************************************************************************/</span>
<a name="l00777"></a>00777 
<a name="l00778"></a>00778 <span class="comment">/* finds correspondence between two contours */</span>
<a name="l00779"></a>00779 <a class="code" href="struct_cv_seq.html">CvSeq</a>* <a class="code" href="legacy_8hpp.html#ae44eec0faec0b5d89d007a92056703fd">cvCalcContoursCorrespondence</a>( const <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour1,
<a name="l00780"></a>00780                                      const <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour2,
<a name="l00781"></a>00781                                      <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage);
<a name="l00782"></a>00782 
<a name="l00783"></a>00783 <span class="comment">/* morphs contours using the pre-calculated correspondence:</span>
<a name="l00784"></a>00784 <span class="comment">   alpha=0 ~ contour1, alpha=1 ~ contour2 */</span>
<a name="l00785"></a>00785 <a class="code" href="struct_cv_seq.html">CvSeq</a>* <a class="code" href="legacy_8hpp.html#af8121d3b71e99ee5b462ecbe94e787ac">cvMorphContours</a>( const <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour1, const <a class="code" href="struct_cv_seq.html">CvSeq</a>* contour2,
<a name="l00786"></a>00786                         <a class="code" href="struct_cv_seq.html">CvSeq</a>* corr, <span class="keywordtype">double</span> <a class="code" href="calib3d_8hpp.html#a95fc8341ca418bc06b36160632af6d47">alpha</a>,
<a name="l00787"></a>00787                         <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage );
<a name="l00788"></a>00788 
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 <span class="comment">/****************************************************************************************\</span>
<a name="l00791"></a>00791 <span class="comment">*                                   Active Contours                                      *</span>
<a name="l00792"></a>00792 <span class="comment">\****************************************************************************************/</span>
<a name="l00793"></a>00793 
<a name="l00794"></a>00794 <span class="preprocessor">#define  CV_VALUE  1</span>
<a name="l00795"></a>00795 <span class="preprocessor"></span><span class="preprocessor">#define  CV_ARRAY  2</span>
<a name="l00796"></a>00796 <span class="preprocessor"></span><span class="comment">/* Updates active contour in order to minimize its cummulative</span>
<a name="l00797"></a>00797 <span class="comment">   (internal and external) energy. */</span>
<a name="l00798"></a><a class="code" href="legacy_8hpp.html#af3d3501df8d4a7709563cbde8029e104">00798</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvSnakeImage( const <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="highgui__c_8h.html#a35b1e6246c0baa4fe7c8a916316d3adc">image</a>, <a class="code" href="struct_cv_point.html">CvPoint</a>* points,
<a name="l00799"></a>00799                            <span class="keywordtype">int</span>  <a class="code" href="legacy_8hpp.html#ae6e9777096c69325d9685fc0a8430685">length</a>, <span class="keywordtype">float</span>* alpha,
<a name="l00800"></a>00800                            <span class="keywordtype">float</span>* <a class="code" href="core__c_8h.html#a4bf45595b7df91ad095c49cf02ddee05">beta</a>, <span class="keywordtype">float</span>* <a class="code" href="core__c_8h.html#a8e2b334f37aeebfb12dc05106294a198">gamma</a>,
<a name="l00801"></a>00801                            <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a269d9263e9ab090600325096eb4a3baf">coeff_usage</a>, <a class="code" href="struct_cv_size.html">CvSize</a>  <a class="code" href="imgproc__c_8h.html#a31d2e5a438a6bb322126274298e0023a">win</a>,
<a name="l00802"></a>00802                            <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a> <a class="code" href="calib3d_8hpp.html#ac10fcea99ab081e745366c6f5bbc8eb5">criteria</a>, <span class="keywordtype">int</span> calc_gradient <a class="code" href="calib3d_8hpp.html#a726902e5e18dc93fc15fb57cca02e646">CV_DEFAULT</a>(1));
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 <span class="comment">/****************************************************************************************\</span>
<a name="l00805"></a>00805 <span class="comment">*                                    Texture Descriptors                                 *</span>
<a name="l00806"></a>00806 <span class="comment">\****************************************************************************************/</span>
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 <span class="preprocessor">#define CV_GLCM_OPTIMIZATION_NONE                   -2</span>
<a name="l00809"></a>00809 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCM_OPTIMIZATION_LUT                    -1</span>
<a name="l00810"></a>00810 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCM_OPTIMIZATION_HISTOGRAM              0</span>
<a name="l00811"></a>00811 <span class="preprocessor"></span>
<a name="l00812"></a>00812 <span class="preprocessor">#define CV_GLCMDESC_OPTIMIZATION_ALLOWDOUBLENEST    10</span>
<a name="l00813"></a>00813 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_OPTIMIZATION_ALLOWTRIPLENEST    11</span>
<a name="l00814"></a>00814 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_OPTIMIZATION_HISTOGRAM          4</span>
<a name="l00815"></a>00815 <span class="preprocessor"></span>
<a name="l00816"></a>00816 <span class="preprocessor">#define CV_GLCMDESC_ENTROPY                         0</span>
<a name="l00817"></a>00817 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_ENERGY                          1</span>
<a name="l00818"></a>00818 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_HOMOGENITY                      2</span>
<a name="l00819"></a>00819 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CONTRAST                        3</span>
<a name="l00820"></a>00820 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CLUSTERTENDENCY                 4</span>
<a name="l00821"></a>00821 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CLUSTERSHADE                    5</span>
<a name="l00822"></a>00822 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CORRELATION                     6</span>
<a name="l00823"></a>00823 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CORRELATIONINFO1                7</span>
<a name="l00824"></a>00824 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_CORRELATIONINFO2                8</span>
<a name="l00825"></a>00825 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCMDESC_MAXIMUMPROBABILITY              9</span>
<a name="l00826"></a>00826 <span class="preprocessor"></span>
<a name="l00827"></a>00827 <span class="preprocessor">#define CV_GLCM_ALL                                 0</span>
<a name="l00828"></a>00828 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCM_GLCM                                1</span>
<a name="l00829"></a>00829 <span class="preprocessor"></span><span class="preprocessor">#define CV_GLCM_DESC                                2</span>
<a name="l00830"></a>00830 <span class="preprocessor"></span>
<a name="l00831"></a><a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">00831</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a> <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>;
<a name="l00832"></a>00832 
<a name="l00833"></a>00833 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>*) cvCreateGLCM( const <a class="code" href="struct___ipl_image.html">IplImage</a>* srcImage,
<a name="l00834"></a><a class="code" href="legacy_8hpp.html#a3903e46d8dfd25bab94c040066ebfefe">00834</a>                                 <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a3903e46d8dfd25bab94c040066ebfefe">stepMagnitude</a>,
<a name="l00835"></a>00835                                 const <span class="keywordtype">int</span>* stepDirections CV_DEFAULT(0),
<a name="l00836"></a>00836                                 <span class="keywordtype">int</span> numStepDirections CV_DEFAULT(0),
<a name="l00837"></a>00837                                 <span class="keywordtype">int</span> optimizationType CV_DEFAULT(CV_GLCM_OPTIMIZATION_NONE));
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseGLCM( <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>** GLCM, <span class="keywordtype">int</span> flag CV_DEFAULT(CV_GLCM_ALL));
<a name="l00840"></a>00840 
<a name="l00841"></a>00841 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvCreateGLCMDescriptors( <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>* destGLCM,
<a name="l00842"></a>00842                                         <span class="keywordtype">int</span> descriptorOptimizationType
<a name="l00843"></a>00843                                         CV_DEFAULT(CV_GLCMDESC_OPTIMIZATION_ALLOWDOUBLENEST));
<a name="l00844"></a>00844 
<a name="l00845"></a><a class="code" href="legacy_8hpp.html#abc16e65f240ed0c8f3e876e8732c0a33">00845</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">double</span>) cvGetGLCMDescriptor( <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>* GLCM, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#abc16e65f240ed0c8f3e876e8732c0a33">step</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#afbe0a70d4d8f0e3df77ec516d0926b23">descriptor</a> );
<a name="l00846"></a>00846 
<a name="l00847"></a><a class="code" href="legacy_8hpp.html#a5d22b8a056ea3453a4b2633068b45b70">00847</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvGetGLCMDescriptorStatistics( <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>* GLCM, <span class="keywordtype">int</span> descriptor,
<a name="l00848"></a>00848                                               <span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#aac567cce8d17b67670954f144f6595d4">average</a>, <span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#a5d22b8a056ea3453a4b2633068b45b70">standardDeviation</a> );
<a name="l00849"></a>00849 
<a name="l00850"></a>00850 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct___ipl_image.html">IplImage</a>*) cvCreateGLCMImage( <a class="code" href="legacy_8hpp.html#adc7723c22ab75641815f997c6e032394">CvGLCM</a>* GLCM, <span class="keywordtype">int</span> step );
<a name="l00851"></a>00851 
<a name="l00852"></a>00852 <span class="comment">/****************************************************************************************\</span>
<a name="l00853"></a>00853 <span class="comment">*                                  Face eyes&amp;mouth tracking                              *</span>
<a name="l00854"></a>00854 <span class="comment">\****************************************************************************************/</span>
<a name="l00855"></a>00855 
<a name="l00856"></a>00856 
<a name="l00857"></a><a class="code" href="legacy_8hpp.html#a5d41da9d87272eddf91066e6006ca4f2">00857</a> typedef struct <a class="code" href="legacy_8hpp.html#a5d41da9d87272eddf91066e6006ca4f2">CvFaceTracker</a> <a class="code" href="legacy_8hpp.html#a5d41da9d87272eddf91066e6006ca4f2">CvFaceTracker</a>;
<a name="l00858"></a>00858 
<a name="l00859"></a>00859 <span class="preprocessor">#define CV_NUM_FACE_ELEMENTS    3</span>
<a name="l00860"></a><a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28">00860</a> <span class="preprocessor"></span><span class="keyword">enum</span> <a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28">CV_FACE_ELEMENTS</a>
<a name="l00861"></a>00861 {
<a name="l00862"></a><a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a20fb710550db1d2f8be5109a40df6e89">00862</a>     <a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a20fb710550db1d2f8be5109a40df6e89">CV_FACE_MOUTH</a> = 0,
<a name="l00863"></a><a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a07c758bd872a0c91a04437bda571ee31">00863</a>     <a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a07c758bd872a0c91a04437bda571ee31">CV_FACE_LEFT_EYE</a> = 1,
<a name="l00864"></a><a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a4a2623ecf833efbbc41c5e1a40dc1574">00864</a>     <a class="code" href="legacy_8hpp.html#a6433cb34999b8c8f64a84f295f4d6a28a4a2623ecf833efbbc41c5e1a40dc1574">CV_FACE_RIGHT_EYE</a> = 2
<a name="l00865"></a>00865 };
<a name="l00866"></a>00866 
<a name="l00867"></a><a class="code" href="legacy_8hpp.html#a7ed3a49b00f39e97818e1e3d98ff8ec4">00867</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(CvFaceTracker*) cvInitFaceTracker(CvFaceTracker* pFaceTracking, const <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a3259d2796e4e43279552cbed676ba881">imgGray</a>,
<a name="l00868"></a>00868                                                 <a class="code" href="struct_cv_rect.html">CvRect</a>* <a class="code" href="legacy_8hpp.html#a7ed3a49b00f39e97818e1e3d98ff8ec4">pRects</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a13a1c7b300bb487549530e7411f1a8b2">nRects</a>);
<a name="l00869"></a><a class="code" href="legacy_8hpp.html#a8c0809067f0c5fd1a62031fd9a7b7040">00869</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) cvTrackFace( CvFaceTracker* pFaceTracker, <a class="code" href="struct___ipl_image.html">IplImage</a>* imgGray,
<a name="l00870"></a>00870                               <a class="code" href="struct_cv_rect.html">CvRect</a>* pRects, <span class="keywordtype">int</span> nRects,
<a name="l00871"></a>00871                               <a class="code" href="struct_cv_point.html">CvPoint</a>* <a class="code" href="legacy_8hpp.html#a8c0809067f0c5fd1a62031fd9a7b7040">ptRotate</a>, <span class="keywordtype">double</span>* <a class="code" href="legacy_8hpp.html#a3bcc7bc55890bf6c666edb2e0ff05b27">dbAngleRotate</a>);
<a name="l00872"></a>00872 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseFaceTracker(CvFaceTracker** ppFaceTracker);
<a name="l00873"></a>00873 
<a name="l00874"></a>00874 
<a name="l00875"></a><a class="code" href="struct_cv_face.html">00875</a> typedef struct <a class="code" href="struct_cv_face.html">CvFace</a>
<a name="l00876"></a>00876 {
<a name="l00877"></a><a class="code" href="struct_cv_face.html#af9e59f64d8b4ff74be6481ee4a6eda0b">00877</a>     <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="struct_cv_face.html#af9e59f64d8b4ff74be6481ee4a6eda0b">MouthRect</a>;
<a name="l00878"></a><a class="code" href="struct_cv_face.html#a1552b64b4ff72137d3b3a3f31d87c315">00878</a>     <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="struct_cv_face.html#a1552b64b4ff72137d3b3a3f31d87c315">LeftEyeRect</a>;
<a name="l00879"></a><a class="code" href="struct_cv_face.html#ae39fc3ffa37e59363fc3c2bf81d80b06">00879</a>     <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="struct_cv_face.html#ae39fc3ffa37e59363fc3c2bf81d80b06">RightEyeRect</a>;
<a name="l00880"></a>00880 } <a class="code" href="legacy_8hpp.html#a0455edc04974c078840473f4be232317">CvFaceData</a>;
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 <a class="code" href="struct_cv_seq.html">CvSeq</a> * <a class="code" href="legacy_8hpp.html#a6b38a64c0d39f89db5cc5cdbec25e158">cvFindFace</a>(<a class="code" href="struct___ipl_image.html">IplImage</a> * Image,<a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage);
<a name="l00883"></a>00883 <a class="code" href="struct_cv_seq.html">CvSeq</a> * <a class="code" href="legacy_8hpp.html#a18674abb5c17e432cd07d4d91fc25817">cvPostBoostingFindFace</a>(<a class="code" href="struct___ipl_image.html">IplImage</a> * Image,<a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage);
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 
<a name="l00886"></a>00886 <span class="comment">/****************************************************************************************\</span>
<a name="l00887"></a>00887 <span class="comment">*                                         3D Tracker                                     *</span>
<a name="l00888"></a>00888 <span class="comment">\****************************************************************************************/</span>
<a name="l00889"></a>00889 
<a name="l00890"></a><a class="code" href="legacy_8hpp.html#a05234b9731fdb4f89630aad4c254c105">00890</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="legacy_8hpp.html#a05234b9731fdb4f89630aad4c254c105">CvBool</a>;
<a name="l00891"></a>00891 
<a name="l00892"></a><a class="code" href="struct_cv3d_tracker2d_tracked_object.html">00892</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv3d_tracker2d_tracked_object.html">Cv3dTracker2dTrackedObject</a>
<a name="l00893"></a>00893 {
<a name="l00894"></a><a class="code" href="struct_cv3d_tracker2d_tracked_object.html#ae8506973231f03c325859c9d3e6e11fe">00894</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv3d_tracker2d_tracked_object.html#ae8506973231f03c325859c9d3e6e11fe">id</a>;
<a name="l00895"></a><a class="code" href="struct_cv3d_tracker2d_tracked_object.html#a6547dda87ebd39274bdd54869e504fd3">00895</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="struct_cv3d_tracker2d_tracked_object.html#a6547dda87ebd39274bdd54869e504fd3">p</a>; <span class="comment">// pgruebele: So we do not loose precision, this needs to be float</span>
<a name="l00896"></a>00896 } <a class="code" href="legacy_8hpp.html#a437d4005824d369b4de2b689c7452014">Cv3dTracker2dTrackedObject</a>;
<a name="l00897"></a>00897 
<a name="l00898"></a><a class="code" href="legacy_8hpp.html#adc2f99f26b3e7d2748dacbe1ac20c7fb">00898</a> CV_INLINE <a class="code" href="struct_cv3d_tracker2d_tracked_object.html">Cv3dTracker2dTrackedObject</a> <a class="code" href="legacy_8hpp.html#adc2f99f26b3e7d2748dacbe1ac20c7fb">cv3dTracker2dTrackedObject</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> p)
<a name="l00899"></a>00899 {
<a name="l00900"></a>00900     <a class="code" href="struct_cv3d_tracker2d_tracked_object.html">Cv3dTracker2dTrackedObject</a> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a>;
<a name="l00901"></a>00901     r.<a class="code" href="struct_cv3d_tracker2d_tracked_object.html#ae8506973231f03c325859c9d3e6e11fe">id</a> = id;
<a name="l00902"></a>00902     r.<a class="code" href="struct_cv3d_tracker2d_tracked_object.html#a6547dda87ebd39274bdd54869e504fd3">p</a> = p;
<a name="l00903"></a>00903     <span class="keywordflow">return</span> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a>;
<a name="l00904"></a>00904 }
<a name="l00905"></a>00905 
<a name="l00906"></a><a class="code" href="struct_cv3d_tracker_tracked_object.html">00906</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv3d_tracker_tracked_object.html">Cv3dTrackerTrackedObject</a>
<a name="l00907"></a>00907 {
<a name="l00908"></a><a class="code" href="struct_cv3d_tracker_tracked_object.html#ae9f2abd95cf68322777a0944201dccdc">00908</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv3d_tracker_tracked_object.html#ae9f2abd95cf68322777a0944201dccdc">id</a>;
<a name="l00909"></a><a class="code" href="struct_cv3d_tracker_tracked_object.html#a406b9a7685966c258801d7b451a9f41e">00909</a>     <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a> <a class="code" href="struct_cv3d_tracker_tracked_object.html#a406b9a7685966c258801d7b451a9f41e">p</a>;             <span class="comment">// location of the tracked object</span>
<a name="l00910"></a>00910 } <a class="code" href="legacy_8hpp.html#a0e0925c5f3d0752de6fa7e9d947e498a">Cv3dTrackerTrackedObject</a>;
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="legacy_8hpp.html#a1d7d7199c30a6fa688c0b83c8c3576c2">00912</a> CV_INLINE <a class="code" href="struct_cv3d_tracker_tracked_object.html">Cv3dTrackerTrackedObject</a> <a class="code" href="legacy_8hpp.html#a1d7d7199c30a6fa688c0b83c8c3576c2">cv3dTrackerTrackedObject</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <a class="code" href="struct_cv_point3_d32f.html">CvPoint3D32f</a> p)
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914     <a class="code" href="struct_cv3d_tracker_tracked_object.html">Cv3dTrackerTrackedObject</a> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a>;
<a name="l00915"></a>00915     r.<a class="code" href="struct_cv3d_tracker_tracked_object.html#ae9f2abd95cf68322777a0944201dccdc">id</a> = id;
<a name="l00916"></a>00916     r.<a class="code" href="struct_cv3d_tracker_tracked_object.html#a406b9a7685966c258801d7b451a9f41e">p</a> = p;
<a name="l00917"></a>00917     <span class="keywordflow">return</span> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a>;
<a name="l00918"></a>00918 }
<a name="l00919"></a>00919 
<a name="l00920"></a><a class="code" href="struct_cv3d_tracker_camera_info.html">00920</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv3d_tracker_camera_info.html">Cv3dTrackerCameraInfo</a>
<a name="l00921"></a>00921 {
<a name="l00922"></a><a class="code" href="struct_cv3d_tracker_camera_info.html#adc4a63ad78f2d9eda45418c1a37cc3f2">00922</a>     CvBool <a class="code" href="struct_cv3d_tracker_camera_info.html#adc4a63ad78f2d9eda45418c1a37cc3f2">valid</a>;
<a name="l00923"></a><a class="code" href="struct_cv3d_tracker_camera_info.html#a73da8b3a6d20e7857eeb4eb68bce974c">00923</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv3d_tracker_camera_info.html#a73da8b3a6d20e7857eeb4eb68bce974c">mat</a>[4][4];              <span class="comment">/* maps camera coordinates to world coordinates */</span>
<a name="l00924"></a><a class="code" href="struct_cv3d_tracker_camera_info.html#a95df78ef4b1e23eb238fe8544d06b322">00924</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="struct_cv3d_tracker_camera_info.html#a95df78ef4b1e23eb238fe8544d06b322">principal_point</a>; <span class="comment">/* copied from intrinsics so this structure */</span>
<a name="l00925"></a>00925                                   <span class="comment">/* has all the info we need */</span>
<a name="l00926"></a>00926 } <a class="code" href="legacy_8hpp.html#ac1b11d6e54a8a92cd7277d05aa4b3d49">Cv3dTrackerCameraInfo</a>;
<a name="l00927"></a>00927 
<a name="l00928"></a><a class="code" href="struct_cv3d_tracker_camera_intrinsics.html">00928</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv3d_tracker_camera_intrinsics.html">Cv3dTrackerCameraIntrinsics</a>
<a name="l00929"></a>00929 {
<a name="l00930"></a><a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a31643cf1da19093b320317ba4339a09a">00930</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a31643cf1da19093b320317ba4339a09a">principal_point</a>;
<a name="l00931"></a><a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a9996c0e6e05b81b97ed6182ba2a31206">00931</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a9996c0e6e05b81b97ed6182ba2a31206">focal_length</a>[2];
<a name="l00932"></a><a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a7df407e5654176fd372d2cc951c5270a">00932</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv3d_tracker_camera_intrinsics.html#a7df407e5654176fd372d2cc951c5270a">distortion</a>[4];
<a name="l00933"></a>00933 } <a class="code" href="legacy_8hpp.html#a79fedd9928069208edca7e00c2cd6d50">Cv3dTrackerCameraIntrinsics</a>;
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(CvBool) cv3dTrackerCalibrateCameras(<span class="keywordtype">int</span> num_cameras,
<a name="l00936"></a><a class="code" href="legacy_8hpp.html#a7069a7b9c76cbd30478cc085dbc07837">00936</a>                      const <a class="code" href="struct_cv3d_tracker_camera_intrinsics.html">Cv3dTrackerCameraIntrinsics</a> <a class="code" href="legacy_8hpp.html#a11333cdf27f9960224187a57e5e35418">camera_intrinsics</a>[], <span class="comment">/* size is num_cameras */</span>
<a name="l00937"></a>00937                      <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#aece1750d494fa2151477fe4782a51e3a">etalon_size</a>,
<a name="l00938"></a>00938                      <span class="keywordtype">float</span> <a class="code" href="legacy_8hpp.html#a7069a7b9c76cbd30478cc085dbc07837">square_size</a>,
<a name="l00939"></a>00939                      <a class="code" href="struct___ipl_image.html">IplImage</a> *<a class="code" href="legacy_8hpp.html#a4fd80ec44eadba9c1fc910f5132046b6">samples</a>[],                                   <span class="comment">/* size is num_cameras */</span>
<a name="l00940"></a>00940                      <a class="code" href="struct_cv3d_tracker_camera_info.html">Cv3dTrackerCameraInfo</a> <a class="code" href="legacy_8hpp.html#a18041250ba45ad969193cd6eab35142e">camera_info</a>[]);                  <span class="comment">/* size is num_cameras */</span>
<a name="l00941"></a>00941 
<a name="l00942"></a><a class="code" href="legacy_8hpp.html#af034737fff0decf3d838e4f538c785d6">00942</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>)  cv3dTrackerLocateObjects(<span class="keywordtype">int</span> num_cameras, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#ab000eabbed09cacdd40b5585dd784e55">num_objects</a>,
<a name="l00943"></a>00943                    const <a class="code" href="struct_cv3d_tracker_camera_info.html">Cv3dTrackerCameraInfo</a> camera_info[],        <span class="comment">/* size is num_cameras */</span>
<a name="l00944"></a>00944                    const <a class="code" href="struct_cv3d_tracker2d_tracked_object.html">Cv3dTracker2dTrackedObject</a> <a class="code" href="legacy_8hpp.html#af034737fff0decf3d838e4f538c785d6">tracking_info</a>[], <span class="comment">/* size is num_objects*num_cameras */</span>
<a name="l00945"></a>00945                    <a class="code" href="struct_cv3d_tracker_tracked_object.html">Cv3dTrackerTrackedObject</a> <a class="code" href="legacy_8hpp.html#af615ee57b9de43f205b6f3aec97506c5">tracked_objects</a>[]);      <span class="comment">/* size is num_objects */</span>
<a name="l00946"></a>00946 <span class="comment">/****************************************************************************************</span>
<a name="l00947"></a>00947 <span class="comment"> tracking_info is a rectangular array; one row per camera, num_objects elements per row.</span>
<a name="l00948"></a>00948 <span class="comment"> The id field of any unused slots must be -1. Ids need not be ordered or consecutive. On</span>
<a name="l00949"></a>00949 <span class="comment"> completion, the return value is the number of objects located; i.e., the number of objects</span>
<a name="l00950"></a>00950 <span class="comment"> visible by more than one camera. The id field of any unused slots in tracked objects is</span>
<a name="l00951"></a>00951 <span class="comment"> set to -1.</span>
<a name="l00952"></a>00952 <span class="comment">****************************************************************************************/</span>
<a name="l00953"></a>00953 
<a name="l00954"></a>00954 
<a name="l00955"></a>00955 <span class="comment">/****************************************************************************************\</span>
<a name="l00956"></a>00956 <span class="comment">*                           Skeletons and Linear-Contour Models                          *</span>
<a name="l00957"></a>00957 <span class="comment">\****************************************************************************************/</span>
<a name="l00958"></a>00958 
<a name="l00959"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0">00959</a> typedef enum <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0">CvLeeParameters</a>
<a name="l00960"></a>00960 {
<a name="l00961"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a9bf5f968581fcfedb62e66b093f700e2">00961</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a9bf5f968581fcfedb62e66b093f700e2">CV_LEE_INT</a> = 0,
<a name="l00962"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a744069209d0cd98d32e3a4012994d576">00962</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a744069209d0cd98d32e3a4012994d576">CV_LEE_FLOAT</a> = 1,
<a name="l00963"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a3c6f4b5c3e47911a27a5670ee78f2d8c">00963</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a3c6f4b5c3e47911a27a5670ee78f2d8c">CV_LEE_DOUBLE</a> = 2,
<a name="l00964"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0ae551aadfb114dec118871ecdfbf37fd1">00964</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0ae551aadfb114dec118871ecdfbf37fd1">CV_LEE_AUTO</a> = -1,
<a name="l00965"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0ab88f75064c2d0c610002d25e7aca5e96">00965</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0ab88f75064c2d0c610002d25e7aca5e96">CV_LEE_ERODE</a> = 0,
<a name="l00966"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a2e352c4a568ccae9094f6eda0058d85a">00966</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a2e352c4a568ccae9094f6eda0058d85a">CV_LEE_ZOOM</a> = 1,
<a name="l00967"></a><a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a47adffa0a12a190aed3179f2b98b934c">00967</a>     <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a47adffa0a12a190aed3179f2b98b934c">CV_LEE_NON</a> = 2
<a name="l00968"></a>00968 } <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0">CvLeeParameters</a>;
<a name="l00969"></a>00969 
<a name="l00970"></a>00970 <span class="preprocessor">#define CV_NEXT_VORONOISITE2D( SITE ) ((SITE)-&gt;edge[0]-&gt;site[((SITE)-&gt;edge[0]-&gt;site[0] == (SITE))])</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span><span class="preprocessor">#define CV_PREV_VORONOISITE2D( SITE ) ((SITE)-&gt;edge[1]-&gt;site[((SITE)-&gt;edge[1]-&gt;site[0] == (SITE))])</span>
<a name="l00972"></a>00972 <span class="preprocessor"></span><span class="preprocessor">#define CV_FIRST_VORONOIEDGE2D( SITE ) ((SITE)-&gt;edge[0])</span>
<a name="l00973"></a>00973 <span class="preprocessor"></span><span class="preprocessor">#define CV_LAST_VORONOIEDGE2D( SITE ) ((SITE)-&gt;edge[1])</span>
<a name="l00974"></a>00974 <span class="preprocessor"></span><span class="preprocessor">#define CV_NEXT_VORONOIEDGE2D( EDGE, SITE ) ((EDGE)-&gt;next[(EDGE)-&gt;site[0] != (SITE)])</span>
<a name="l00975"></a>00975 <span class="preprocessor"></span><span class="preprocessor">#define CV_PREV_VORONOIEDGE2D( EDGE, SITE ) ((EDGE)-&gt;next[2 + ((EDGE)-&gt;site[0] != (SITE))])</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span><span class="preprocessor">#define CV_VORONOIEDGE2D_BEGINNODE( EDGE, SITE ) ((EDGE)-&gt;node[((EDGE)-&gt;site[0] != (SITE))])</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span><span class="preprocessor">#define CV_VORONOIEDGE2D_ENDNODE( EDGE, SITE ) ((EDGE)-&gt;node[((EDGE)-&gt;site[0] == (SITE))])</span>
<a name="l00978"></a>00978 <span class="preprocessor"></span><span class="preprocessor">#define CV_TWIN_VORONOISITE2D( SITE, EDGE ) ( (EDGE)-&gt;site[((EDGE)-&gt;site[0] == (SITE))])</span>
<a name="l00979"></a>00979 <span class="preprocessor"></span>
<a name="l00980"></a>00980 <span class="preprocessor">#define CV_VORONOISITE2D_FIELDS()    \</span>
<a name="l00981"></a>00981 <span class="preprocessor">    struct CvVoronoiNode2D *node[2]; \</span>
<a name="l00982"></a>00982 <span class="preprocessor">    struct CvVoronoiEdge2D *edge[2];</span>
<a name="l00983"></a>00983 <span class="preprocessor"></span>
<a name="l00984"></a><a class="code" href="struct_cv_voronoi_site2_d.html">00984</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_voronoi_site2_d.html">CvVoronoiSite2D</a>
<a name="l00985"></a>00985 {
<a name="l00986"></a>00986     <a class="code" href="struct_cv_voronoi_site2_d.html#ab0c7698768fc22d93734b6a63fd43241">CV_VORONOISITE2D_FIELDS</a>()
<a name="l00987"></a>00987     <span class="keyword">struct </span><a class="code" href="struct_cv_voronoi_site2_d.html">CvVoronoiSite2D</a> *<a class="code" href="tracking_8hpp.html#a271d716db1f200e7bc0483683c5c7fa7">next</a>[2];
<a name="l00988"></a>00988 } <a class="code" href="legacy_8hpp.html#ab28df0c8ca7cb830a78d0f0464b4476a">CvVoronoiSite2D</a>;
<a name="l00989"></a>00989 
<a name="l00990"></a>00990 <span class="preprocessor">#define CV_VORONOIEDGE2D_FIELDS()    \</span>
<a name="l00991"></a>00991 <span class="preprocessor">    struct CvVoronoiNode2D *node[2]; \</span>
<a name="l00992"></a>00992 <span class="preprocessor">    struct CvVoronoiSite2D *site[2]; \</span>
<a name="l00993"></a>00993 <span class="preprocessor">    struct CvVoronoiEdge2D *next[4];</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span>
<a name="l00995"></a><a class="code" href="struct_cv_voronoi_edge2_d.html">00995</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_voronoi_edge2_d.html">CvVoronoiEdge2D</a>
<a name="l00996"></a>00996 {
<a name="l00997"></a>00997     CV_VORONOIEDGE2D_FIELDS()
<a name="l00998"></a>00998 } <a class="code" href="legacy_8hpp.html#a9dfae54f7aa0ebe6c42fc4b0f6e9905f">CvVoronoiEdge2D</a>;
<a name="l00999"></a>00999 
<a name="l01000"></a>01000 <span class="preprocessor">#define CV_VORONOINODE2D_FIELDS()       \</span>
<a name="l01001"></a>01001 <span class="preprocessor">    CV_SET_ELEM_FIELDS(CvVoronoiNode2D) \</span>
<a name="l01002"></a>01002 <span class="preprocessor">    CvPoint2D32f pt;                    \</span>
<a name="l01003"></a>01003 <span class="preprocessor">    float radius;</span>
<a name="l01004"></a>01004 <span class="preprocessor"></span>
<a name="l01005"></a><a class="code" href="struct_cv_voronoi_node2_d.html">01005</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_voronoi_node2_d.html">CvVoronoiNode2D</a>
<a name="l01006"></a>01006 {
<a name="l01007"></a>01007     CV_VORONOINODE2D_FIELDS()
<a name="l01008"></a>01008 } <a class="code" href="legacy_8hpp.html#a1c8f27ea784819de45adf77250125025">CvVoronoiNode2D</a>;
<a name="l01009"></a>01009 
<a name="l01010"></a>01010 <span class="preprocessor">#define CV_VORONOIDIAGRAM2D_FIELDS() \</span>
<a name="l01011"></a>01011 <span class="preprocessor">    CV_GRAPH_FIELDS()                \</span>
<a name="l01012"></a>01012 <span class="preprocessor">    CvSet *sites;</span>
<a name="l01013"></a>01013 <span class="preprocessor"></span>
<a name="l01014"></a><a class="code" href="struct_cv_voronoi_diagram2_d.html">01014</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_voronoi_diagram2_d.html">CvVoronoiDiagram2D</a>
<a name="l01015"></a>01015 {
<a name="l01016"></a>01016     CV_VORONOIDIAGRAM2D_FIELDS()
<a name="l01017"></a>01017 } <a class="code" href="legacy_8hpp.html#a68a301e804d1c99f03888b39d0a8f1c5">CvVoronoiDiagram2D</a>;
<a name="l01018"></a>01018 
<a name="l01019"></a>01019 <span class="comment">/* Computes Voronoi Diagram for given polygons with holes */</span>
<a name="l01020"></a>01020 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>)  cvVoronoiDiagramFromContour(<a class="code" href="struct_cv_seq.html">CvSeq</a>* <a class="code" href="legacy_8hpp.html#aa172d5dff8ee44cd025eb461ef35c166">ContourSeq</a>,
<a name="l01021"></a><a class="code" href="legacy_8hpp.html#ac2d5aa8ebd1bf0181db07472522dc106">01021</a>                                            <a class="code" href="struct_cv_voronoi_diagram2_d.html">CvVoronoiDiagram2D</a>** <a class="code" href="legacy_8hpp.html#ae1e2d4f1710603c50e0e8fbd010f9050">VoronoiDiagram</a>,
<a name="l01022"></a>01022                                            <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* <a class="code" href="legacy_8hpp.html#ac2d5aa8ebd1bf0181db07472522dc106">VoronoiStorage</a>,
<a name="l01023"></a>01023                                            <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0">CvLeeParameters</a> contour_type CV_DEFAULT(<a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a9bf5f968581fcfedb62e66b093f700e2">CV_LEE_INT</a>),
<a name="l01024"></a>01024                                            <span class="keywordtype">int</span> contour_orientation CV_DEFAULT(-1),
<a name="l01025"></a>01025                                            <span class="keywordtype">int</span> attempt_number CV_DEFAULT(10));
<a name="l01026"></a>01026 
<a name="l01027"></a>01027 <span class="comment">/* Computes Voronoi Diagram for domains in given image */</span>
<a name="l01028"></a>01028 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>)  cvVoronoiDiagramFromImage(<a class="code" href="struct___ipl_image.html">IplImage</a>* pImage,
<a name="l01029"></a><a class="code" href="legacy_8hpp.html#aa172d5dff8ee44cd025eb461ef35c166">01029</a>                                          <a class="code" href="struct_cv_seq.html">CvSeq</a>** ContourSeq,
<a name="l01030"></a>01030                                          <a class="code" href="struct_cv_voronoi_diagram2_d.html">CvVoronoiDiagram2D</a>** VoronoiDiagram,
<a name="l01031"></a>01031                                          <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* VoronoiStorage,
<a name="l01032"></a>01032                                          <a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0">CvLeeParameters</a> regularization_method CV_DEFAULT(<a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0a47adffa0a12a190aed3179f2b98b934c">CV_LEE_NON</a>),
<a name="l01033"></a>01033                                          <span class="keywordtype">float</span> approx_precision CV_DEFAULT(<a class="code" href="legacy_8hpp.html#a7df4e23ecc0260452b8bb4fa7eb5b8a0ae551aadfb114dec118871ecdfbf37fd1">CV_LEE_AUTO</a>));
<a name="l01034"></a>01034 
<a name="l01035"></a>01035 <span class="comment">/* Deallocates the storage */</span>
<a name="l01036"></a>01036 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseVoronoiStorage(<a class="code" href="struct_cv_voronoi_diagram2_d.html">CvVoronoiDiagram2D</a>* VoronoiDiagram,
<a name="l01037"></a><a class="code" href="legacy_8hpp.html#aa01e7a9e22cadd2c72f4c74d56bb5dd2">01037</a>                                           <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>** <a class="code" href="legacy_8hpp.html#aa01e7a9e22cadd2c72f4c74d56bb5dd2">pVoronoiStorage</a>);
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 <span class="comment">/*********************** Linear-Contour Model ****************************/</span>
<a name="l01040"></a>01040 
<a name="l01041"></a>01041 struct <a class="code" href="struct_cv_l_c_m_edge.html">CvLCMEdge</a>;
<a name="l01042"></a>01042 struct <a class="code" href="struct_cv_l_c_m_node.html">CvLCMNode</a>;
<a name="l01043"></a>01043 
<a name="l01044"></a><a class="code" href="struct_cv_l_c_m_edge.html">01044</a> typedef struct CvLCMEdge
<a name="l01045"></a>01045 {
<a name="l01046"></a>01046     CV_GRAPH_EDGE_FIELDS()
<a name="l01047"></a>01047     <a class="code" href="struct_cv_seq.html">CvSeq</a>* chain;
<a name="l01048"></a><a class="code" href="struct_cv_l_c_m_edge.html#a019d5f8b6bfa42e85f385114abd24c30">01048</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_l_c_m_edge.html#a019d5f8b6bfa42e85f385114abd24c30">width</a>;
<a name="l01049"></a><a class="code" href="struct_cv_l_c_m_edge.html#a19882fbafe5b891442ab22e062cbf3cb">01049</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_l_c_m_edge.html#a19882fbafe5b891442ab22e062cbf3cb">index1</a>;
<a name="l01050"></a><a class="code" href="struct_cv_l_c_m_edge.html#a6ec313d5a401998156b8f58e203c4fc8">01050</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_l_c_m_edge.html#a6ec313d5a401998156b8f58e203c4fc8">index2</a>;
<a name="l01051"></a>01051 } <a class="code" href="legacy_8hpp.html#a440dc72415708fe1b4de2b8475c89b41">CvLCMEdge</a>;
<a name="l01052"></a>01052 
<a name="l01053"></a><a class="code" href="struct_cv_l_c_m_node.html">01053</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_l_c_m_node.html">CvLCMNode</a>
<a name="l01054"></a>01054 {
<a name="l01055"></a>01055     <a class="code" href="struct_cv_l_c_m_node.html#a7f5c3cb943ae6b700a11db57ff875c42">CV_GRAPH_VERTEX_FIELDS</a>()
<a name="l01056"></a>01056     <a class="code" href="struct_cv_contour.html">CvContour</a>* <a class="code" href="core__c_8h.html#adbc53f0a2ae231f4fb30fb213be65a50">contour</a>;
<a name="l01057"></a>01057 } <a class="code" href="legacy_8hpp.html#add5362e43f3c6e4441ae001d29197fda">CvLCMNode</a>;
<a name="l01058"></a>01058 
<a name="l01059"></a>01059 
<a name="l01060"></a>01060 <span class="comment">/* Computes hybrid model from Voronoi Diagram */</span>
<a name="l01061"></a>01061 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_graph.html">CvGraph</a>*) cvLinearContorModelFromVoronoiDiagram(<a class="code" href="struct_cv_voronoi_diagram2_d.html">CvVoronoiDiagram2D</a>* <a class="code" href="legacy_8hpp.html#ae1e2d4f1710603c50e0e8fbd010f9050">VoronoiDiagram</a>,
<a name="l01062"></a><a class="code" href="legacy_8hpp.html#ac0743ca9cd0c0dd648bdae08b9e15b4d">01062</a>                                                          <span class="keywordtype">float</span> <a class="code" href="legacy_8hpp.html#ac0743ca9cd0c0dd648bdae08b9e15b4d">maxWidth</a>);
<a name="l01063"></a>01063 
<a name="l01064"></a>01064 <span class="comment">/* Releases hybrid model storage */</span>
<a name="l01065"></a>01065 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) cvReleaseLinearContorModelStorage(<a class="code" href="struct_cv_graph.html">CvGraph</a>** Graph);
<a name="l01066"></a>01066 
<a name="l01067"></a>01067 
<a name="l01068"></a>01068 <span class="comment">/* two stereo-related functions */</span>
<a name="l01069"></a>01069 
<a name="l01070"></a><a class="code" href="legacy_8hpp.html#ac8a106041f9639c956b255212cfe857e">01070</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvInitPerspectiveTransform( <a class="code" href="struct_cv_size.html">CvSize</a> size, const <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#ac8a106041f9639c956b255212cfe857e">vertex</a>[4], <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>[3][3],
<a name="l01071"></a>01071                                               <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#af63bea17c11e9c59e78364697ac525b5">rectMap</a> );
<a name="l01072"></a>01072 
<a name="l01073"></a>01073 <span class="comment">/*CVAPI(void) cvInitStereoRectification( CvStereoCamera* params,</span>
<a name="l01074"></a>01074 <span class="comment">                                             CvArr* rectMap1, CvArr* rectMap2,</span>
<a name="l01075"></a>01075 <span class="comment">                                             int do_undistortion );*/</span>
<a name="l01076"></a>01076 
<a name="l01077"></a>01077 <span class="comment">/*************************** View Morphing Functions ************************/</span>
<a name="l01078"></a>01078 
<a name="l01079"></a><a class="code" href="struct_cv_matrix3.html">01079</a> typedef struct <a class="code" href="struct_cv_matrix3.html">CvMatrix3</a>
<a name="l01080"></a>01080 {
<a name="l01081"></a><a class="code" href="struct_cv_matrix3.html#a6c29129422d217bbddb7489cf1333c65">01081</a>     <span class="keywordtype">float</span> m[3][3];
<a name="l01082"></a>01082 } <a class="code" href="legacy_8hpp.html#aa66dda6bc8e582b90fd651779f3f233b">CvMatrix3</a>;
<a name="l01083"></a>01083 
<a name="l01084"></a>01084 <span class="comment">/* The order of the function corresponds to the order they should appear in</span>
<a name="l01085"></a>01085 <span class="comment">   the view morphing pipeline */</span>
<a name="l01086"></a>01086 
<a name="l01087"></a>01087 <span class="comment">/* Finds ending points of scanlines on left and right images of stereo-pair */</span>
<a name="l01088"></a><a class="code" href="legacy_8hpp.html#ae7f4b8340c25cfdfe8927e004bf5b649">01088</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvMakeScanlines( const <a class="code" href="struct_cv_matrix3.html">CvMatrix3</a>* <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>, <a class="code" href="struct_cv_size.html">CvSize</a>  <a class="code" href="calib3d_8hpp.html#a5573e050b99430dd825c80ad319e0cdc">img_size</a>,
<a name="l01089"></a>01089                               <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#a182f635f0dabdbc0abb418c67bc2d37e">scanlines1</a>, <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#ae7f4b8340c25cfdfe8927e004bf5b649">scanlines2</a>,
<a name="l01090"></a>01090                               <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#acf40ba1bc6775deb2406457429135cf4">lengths1</a>, <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#a0212b221f199523b7cb0cc7197627ff8">lengths2</a>,
<a name="l01091"></a>01091                               <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#a85a7c74527411a954d39fad0df7dbcba">line_count</a> );
<a name="l01092"></a>01092 
<a name="l01093"></a>01093 <span class="comment">/* Grab pixel values from scanlines and stores them sequentially</span>
<a name="l01094"></a>01094 <span class="comment">   (some sort of perspective image transform) */</span>
<a name="l01095"></a>01095 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvPreWarpImage( <span class="keywordtype">int</span>       line_count,
<a name="l01096"></a><a class="code" href="legacy_8hpp.html#ad86df585c8eed791d9798bee7bdab058">01096</a>                              <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a>,
<a name="l01097"></a>01097                              <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*    <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a>,
<a name="l01098"></a>01098                              <span class="keywordtype">int</span>*      <a class="code" href="legacy_8hpp.html#a43d5cefd3d8794df0c911e764989f7db">dst_nums</a>,
<a name="l01099"></a>01099                              <span class="keywordtype">int</span>*      <a class="code" href="legacy_8hpp.html#ad86df585c8eed791d9798bee7bdab058">scanlines</a>);
<a name="l01100"></a>01100 
<a name="l01101"></a>01101 <span class="comment">/* Approximate each grabbed scanline by a sequence of runs</span>
<a name="l01102"></a>01102 <span class="comment">   (lossy run-length compression) */</span>
<a name="l01103"></a>01103 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvFindRuns( <span class="keywordtype">int</span>    line_count,
<a name="l01104"></a><a class="code" href="legacy_8hpp.html#a5f5bef921f3193977f082d5b0e43dd69">01104</a>                          <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="legacy_8hpp.html#ae9dc9b0142d392a602e0b582a59f33b2">prewarp1</a>,
<a name="l01105"></a>01105                          <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="legacy_8hpp.html#a3138466f0bd8ca64e1a80afe1a18b660">prewarp2</a>,
<a name="l01106"></a>01106                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#abd4b5277c69833feee0c3203f8e1c402">line_lengths1</a>,
<a name="l01107"></a>01107                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a6e49d11a9aadcd0f67ff480d7f57c296">line_lengths2</a>,
<a name="l01108"></a>01108                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a5c1bc2e12965ee790c82feb65d05871f">runs1</a>,
<a name="l01109"></a>01109                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a5f5bef921f3193977f082d5b0e43dd69">runs2</a>,
<a name="l01110"></a>01110                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a9b96a2122d43fdc24872851d38149168">num_runs1</a>,
<a name="l01111"></a>01111                          <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a93c6304b4299b2044608bd274a2d4500">num_runs2</a>);
<a name="l01112"></a>01112 
<a name="l01113"></a>01113 <span class="comment">/* Compares two sets of compressed scanlines */</span>
<a name="l01114"></a>01114 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvDynamicCorrespondMulti( <span class="keywordtype">int</span>  line_count,
<a name="l01115"></a><a class="code" href="legacy_8hpp.html#aed6677a0a955dc4e719f80e908488bd3">01115</a>                                        <span class="keywordtype">int</span>* <a class="code" href="core__c_8h.html#a1f883233876ef3ed7b1b69454c26c2af">first</a>,
<a name="l01116"></a>01116                                        <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#a91e52fe28de0a8672c97ab63f4bd7fef">first_runs</a>,
<a name="l01117"></a>01117                                        <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#a580692a0f0a0ceba270e5d0ff61df21e">second</a>,
<a name="l01118"></a>01118                                        <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#aed6677a0a955dc4e719f80e908488bd3">second_runs</a>,
<a name="l01119"></a>01119                                        <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#a21fb0c7971bf43b0f77beb47f3bde947">first_corr</a>,
<a name="l01120"></a>01120                                        <span class="keywordtype">int</span>* <a class="code" href="legacy_8hpp.html#ae41d956a9aca03924037f74ee1cf9cbe">second_corr</a>);
<a name="l01121"></a>01121 
<a name="l01122"></a>01122 <span class="comment">/* Finds scanline ending coordinates for some intermediate &quot;virtual&quot; camera position */</span>
<a name="l01123"></a>01123 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvMakeAlphaScanlines( <span class="keywordtype">int</span>*  scanlines1,
<a name="l01124"></a><a class="code" href="legacy_8hpp.html#ab6564833549c150267ff84eade890071">01124</a>                                    <span class="keywordtype">int</span>*  scanlines2,
<a name="l01125"></a>01125                                    <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#ab6564833549c150267ff84eade890071">scanlinesA</a>,
<a name="l01126"></a>01126                                    <span class="keywordtype">int</span>*  <a class="code" href="legacy_8hpp.html#a2d21616fb9be68f3990c13a7bfde0ab1">lengths</a>,
<a name="l01127"></a>01127                                    <span class="keywordtype">int</span>   line_count,
<a name="l01128"></a>01128                                    <span class="keywordtype">float</span> alpha);
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 <span class="comment">/* Blends data of the left and right image scanlines to get</span>
<a name="l01131"></a>01131 <span class="comment">   pixel values of &quot;virtual&quot; image scanlines */</span>
<a name="l01132"></a>01132 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvMorphEpilinesMulti( <span class="keywordtype">int</span>    line_count,
<a name="l01133"></a><a class="code" href="legacy_8hpp.html#a59507bf16b7d84fba16c18412a91b90d">01133</a>                                    <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="legacy_8hpp.html#a99a2571ef877a1fe4fd3fa7abeaf6e6c">first_pix</a>,
<a name="l01134"></a>01134                                    <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a31db1156a45fff4e128e67da31dcfc8b">first_num</a>,
<a name="l01135"></a>01135                                    <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="legacy_8hpp.html#a59507bf16b7d84fba16c18412a91b90d">second_pix</a>,
<a name="l01136"></a>01136                                    <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#ac115e0699a32e51e49d7b269d29a3ba5">second_num</a>,
<a name="l01137"></a>01137                                    <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="legacy_8hpp.html#aea26b9e9200de1b462b7ed96f9bc20ef">dst_pix</a>,
<a name="l01138"></a>01138                                    <span class="keywordtype">int</span>*   <a class="code" href="legacy_8hpp.html#a768b584ca33d28b57d31c580b8f7a9c3">dst_num</a>,
<a name="l01139"></a>01139                                    <span class="keywordtype">float</span>  alpha,
<a name="l01140"></a>01140                                    <span class="keywordtype">int</span>*   first,
<a name="l01141"></a>01141                                    <span class="keywordtype">int</span>*   first_runs,
<a name="l01142"></a>01142                                    <span class="keywordtype">int</span>*   second,
<a name="l01143"></a>01143                                    <span class="keywordtype">int</span>*   second_runs,
<a name="l01144"></a>01144                                    <span class="keywordtype">int</span>*   first_corr,
<a name="l01145"></a>01145                                    <span class="keywordtype">int</span>*   second_corr);
<a name="l01146"></a>01146 
<a name="l01147"></a>01147 <span class="comment">/* Does reverse warping of the morphing result to make</span>
<a name="l01148"></a>01148 <span class="comment">   it fill the destination image rectangle */</span>
<a name="l01149"></a>01149 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvPostWarpImage( <span class="keywordtype">int</span>       line_count,
<a name="l01150"></a><a class="code" href="legacy_8hpp.html#a42c98256fe50addd54af5964a2f9269e">01150</a>                               <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*    <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>,
<a name="l01151"></a>01151                               <span class="keywordtype">int</span>*      <a class="code" href="legacy_8hpp.html#a42c98256fe50addd54af5964a2f9269e">src_nums</a>,
<a name="l01152"></a>01152                               <a class="code" href="struct___ipl_image.html">IplImage</a>* img,
<a name="l01153"></a>01153                               <span class="keywordtype">int</span>*      scanlines);
<a name="l01154"></a>01154 
<a name="l01155"></a>01155 <span class="comment">/* Deletes Moire (missed pixels that appear due to discretization) */</span>
<a name="l01156"></a>01156 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvDeleteMoire( <a class="code" href="struct___ipl_image.html">IplImage</a>*  img );
<a name="l01157"></a>01157 
<a name="l01158"></a>01158 
<a name="l01159"></a><a class="code" href="struct_cv_con_densation.html">01159</a> typedef struct <a class="code" href="struct_cv_con_densation.html">CvConDensation</a>
<a name="l01160"></a>01160 {
<a name="l01161"></a><a class="code" href="struct_cv_con_densation.html#aaf20064b655233feecf1fbb351c8d958">01161</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_con_densation.html#aaf20064b655233feecf1fbb351c8d958">MP</a>;
<a name="l01162"></a><a class="code" href="struct_cv_con_densation.html#a43b9bf49588e345a91c3329e2320de37">01162</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_con_densation.html#a43b9bf49588e345a91c3329e2320de37">DP</a>;
<a name="l01163"></a><a class="code" href="struct_cv_con_densation.html#a511b6ad31e2d2958ba2693299f6f2082">01163</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#a511b6ad31e2d2958ba2693299f6f2082">DynamMatr</a>;       <span class="comment">/* Matrix of the linear Dynamics system  */</span>
<a name="l01164"></a><a class="code" href="struct_cv_con_densation.html#ae20ded637cab2f5d7415914a5c1b1278">01164</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#ae20ded637cab2f5d7415914a5c1b1278">State</a>;           <span class="comment">/* Vector of State                       */</span>
<a name="l01165"></a><a class="code" href="struct_cv_con_densation.html#a5607457e894fd6dc74a3c69d3a608821">01165</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_con_densation.html#a5607457e894fd6dc74a3c69d3a608821">SamplesNum</a>;         <span class="comment">/* Number of the Samples                 */</span>
<a name="l01166"></a><a class="code" href="struct_cv_con_densation.html#a82334e3d4b15191e9d4527ffdd33815c">01166</a>     <span class="keywordtype">float</span>** <a class="code" href="struct_cv_con_densation.html#a82334e3d4b15191e9d4527ffdd33815c">flSamples</a>;      <span class="comment">/* arr of the Sample Vectors             */</span>
<a name="l01167"></a><a class="code" href="struct_cv_con_densation.html#a5d14f16db70d33113b4840eebdee136f">01167</a>     <span class="keywordtype">float</span>** <a class="code" href="struct_cv_con_densation.html#a5d14f16db70d33113b4840eebdee136f">flNewSamples</a>;   <span class="comment">/* temporary array of the Sample Vectors */</span>
<a name="l01168"></a><a class="code" href="struct_cv_con_densation.html#a495e8f03977700a19bbc3096f79ab713">01168</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#a495e8f03977700a19bbc3096f79ab713">flConfidence</a>;    <span class="comment">/* Confidence for each Sample            */</span>
<a name="l01169"></a><a class="code" href="struct_cv_con_densation.html#a78a0d99ab85f57c1a9f69b6dfd5ac150">01169</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#a78a0d99ab85f57c1a9f69b6dfd5ac150">flCumulative</a>;    <span class="comment">/* Cumulative confidence                 */</span>
<a name="l01170"></a><a class="code" href="struct_cv_con_densation.html#a5c358b1adb2685490cfb43dec24d51ee">01170</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#a5c358b1adb2685490cfb43dec24d51ee">Temp</a>;            <span class="comment">/* Temporary vector                      */</span>
<a name="l01171"></a><a class="code" href="struct_cv_con_densation.html#a712403785f8c84c01543e705d003b083">01171</a>     <span class="keywordtype">float</span>* <a class="code" href="struct_cv_con_densation.html#a712403785f8c84c01543e705d003b083">RandomSample</a>;    <span class="comment">/* RandomVector to update sample set     */</span>
<a name="l01172"></a><a class="code" href="struct_cv_con_densation.html#ae06c202a93a2f06a8664dd33241afb20">01172</a>     <span class="keyword">struct </span><a class="code" href="struct_cv_rand_state.html">CvRandState</a>* <a class="code" href="struct_cv_con_densation.html#ae06c202a93a2f06a8664dd33241afb20">RandS</a>; <span class="comment">/* Array of structures to generate random vectors */</span>
<a name="l01173"></a>01173 } <a class="code" href="legacy_8hpp.html#a243334ed21f9d0f102defe9ed1a94abf">CvConDensation</a>;
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 <span class="comment">/* Creates ConDensation filter state */</span>
<a name="l01176"></a>01176 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_con_densation.html">CvConDensation</a>*)  cvCreateConDensation( <span class="keywordtype">int</span> dynam_params,
<a name="l01177"></a><a class="code" href="legacy_8hpp.html#a26f3028fb983329a4e6ecee9d2af24e7">01177</a>                                              <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a022ed63ec96d82738a4238474fe60294">measure_params</a>,
<a name="l01178"></a>01178                                              <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a26f3028fb983329a4e6ecee9d2af24e7">sample_count</a> );
<a name="l01179"></a>01179 
<a name="l01180"></a>01180 <span class="comment">/* Releases ConDensation filter state */</span>
<a name="l01181"></a>01181 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvReleaseConDensation( <a class="code" href="struct_cv_con_densation.html">CvConDensation</a>** condens );
<a name="l01182"></a>01182 
<a name="l01183"></a>01183 <span class="comment">/* Updates ConDensation filter by time (predict future state of the system) */</span>
<a name="l01184"></a>01184 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvConDensUpdateByTime( <a class="code" href="struct_cv_con_densation.html">CvConDensation</a>* condens);
<a name="l01185"></a>01185 
<a name="l01186"></a>01186 <span class="comment">/* Initializes ConDensation filter samples  */</span>
<a name="l01187"></a><a class="code" href="legacy_8hpp.html#abd0e64a62dab72c427ef000f2a3b27a9">01187</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvConDensInitSampleSet( <a class="code" href="struct_cv_con_densation.html">CvConDensation</a>* condens, <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#abf4b186de4974519e850b37e7b7ea7c9">lower_bound</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#abd0e64a62dab72c427ef000f2a3b27a9">upper_bound</a> );
<a name="l01188"></a>01188 
<a name="l01189"></a><a class="code" href="legacy_8hpp.html#aa88d7ace27cb24c4607bbff54d0aba94">01189</a> CV_INLINE <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#aa88d7ace27cb24c4607bbff54d0aba94">iplWidth</a>( const <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a> )
<a name="l01190"></a>01190 {
<a name="l01191"></a>01191     <span class="keywordflow">return</span> !img ? 0 : !img-&gt;roi ? img-&gt;width : img-&gt;roi-&gt;width;
<a name="l01192"></a>01192 }
<a name="l01193"></a>01193 
<a name="l01194"></a><a class="code" href="legacy_8hpp.html#a8131c68a3bb5a6414c5948382e1d9a21">01194</a> CV_INLINE <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a8131c68a3bb5a6414c5948382e1d9a21">iplHeight</a>( <span class="keyword">const</span> <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a> )
<a name="l01195"></a>01195 {
<a name="l01196"></a>01196     <span class="keywordflow">return</span> !img ? 0 : !img-&gt;<a class="code" href="struct___ipl_image.html#a697184a2da29652d664ae540ec36839b">roi</a> ? img-&gt;<a class="code" href="struct___ipl_image.html#a760ffed837a60c6606047177697d97f3">height</a> : img-&gt;<a class="code" href="struct___ipl_image.html#a697184a2da29652d664ae540ec36839b">roi</a>-&gt;<a class="code" href="struct___ipl_r_o_i.html#a3b5425f150fdf07de23b4bafd06d7fb3">height</a>;
<a name="l01197"></a>01197 }
<a name="l01198"></a>01198 
<a name="l01199"></a>01199 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01200"></a>01200 <span class="preprocessor"></span>}
<a name="l01201"></a>01201 <span class="preprocessor">#endif</span>
<a name="l01202"></a>01202 <span class="preprocessor"></span>
<a name="l01203"></a>01203 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01204"></a>01204 <span class="preprocessor"></span>
<a name="l01205"></a>01205 <span class="comment">/****************************************************************************************\</span>
<a name="l01206"></a>01206 <span class="comment">*                                   Calibration engine                                   *</span>
<a name="l01207"></a>01207 <span class="comment">\****************************************************************************************/</span>
<a name="l01208"></a>01208 
<a name="l01209"></a><a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">01209</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">CvCalibEtalonType</a>
<a name="l01210"></a>01210 {
<a name="l01211"></a><a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17a2a9bab8062f59cbf83fc7ee512fb1f02">01211</a>     <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17a2a9bab8062f59cbf83fc7ee512fb1f02">CV_CALIB_ETALON_USER</a> = -1,
<a name="l01212"></a><a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17aa5494a4ce72079b80064e0424329eeab">01212</a>     <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17aa5494a4ce72079b80064e0424329eeab">CV_CALIB_ETALON_CHESSBOARD</a> = 0,
<a name="l01213"></a><a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17a88f93ca3496357c469d870ad1dcb836d">01213</a>     <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17a88f93ca3496357c469d870ad1dcb836d">CV_CALIB_ETALON_CHECKERBOARD</a> = <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17aa5494a4ce72079b80064e0424329eeab">CV_CALIB_ETALON_CHESSBOARD</a>
<a name="l01214"></a>01214 }
<a name="l01215"></a>01215 <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">CvCalibEtalonType</a>;
<a name="l01216"></a>01216 
<a name="l01217"></a><a class="code" href="class_cv_calib_filter.html">01217</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="class_cv_calib_filter.html">CvCalibFilter</a>
<a name="l01218"></a>01218 {
<a name="l01219"></a>01219 <span class="keyword">public</span>:
<a name="l01220"></a>01220     <span class="comment">/* Constructor &amp; destructor */</span>
<a name="l01221"></a>01221     <a class="code" href="class_cv_calib_filter.html">CvCalibFilter</a>();
<a name="l01222"></a>01222     <span class="keyword">virtual</span> ~<a class="code" href="class_cv_calib_filter.html">CvCalibFilter</a>();
<a name="l01223"></a>01223 
<a name="l01224"></a>01224     <span class="comment">/* Sets etalon type - one for all cameras.</span>
<a name="l01225"></a>01225 <span class="comment">       etalonParams is used in case of pre-defined etalons (such as chessboard).</span>
<a name="l01226"></a>01226 <span class="comment">       Number of elements in etalonParams is determined by etalonType.</span>
<a name="l01227"></a>01227 <span class="comment">       E.g., if etalon type is CV_ETALON_TYPE_CHESSBOARD then:</span>
<a name="l01228"></a>01228 <span class="comment">         etalonParams[0] is number of squares per one side of etalon</span>
<a name="l01229"></a>01229 <span class="comment">         etalonParams[1] is number of squares per another side of etalon</span>
<a name="l01230"></a>01230 <span class="comment">         etalonParams[2] is linear size of squares in the board in arbitrary units.</span>
<a name="l01231"></a>01231 <span class="comment">       pointCount &amp; points are used in case of</span>
<a name="l01232"></a>01232 <span class="comment">       CV_CALIB_ETALON_USER (user-defined) etalon. */</span>
<a name="l01233"></a>01233     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>
<a name="l01234"></a>01234         SetEtalon( <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">CvCalibEtalonType</a> etalonType, <span class="keywordtype">double</span>* etalonParams,
<a name="l01235"></a>01235                    <span class="keywordtype">int</span> pointCount = 0, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* points = 0 );
<a name="l01236"></a>01236 
<a name="l01237"></a>01237     <span class="comment">/* Retrieves etalon parameters/or and points */</span>
<a name="l01238"></a>01238     <span class="keyword">virtual</span> <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">CvCalibEtalonType</a>
<a name="l01239"></a>01239         GetEtalon( <span class="keywordtype">int</span>* paramCount = 0, <span class="keyword">const</span> <span class="keywordtype">double</span>** etalonParams = 0,
<a name="l01240"></a>01240                    <span class="keywordtype">int</span>* pointCount = 0, <span class="keyword">const</span> <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>** etalonPoints = 0 ) <span class="keyword">const</span>;
<a name="l01241"></a>01241 
<a name="l01242"></a>01242     <span class="comment">/* Sets number of cameras calibrated simultaneously. It is equal to 1 initially */</span>
<a name="l01243"></a>01243     <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetCameraCount( <span class="keywordtype">int</span> cameraCount );
<a name="l01244"></a>01244 
<a name="l01245"></a>01245     <span class="comment">/* Retrieves number of cameras */</span>
<a name="l01246"></a><a class="code" href="class_cv_calib_filter.html#ade00234be1fd128dd227991d6e78433d">01246</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_calib_filter.html#ade00234be1fd128dd227991d6e78433d">GetCameraCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> cameraCount; }
<a name="l01247"></a>01247 
<a name="l01248"></a>01248     <span class="comment">/* Starts cameras calibration */</span>
<a name="l01249"></a>01249     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> SetFrames( <span class="keywordtype">int</span> totalFrames );
<a name="l01250"></a>01250 
<a name="l01251"></a>01251     <span class="comment">/* Stops cameras calibration */</span>
<a name="l01252"></a>01252     <span class="keyword">virtual</span> <span class="keywordtype">void</span> Stop( <span class="keywordtype">bool</span> calibrate = <span class="keyword">false</span> );
<a name="l01253"></a>01253 
<a name="l01254"></a>01254     <span class="comment">/* Retrieves number of cameras */</span>
<a name="l01255"></a><a class="code" href="class_cv_calib_filter.html#a567b0bd61e341024f49f1adef3f02ae4">01255</a>     <span class="keywordtype">bool</span> <a class="code" href="class_cv_calib_filter.html#a567b0bd61e341024f49f1adef3f02ae4">IsCalibrated</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isCalibrated; }
<a name="l01256"></a>01256 
<a name="l01257"></a>01257     <span class="comment">/* Feeds another serie of snapshots (one per each camera) to filter.</span>
<a name="l01258"></a>01258 <span class="comment">       Etalon points on these images are found automatically.</span>
<a name="l01259"></a>01259 <span class="comment">       If the function can&#39;t locate points, it returns false */</span>
<a name="l01260"></a>01260     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> FindEtalon( <a class="code" href="struct___ipl_image.html">IplImage</a>** imgs );
<a name="l01261"></a>01261 
<a name="l01262"></a>01262     <span class="comment">/* The same but takes matrices */</span>
<a name="l01263"></a>01263     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> FindEtalon( <a class="code" href="struct_cv_mat.html">CvMat</a>** imgs );
<a name="l01264"></a>01264 
<a name="l01265"></a>01265     <span class="comment">/* Lower-level function for feeding filter with already found etalon points.</span>
<a name="l01266"></a>01266 <span class="comment">       Array of point arrays for each camera is passed. */</span>
<a name="l01267"></a>01267     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Push( <span class="keyword">const</span> <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>** points = 0 );
<a name="l01268"></a>01268 
<a name="l01269"></a>01269     <span class="comment">/* Returns total number of accepted frames and, optionally,</span>
<a name="l01270"></a>01270 <span class="comment">       total number of frames to collect */</span>
<a name="l01271"></a>01271     <span class="keyword">virtual</span> <span class="keywordtype">int</span> GetFrameCount( <span class="keywordtype">int</span>* framesTotal = 0 ) <span class="keyword">const</span>;
<a name="l01272"></a>01272 
<a name="l01273"></a>01273     <span class="comment">/* Retrieves camera parameters for specified camera.</span>
<a name="l01274"></a>01274 <span class="comment">       If camera is not calibrated the function returns 0 */</span>
<a name="l01275"></a>01275     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="struct_cv_camera.html">CvCamera</a>* GetCameraParams( <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a> = 0 ) <span class="keyword">const</span>;
<a name="l01276"></a>01276 
<a name="l01277"></a>01277     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a>* GetStereoParams() <span class="keyword">const</span>;
<a name="l01278"></a>01278 
<a name="l01279"></a>01279     <span class="comment">/* Sets camera parameters for all cameras */</span>
<a name="l01280"></a>01280     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> SetCameraParams( <a class="code" href="struct_cv_camera.html">CvCamera</a>* <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a> );
<a name="l01281"></a>01281 
<a name="l01282"></a>01282     <span class="comment">/* Saves all camera parameters to file */</span>
<a name="l01283"></a>01283     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> SaveCameraParams( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a> );
<a name="l01284"></a>01284 
<a name="l01285"></a>01285     <span class="comment">/* Loads all camera parameters from file */</span>
<a name="l01286"></a>01286     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> LoadCameraParams( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a> );
<a name="l01287"></a>01287 
<a name="l01288"></a>01288     <span class="comment">/* Undistorts images using camera parameters. Some of src pointers can be NULL. */</span>
<a name="l01289"></a>01289     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Undistort( <a class="code" href="struct___ipl_image.html">IplImage</a>** <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>** <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a> );
<a name="l01290"></a>01290 
<a name="l01291"></a>01291     <span class="comment">/* Undistorts images using camera parameters. Some of src pointers can be NULL. */</span>
<a name="l01292"></a>01292     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Undistort( <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a> );
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     <span class="comment">/* Returns array of etalon points detected/partally detected</span>
<a name="l01295"></a>01295 <span class="comment">       on the latest frame for idx-th camera */</span>
<a name="l01296"></a>01296     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> GetLatestPoints( <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a>, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>** <a class="code" href="core__c_8h.html#ab62b1919fa12a68dd1196a0d42f7937e">pts</a>,
<a name="l01297"></a>01297                                                   <span class="keywordtype">int</span>* count, <span class="keywordtype">bool</span>* found );
<a name="l01298"></a>01298 
<a name="l01299"></a>01299     <span class="comment">/* Draw the latest detected/partially detected etalon */</span>
<a name="l01300"></a>01300     <span class="keyword">virtual</span> <span class="keywordtype">void</span> DrawPoints( <a class="code" href="struct___ipl_image.html">IplImage</a>** <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a> );
<a name="l01301"></a>01301 
<a name="l01302"></a>01302     <span class="comment">/* Draw the latest detected/partially detected etalon */</span>
<a name="l01303"></a>01303     <span class="keyword">virtual</span> <span class="keywordtype">void</span> DrawPoints( <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a> );
<a name="l01304"></a>01304 
<a name="l01305"></a>01305     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Rectify( <a class="code" href="struct___ipl_image.html">IplImage</a>** srcarr, <a class="code" href="struct___ipl_image.html">IplImage</a>** <a class="code" href="legacy_8hpp.html#af9870907f1556eb538d1008fbd76c0e2">dstarr</a> );
<a name="l01306"></a>01306     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Rectify( <a class="code" href="struct_cv_mat.html">CvMat</a>** srcarr, <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="legacy_8hpp.html#af9870907f1556eb538d1008fbd76c0e2">dstarr</a> );
<a name="l01307"></a>01307 
<a name="l01308"></a>01308 <span class="keyword">protected</span>:
<a name="l01309"></a>01309 
<a name="l01310"></a><a class="code" href="class_cv_calib_filter.html#a8531a603c70d944d93e73d4828c10257a5a5d663916daf92c2f93923e78319482">01310</a>     <span class="keyword">enum</span> { MAX_CAMERAS = 3 };
<a name="l01311"></a>01311 
<a name="l01312"></a>01312     <span class="comment">/* etalon data */</span>
<a name="l01313"></a><a class="code" href="class_cv_calib_filter.html#af4153a53a88a176689b42f9e8f182732">01313</a>     <a class="code" href="legacy_8hpp.html#a0be26ce6bfc4982992155837057aab17">CvCalibEtalonType</a>  <a class="code" href="class_cv_calib_filter.html#af4153a53a88a176689b42f9e8f182732">etalonType</a>;
<a name="l01314"></a><a class="code" href="class_cv_calib_filter.html#a633ca2c5d4603e092c8d45ad75a1bfbb">01314</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#a633ca2c5d4603e092c8d45ad75a1bfbb">etalonParamCount</a>;
<a name="l01315"></a><a class="code" href="class_cv_calib_filter.html#a94e22b2b52de398e54936f74a0e7d5c0">01315</a>     <span class="keywordtype">double</span>* <a class="code" href="class_cv_calib_filter.html#a94e22b2b52de398e54936f74a0e7d5c0">etalonParams</a>;
<a name="l01316"></a><a class="code" href="class_cv_calib_filter.html#ae6468c8d7250cd4cd6a6004423c30b3b">01316</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#ae6468c8d7250cd4cd6a6004423c30b3b">etalonPointCount</a>;
<a name="l01317"></a><a class="code" href="class_cv_calib_filter.html#a4f038a90211610c960cf46d11beab3b3">01317</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* <a class="code" href="class_cv_calib_filter.html#a4f038a90211610c960cf46d11beab3b3">etalonPoints</a>;
<a name="l01318"></a><a class="code" href="class_cv_calib_filter.html#a9c2aef9aae7536fd3b627a7718deb8f2">01318</a>     <a class="code" href="struct_cv_size.html">CvSize</a>  <a class="code" href="class_cv_calib_filter.html#a9c2aef9aae7536fd3b627a7718deb8f2">imgSize</a>;
<a name="l01319"></a><a class="code" href="class_cv_calib_filter.html#a269b21fb0703bb262f314b918129e069">01319</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>*  <a class="code" href="class_cv_calib_filter.html#a269b21fb0703bb262f314b918129e069">grayImg</a>;
<a name="l01320"></a><a class="code" href="class_cv_calib_filter.html#af2caaf7f6459fb3e409094a2035adea7">01320</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>*  <a class="code" href="class_cv_calib_filter.html#af2caaf7f6459fb3e409094a2035adea7">tempImg</a>;
<a name="l01321"></a><a class="code" href="class_cv_calib_filter.html#abaf95e3b3fee72561ca5613129dc9f25">01321</a>     <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* <a class="code" href="class_cv_calib_filter.html#abaf95e3b3fee72561ca5613129dc9f25">storage</a>;
<a name="l01322"></a>01322 
<a name="l01323"></a>01323     <span class="comment">/* camera data */</span>
<a name="l01324"></a><a class="code" href="class_cv_calib_filter.html#a78bc39db202437988a5ce398dd50d66e">01324</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#a78bc39db202437988a5ce398dd50d66e">cameraCount</a>;
<a name="l01325"></a><a class="code" href="class_cv_calib_filter.html#ad0b87233ba969210580244d5535afbb2">01325</a>     <a class="code" href="struct_cv_camera.html">CvCamera</a> cameraParams[MAX_CAMERAS];
<a name="l01326"></a><a class="code" href="class_cv_calib_filter.html#a0dec57669e30f2ec192685156a4d8cc1">01326</a>     <a class="code" href="struct_cv_stereo_camera.html">CvStereoCamera</a> <a class="code" href="class_cv_calib_filter.html#a0dec57669e30f2ec192685156a4d8cc1">stereo</a>;
<a name="l01327"></a><a class="code" href="class_cv_calib_filter.html#aab4911980e6be1a3358a36add745a1e3">01327</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* points[MAX_CAMERAS];
<a name="l01328"></a><a class="code" href="class_cv_calib_filter.html#a9d7a3f71a7f02b1efc2a0da716b0958b">01328</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>*  undistMap[MAX_CAMERAS][2];
<a name="l01329"></a><a class="code" href="class_cv_calib_filter.html#a6f5225b954314daa12b002865a192ce0">01329</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>*  <a class="code" href="class_cv_calib_filter.html#a6f5225b954314daa12b002865a192ce0">undistImg</a>;
<a name="l01330"></a><a class="code" href="class_cv_calib_filter.html#a3a842ee173477c58c56a0302f9fc529b">01330</a>     <span class="keywordtype">int</span>     latestCounts[MAX_CAMERAS];
<a name="l01331"></a><a class="code" href="class_cv_calib_filter.html#addcc0ddfd356a3eead6d91f9cde9a6ca">01331</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a>* latestPoints[MAX_CAMERAS];
<a name="l01332"></a><a class="code" href="class_cv_calib_filter.html#a8c7cbfcfabb3b35a139894b3c6df1a19">01332</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>*  <a class="code" href="legacy_8hpp.html#af63bea17c11e9c59e78364697ac525b5">rectMap</a>[MAX_CAMERAS][2];
<a name="l01333"></a>01333 
<a name="l01334"></a>01334     <span class="comment">/* Added by Valery */</span>
<a name="l01335"></a>01335     <span class="comment">//CvStereoCamera stereoParams;</span>
<a name="l01336"></a>01336 
<a name="l01337"></a><a class="code" href="class_cv_calib_filter.html#aa352fa735742ca0d5627fc7f8c9016e4">01337</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#aa352fa735742ca0d5627fc7f8c9016e4">maxPoints</a>;
<a name="l01338"></a><a class="code" href="class_cv_calib_filter.html#ab938a70340ec3d24064332f43f9ff6ed">01338</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#ab938a70340ec3d24064332f43f9ff6ed">framesTotal</a>;
<a name="l01339"></a><a class="code" href="class_cv_calib_filter.html#a02dbfee4f11822d057a6f5329e83a6fc">01339</a>     <span class="keywordtype">int</span>     <a class="code" href="class_cv_calib_filter.html#a02dbfee4f11822d057a6f5329e83a6fc">framesAccepted</a>;
<a name="l01340"></a><a class="code" href="class_cv_calib_filter.html#a36d8abce78ba961071c305dbe53b8a2b">01340</a>     <span class="keywordtype">bool</span>    <a class="code" href="class_cv_calib_filter.html#a36d8abce78ba961071c305dbe53b8a2b">isCalibrated</a>;
<a name="l01341"></a>01341 };
<a name="l01342"></a>01342 
<a name="l01343"></a>01343 <span class="preprocessor">#include &lt;iosfwd&gt;</span>
<a name="l01344"></a>01344 <span class="preprocessor">#include &lt;limits&gt;</span>
<a name="l01345"></a>01345 
<a name="l01346"></a><a class="code" href="class_cv_image.html">01346</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="class_cv_image.html">CvImage</a>
<a name="l01347"></a>01347 {
<a name="l01348"></a>01348 <span class="keyword">public</span>:
<a name="l01349"></a><a class="code" href="class_cv_image.html#a49b1109e322ce4bd0564ee69d96a2d8e">01349</a>     <a class="code" href="class_cv_image.html#a49b1109e322ce4bd0564ee69d96a2d8e">CvImage</a>() : image(0), refcount(0) {}
<a name="l01350"></a><a class="code" href="class_cv_image.html#a62fd6c7b6111dcd970a411c1a31d505c">01350</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <a class="code" href="struct_cv_size.html">CvSize</a> _size, <span class="keywordtype">int</span> _depth, <span class="keywordtype">int</span> _channels )
<a name="l01351"></a>01351     {
<a name="l01352"></a>01352         image = cvCreateImage( _size, _depth, _channels );
<a name="l01353"></a>01353         refcount = image ? <span class="keyword">new</span> <a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a>(1) : 0;
<a name="l01354"></a>01354     }
<a name="l01355"></a>01355 
<a name="l01356"></a><a class="code" href="class_cv_image.html#ac6880689c7b8927af6d1dfdf93764d6c">01356</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a> ) : image(img)
<a name="l01357"></a>01357     {
<a name="l01358"></a>01358         refcount = image ? <span class="keyword">new</span> <a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a>(1) : 0;
<a name="l01359"></a>01359     }
<a name="l01360"></a>01360 
<a name="l01361"></a><a class="code" href="class_cv_image.html#a6dd9343c9cd06d4d775f3b63f7bc6803">01361</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <span class="keyword">const</span> <a class="code" href="class_cv_image.html">CvImage</a>&amp; <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a> ) : image(img.image), refcount(img.refcount)
<a name="l01362"></a>01362     {
<a name="l01363"></a>01363         <span class="keywordflow">if</span>( refcount ) ++(*refcount);
<a name="l01364"></a>01364     }
<a name="l01365"></a>01365 
<a name="l01366"></a><a class="code" href="class_cv_image.html#a553796defac4aa7a685f261f23199f68">01366</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname=0, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a>=-1 ) : image(0), refcount(0)
<a name="l01367"></a>01367     { <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1audio.html#a71a6f579c46fcbee416f53d492659913">load</a>( filename, imgname, <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a> ); }
<a name="l01368"></a>01368 
<a name="l01369"></a><a class="code" href="class_cv_image.html#a8d595b2fafb501c5ba958c1396586bd4">01369</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* mapname, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname ) : image(0), refcount(0)
<a name="l01370"></a>01370     { read( fs, mapname, imgname ); }
<a name="l01371"></a>01371 
<a name="l01372"></a><a class="code" href="class_cv_image.html#a125682e6f72a50b8ca843490e6a96106">01372</a>     <a class="code" href="class_cv_image.html">CvImage</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* seqname, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a> ) : image(0), refcount(0)
<a name="l01373"></a>01373     { read( fs, seqname, idx ); }
<a name="l01374"></a>01374 
<a name="l01375"></a><a class="code" href="class_cv_image.html#a3b44ca122c38959d166563d22ea1adb4">01375</a>     ~<a class="code" href="class_cv_image.html">CvImage</a>()
<a name="l01376"></a>01376     {
<a name="l01377"></a>01377         <span class="keywordflow">if</span>( refcount &amp;&amp; !(--*refcount) )
<a name="l01378"></a>01378         {
<a name="l01379"></a>01379             cvReleaseImage( &amp;image );
<a name="l01380"></a>01380             <span class="keyword">delete</span> refcount;
<a name="l01381"></a>01381         }
<a name="l01382"></a>01382     }
<a name="l01383"></a>01383 
<a name="l01384"></a><a class="code" href="class_cv_image.html#aea95e9a981933132d6d0060a62522925">01384</a>     <a class="code" href="class_cv_image.html">CvImage</a> <a class="code" href="class_cv_image.html#aea95e9a981933132d6d0060a62522925">clone</a>() { <span class="keywordflow">return</span> <a class="code" href="class_cv_image.html">CvImage</a>(image ? cvCloneImage(image) : 0); }
<a name="l01385"></a>01385 
<a name="l01386"></a><a class="code" href="class_cv_image.html#a10791b436c23b765f6d5b82f9c5d3829">01386</a>     <span class="keywordtype">void</span> create( <a class="code" href="struct_cv_size.html">CvSize</a> _size, <span class="keywordtype">int</span> _depth, <span class="keywordtype">int</span> _channels )
<a name="l01387"></a>01387     {
<a name="l01388"></a>01388         <span class="keywordflow">if</span>( !image || !refcount ||
<a name="l01389"></a>01389            image-&gt;width != _size.<a class="code" href="struct_cv_size.html#a2b1a1518e624c74c5a0e24c6cc1c3170">width</a> || image-&gt;height != _size.<a class="code" href="struct_cv_size.html#ac743399a59a7a2f302091b9180d23673">height</a> ||
<a name="l01390"></a>01390            image-&gt;depth != _depth || image-&gt;nChannels != _channels )
<a name="l01391"></a>01391             attach( cvCreateImage( _size, _depth, _channels ));
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393 
<a name="l01394"></a><a class="code" href="class_cv_image.html#a80a7f0bc9251b1d200c943528e96df7e">01394</a>     <span class="keywordtype">void</span> <a class="code" href="class_cv_image.html#a80a7f0bc9251b1d200c943528e96df7e">release</a>() { detach(); }
<a name="l01395"></a><a class="code" href="class_cv_image.html#a3f4233b7dd3fdc80edf3d304c26600c6">01395</a>     <span class="keywordtype">void</span> <a class="code" href="class_cv_image.html#a3f4233b7dd3fdc80edf3d304c26600c6">clear</a>() { detach(); }
<a name="l01396"></a>01396 
<a name="l01397"></a><a class="code" href="class_cv_image.html#aa634dd2c0f7f0a9681529967a9023e51">01397</a>     <span class="keywordtype">void</span> attach( <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a>, <span class="keywordtype">bool</span> use_refcount=<span class="keyword">true</span> )
<a name="l01398"></a>01398     {
<a name="l01399"></a>01399         <span class="keywordflow">if</span>( refcount &amp;&amp; --*refcount == 0 )
<a name="l01400"></a>01400         {
<a name="l01401"></a>01401             cvReleaseImage( &amp;image );
<a name="l01402"></a>01402             <span class="keyword">delete</span> refcount;
<a name="l01403"></a>01403         }
<a name="l01404"></a>01404         image = <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a>;
<a name="l01405"></a>01405         refcount = use_refcount &amp;&amp; image ? <span class="keyword">new</span> <a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a>(1) : 0;
<a name="l01406"></a>01406     }
<a name="l01407"></a>01407 
<a name="l01408"></a><a class="code" href="class_cv_image.html#abcaee508bc7262f3aae536f5a55fba12">01408</a>     <span class="keywordtype">void</span> detach()
<a name="l01409"></a>01409     {
<a name="l01410"></a>01410         <span class="keywordflow">if</span>( refcount &amp;&amp; --*refcount == 0 )
<a name="l01411"></a>01411         {
<a name="l01412"></a>01412             cvReleaseImage( &amp;image );
<a name="l01413"></a>01413             <span class="keyword">delete</span> refcount;
<a name="l01414"></a>01414         }
<a name="l01415"></a>01415         image = 0;
<a name="l01416"></a>01416         refcount = 0;
<a name="l01417"></a>01417     }
<a name="l01418"></a>01418 
<a name="l01419"></a>01419     <span class="keywordtype">bool</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1audio.html#a71a6f579c46fcbee416f53d492659913">load</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname=0, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a>=-1 );
<a name="l01420"></a>01420     <span class="keywordtype">bool</span> read( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* mapname, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname );
<a name="l01421"></a>01421     <span class="keywordtype">bool</span> read( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* seqname, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a> );
<a name="l01422"></a>01422     <span class="keywordtype">void</span> save( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname, <span class="keyword">const</span> <span class="keywordtype">int</span>* <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=0 );
<a name="l01423"></a>01423     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* imgname );
<a name="l01424"></a>01424 
<a name="l01425"></a>01425     <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/_app_cocoa_touch_8mm.html#a4b148f40a95444d5669406b918ad2f52">show</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="highgui__c_8h.html#aaefe59fe6a71312aaff4c05232e819b0">window_name</a> );
<a name="l01426"></a><a class="code" href="class_cv_image.html#a857f9f6e8c3d36abe3d1bb4660160035">01426</a>     <span class="keywordtype">bool</span> <a class="code" href="class_cv_image.html#a857f9f6e8c3d36abe3d1bb4660160035">is_valid</a>() { <span class="keywordflow">return</span> image != 0; }
<a name="l01427"></a>01427 
<a name="l01428"></a><a class="code" href="class_cv_image.html#a771f6c0863eae2cd56de30fc426ac3fa">01428</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a771f6c0863eae2cd56de30fc426ac3fa">width</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;width : 0; }
<a name="l01429"></a><a class="code" href="class_cv_image.html#a566bf486ed420556a962710dd982186c">01429</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a566bf486ed420556a962710dd982186c">height</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;height : 0; }
<a name="l01430"></a>01430 
<a name="l01431"></a><a class="code" href="class_cv_image.html#a99515910ec1704078517e1e66867af13">01431</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="class_cv_image.html#a99515910ec1704078517e1e66867af13">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(image-&gt;width, image-&gt;height) : <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(0,0); }
<a name="l01432"></a>01432 
<a name="l01433"></a><a class="code" href="class_cv_image.html#a47f9ba7aecaeac558732a8bc0a4c0503">01433</a>     <a class="code" href="struct_cv_size.html">CvSize</a> roi_size()<span class="keyword"> const</span>
<a name="l01434"></a>01434 <span class="keyword">    </span>{
<a name="l01435"></a>01435         <span class="keywordflow">return</span> !image ? <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(0,0) :
<a name="l01436"></a>01436         !image-&gt;roi ? <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(image-&gt;width,image-&gt;height) :
<a name="l01437"></a>01437         <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(image-&gt;roi-&gt;width, image-&gt;roi-&gt;height);
<a name="l01438"></a>01438     }
<a name="l01439"></a>01439 
<a name="l01440"></a><a class="code" href="class_cv_image.html#add6698589b95d5bf7fff7c5d15547d6c">01440</a>     <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="legacy_8hpp.html#a22e52b2b51d064865d3ac2f27b308c33">roi</a>()<span class="keyword"> const</span>
<a name="l01441"></a>01441 <span class="keyword">    </span>{
<a name="l01442"></a>01442         <span class="keywordflow">return</span> !image ? <a class="code" href="core_2types__c_8h.html#afaffdb9052823163862a88209f379921">cvRect</a>(0,0,0,0) :
<a name="l01443"></a>01443         !image-&gt;roi ? <a class="code" href="core_2types__c_8h.html#afaffdb9052823163862a88209f379921">cvRect</a>(0,0,image-&gt;width,image-&gt;height) :
<a name="l01444"></a>01444         <a class="code" href="core_2types__c_8h.html#afaffdb9052823163862a88209f379921">cvRect</a>(image-&gt;roi-&gt;xOffset,image-&gt;roi-&gt;yOffset,
<a name="l01445"></a>01445                image-&gt;roi-&gt;width,image-&gt;roi-&gt;height);
<a name="l01446"></a>01446     }
<a name="l01447"></a>01447 
<a name="l01448"></a><a class="code" href="class_cv_image.html#af88d52ed06e8084d1f2ad8881eeaa6d6">01448</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#af88d52ed06e8084d1f2ad8881eeaa6d6">coi</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !image || !image-&gt;roi ? 0 : image-&gt;roi-&gt;coi; }
<a name="l01449"></a>01449 
<a name="l01450"></a><a class="code" href="class_cv_image.html#a9173f91d02e4d14a8d0ee0bbca0723fd">01450</a>     <span class="keywordtype">void</span> <a class="code" href="class_cv_image.html#a9173f91d02e4d14a8d0ee0bbca0723fd">set_roi</a>(<a class="code" href="struct_cv_rect.html">CvRect</a> _roi) { cvSetImageROI(image,_roi); }
<a name="l01451"></a><a class="code" href="class_cv_image.html#a7459ed15035f458a8c25ea8d9d74c840">01451</a>     <span class="keywordtype">void</span> <a class="code" href="class_cv_image.html#a7459ed15035f458a8c25ea8d9d74c840">reset_roi</a>() { cvResetImageROI(image); }
<a name="l01452"></a><a class="code" href="class_cv_image.html#a49b4076b80e4d6ba56c63c969dde2158">01452</a>     <span class="keywordtype">void</span> <a class="code" href="class_cv_image.html#a49b4076b80e4d6ba56c63c969dde2158">set_coi</a>(<span class="keywordtype">int</span> _coi) { cvSetImageCOI(image,_coi); }
<a name="l01453"></a><a class="code" href="class_cv_image.html#a1129dcba1a2e50e56131b79582db203d">01453</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a1129dcba1a2e50e56131b79582db203d">depth</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;depth : 0; }
<a name="l01454"></a><a class="code" href="class_cv_image.html#a07f1385654533c97ccf797f31893946e">01454</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a07f1385654533c97ccf797f31893946e">channels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;nChannels : 0; }
<a name="l01455"></a><a class="code" href="class_cv_image.html#a5417b90aae65b0baebc445ef763b1558">01455</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a5417b90aae65b0baebc445ef763b1558">pix_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? ((image-&gt;depth &amp; 255)&gt;&gt;3)*image-&gt;nChannels : 0; }
<a name="l01456"></a>01456 
<a name="l01457"></a><a class="code" href="class_cv_image.html#a311c1191da58cbc99bfcbd1b2cf065f3">01457</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="class_cv_image.html#a311c1191da58cbc99bfcbd1b2cf065f3">data</a>() { <span class="keywordflow">return</span> image ? (<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)image-&gt;imageData : 0; }
<a name="l01458"></a><a class="code" href="class_cv_image.html#ab6020830a23912fbca494ab6ecbba805">01458</a>     <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="class_cv_image.html#ab6020830a23912fbca494ab6ecbba805">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? (<span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)image-&gt;imageData : 0; }
<a name="l01459"></a><a class="code" href="class_cv_image.html#a602e5e74964d467a33c2ff45cf3da2b4">01459</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a602e5e74964d467a33c2ff45cf3da2b4">step</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;widthStep : 0; }
<a name="l01460"></a><a class="code" href="class_cv_image.html#a34475e8079981ac0ce27b8de005fcb26">01460</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_image.html#a34475e8079981ac0ce27b8de005fcb26">origin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> image ? image-&gt;origin : 0; }
<a name="l01461"></a>01461 
<a name="l01462"></a><a class="code" href="class_cv_image.html#aa3e4b5ed81616198776dc2bfc9ec36c7">01462</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* roi_row(<span class="keywordtype">int</span> <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y</a>)
<a name="l01463"></a>01463     {
<a name="l01464"></a>01464         assert(0&lt;=y);
<a name="l01465"></a>01465         assert(!image ?
<a name="l01466"></a>01466                1 : image-&gt;roi ?
<a name="l01467"></a>01467                <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y&lt;image-&gt;</a>roi-&gt;height : <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y&lt;image-&gt;</a><a class="code" href="highgui__c_8h.html#adc7b4b8a6ef510e136071efbc9cd9a58">height</a>);
<a name="l01468"></a>01468 
<a name="l01469"></a>01469         <span class="keywordflow">return</span> !image ? 0 :
<a name="l01470"></a>01470         !image-&gt;roi ?
<a name="l01471"></a>01471         (<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)(image-&gt;imageData + y*image-&gt;widthStep) :
<a name="l01472"></a>01472         (<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)(image-&gt;imageData + (y+image-&gt;roi-&gt;yOffset)*image-&gt;widthStep +
<a name="l01473"></a>01473                  image-&gt;roi-&gt;xOffset*((image-&gt;depth &amp; 255)&gt;&gt;3)*image-&gt;nChannels);
<a name="l01474"></a>01474     }
<a name="l01475"></a>01475 
<a name="l01476"></a><a class="code" href="class_cv_image.html#a1915e744a5fc3a541ba754cfe4fa11d6">01476</a>     <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* roi_row(<span class="keywordtype">int</span> <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y</a>)<span class="keyword"> const</span>
<a name="l01477"></a>01477 <span class="keyword">    </span>{
<a name="l01478"></a>01478         assert(0&lt;=y);
<a name="l01479"></a>01479         assert(!image ?
<a name="l01480"></a>01480                1 : image-&gt;roi ?
<a name="l01481"></a>01481                <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y&lt;image-&gt;</a>roi-&gt;height : <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y&lt;image-&gt;</a><a class="code" href="highgui__c_8h.html#adc7b4b8a6ef510e136071efbc9cd9a58">height</a>);
<a name="l01482"></a>01482 
<a name="l01483"></a>01483         <span class="keywordflow">return</span> !image ? 0 :
<a name="l01484"></a>01484         !image-&gt;roi ?
<a name="l01485"></a>01485         (<span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)(image-&gt;imageData + y*image-&gt;widthStep) :
<a name="l01486"></a>01486         (<span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)(image-&gt;imageData + (y+image-&gt;roi-&gt;yOffset)*image-&gt;widthStep +
<a name="l01487"></a>01487                        image-&gt;roi-&gt;xOffset*((image-&gt;depth &amp; 255)&gt;&gt;3)*image-&gt;nChannels);
<a name="l01488"></a>01488     }
<a name="l01489"></a>01489 
<a name="l01490"></a><a class="code" href="class_cv_image.html#ae3a408444099252c2f32d91f17865087">01490</a>     operator const IplImage* ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="highgui__c_8h.html#a35b1e6246c0baa4fe7c8a916316d3adc">image</a>; }
<a name="l01491"></a><a class="code" href="class_cv_image.html#a811093c72850f693cc3d58258667c059">01491</a>     operator IplImage* () { <span class="keywordflow">return</span> <a class="code" href="highgui__c_8h.html#a35b1e6246c0baa4fe7c8a916316d3adc">image</a>; }
<a name="l01492"></a>01492 
<a name="l01493"></a><a class="code" href="class_cv_image.html#a1f3c5465d575ef891e0bacfb8b9a632b">01493</a>     <a class="code" href="class_cv_image.html">CvImage</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="class_cv_image.html">CvImage</a>&amp; <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a>)
<a name="l01494"></a>01494     {
<a name="l01495"></a>01495         <span class="keywordflow">if</span>( img.<a class="code" href="class_cv_image.html#a0e8cfe49a1ada6387a5b6c071d5f0788">refcount</a> )
<a name="l01496"></a>01496             ++*img.<a class="code" href="class_cv_image.html#a0e8cfe49a1ada6387a5b6c071d5f0788">refcount</a>;
<a name="l01497"></a>01497         <span class="keywordflow">if</span>( refcount &amp;&amp; !(--*refcount) )
<a name="l01498"></a>01498             cvReleaseImage( &amp;image );
<a name="l01499"></a>01499         image=img.<a class="code" href="class_cv_image.html#a933d78c3c355d209ddfb4848f2df1f55">image</a>;
<a name="l01500"></a>01500         refcount=img.<a class="code" href="class_cv_image.html#a0e8cfe49a1ada6387a5b6c071d5f0788">refcount</a>;
<a name="l01501"></a>01501         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01502"></a>01502     }
<a name="l01503"></a>01503 
<a name="l01504"></a>01504 <span class="keyword">protected</span>:
<a name="l01505"></a><a class="code" href="class_cv_image.html#a933d78c3c355d209ddfb4848f2df1f55">01505</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="class_cv_image.html#a933d78c3c355d209ddfb4848f2df1f55">image</a>;
<a name="l01506"></a><a class="code" href="class_cv_image.html#a0e8cfe49a1ada6387a5b6c071d5f0788">01506</a>     <span class="keywordtype">int</span>* <a class="code" href="class_cv_image.html#a0e8cfe49a1ada6387a5b6c071d5f0788">refcount</a>;
<a name="l01507"></a>01507 };
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 
<a name="l01510"></a><a class="code" href="class_cv_matrix.html">01510</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="class_cv_matrix.html">CvMatrix</a>
<a name="l01511"></a>01511 {
<a name="l01512"></a>01512 <span class="keyword">public</span>:
<a name="l01513"></a><a class="code" href="class_cv_matrix.html#adee9ce1c9adb74d0252a9e74ac2fa885">01513</a>     <a class="code" href="class_cv_matrix.html#adee9ce1c9adb74d0252a9e74ac2fa885">CvMatrix</a>() : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>(0) {}
<a name="l01514"></a><a class="code" href="class_cv_matrix.html#a3e6ae4120a8bca42445af218222b4893">01514</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keywordtype">int</span> _rows, <span class="keywordtype">int</span> _cols, <span class="keywordtype">int</span> _type )
<a name="l01515"></a>01515     { <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = cvCreateMat( _rows, _cols, _type ); }
<a name="l01516"></a>01516 
<a name="l01517"></a><a class="code" href="class_cv_matrix.html#abb34f85420196a2e09d290337038c89d">01517</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keywordtype">int</span> _rows, <span class="keywordtype">int</span> _cols, <span class="keywordtype">int</span> _type, <a class="code" href="struct_cv_mat.html">CvMat</a>* hdr,
<a name="l01518"></a>01518              <span class="keywordtype">void</span>* _data=0, <span class="keywordtype">int</span> _step=CV_AUTOSTEP )
<a name="l01519"></a>01519     { <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = cvInitMatHeader( hdr, _rows, _cols, _type, _data, _step ); }
<a name="l01520"></a>01520 
<a name="l01521"></a>01521     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a061459acc9e078fa4699e0e349887215">rows</a>, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4407a60bc4387adae24cee658711f2d9">cols</a>, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a8bc957583d2a5247e490ea9ce960cf21">type</a>, <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage, <span class="keywordtype">bool</span> alloc_data=<span class="keyword">true</span> );
<a name="l01522"></a>01522 
<a name="l01523"></a><a class="code" href="class_cv_matrix.html#a2648c6efff88a3f39ad4d1248b27b520">01523</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keywordtype">int</span> _rows, <span class="keywordtype">int</span> _cols, <span class="keywordtype">int</span> _type, <span class="keywordtype">void</span>* _data, <span class="keywordtype">int</span> _step=CV_AUTOSTEP )
<a name="l01524"></a>01524     { <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = cvCreateMatHeader( _rows, _cols, _type );
<a name="l01525"></a>01525         cvSetData( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>, _data, _step ); }
<a name="l01526"></a>01526 
<a name="l01527"></a><a class="code" href="class_cv_matrix.html#a38202e2a3ec79911a8dc05c62b9f653e">01527</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <a class="code" href="struct_cv_mat.html">CvMat</a>* m )
<a name="l01528"></a>01528     { <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = m; }
<a name="l01529"></a>01529 
<a name="l01530"></a><a class="code" href="class_cv_matrix.html#a18c23b325295b8025ca87fe475ebfff0">01530</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keyword">const</span> <a class="code" href="class_cv_matrix.html">CvMatrix</a>&amp; m )
<a name="l01531"></a>01531     {
<a name="l01532"></a>01532         <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = m.<a class="code" href="class_cv_matrix.html#a1ca0e389bfec3cf2c5ff5549922fa588">matrix</a>;
<a name="l01533"></a>01533         addref();
<a name="l01534"></a>01534     }
<a name="l01535"></a>01535 
<a name="l01536"></a><a class="code" href="class_cv_matrix.html#a4714e263faf0fceb36cc45e72f3f577f">01536</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname=0, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a>=-1 ) : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>(0)
<a name="l01537"></a>01537     {  <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1audio.html#a71a6f579c46fcbee416f53d492659913">load</a>( filename, matname, <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a> ); }
<a name="l01538"></a>01538 
<a name="l01539"></a><a class="code" href="class_cv_matrix.html#a126f6133480c3df26e2e0a30d324fddd">01539</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* mapname, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname ) : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>(0)
<a name="l01540"></a>01540     {  read( fs, mapname, matname ); }
<a name="l01541"></a>01541 
<a name="l01542"></a><a class="code" href="class_cv_matrix.html#ad1ef41a4f84b1ef83d8f0ba384eb442b">01542</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* seqname, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a> ) : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>(0)
<a name="l01543"></a>01543     {  read( fs, seqname, idx ); }
<a name="l01544"></a>01544 
<a name="l01545"></a><a class="code" href="class_cv_matrix.html#a5696327be7463a11e48c2b3d5c0e24f9">01545</a>     ~<a class="code" href="class_cv_matrix.html">CvMatrix</a>()
<a name="l01546"></a>01546     {
<a name="l01547"></a>01547         release();
<a name="l01548"></a>01548     }
<a name="l01549"></a>01549 
<a name="l01550"></a><a class="code" href="class_cv_matrix.html#a8076fb0ff5a3c44391db5ffca8ddaeff">01550</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a> <a class="code" href="class_cv_matrix.html#a8076fb0ff5a3c44391db5ffca8ddaeff">clone</a>() { <span class="keywordflow">return</span> <a class="code" href="class_cv_matrix.html">CvMatrix</a>(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? cvCloneMat(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>) : 0); }
<a name="l01551"></a>01551 
<a name="l01552"></a><a class="code" href="class_cv_matrix.html#a70765cfa909ec1c15858b10164a97995">01552</a>     <span class="keywordtype">void</span> <span class="keyword">set</span>( <a class="code" href="struct_cv_mat.html">CvMat</a>* m, <span class="keywordtype">bool</span> add_ref )
<a name="l01553"></a>01553     {
<a name="l01554"></a>01554         release();
<a name="l01555"></a>01555         <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = m;
<a name="l01556"></a>01556         <span class="keywordflow">if</span>( add_ref )
<a name="l01557"></a>01557             addref();
<a name="l01558"></a>01558     }
<a name="l01559"></a>01559 
<a name="l01560"></a><a class="code" href="class_cv_matrix.html#ac64015f2fd2c6ff030b2423617ef3421">01560</a>     <span class="keywordtype">void</span> create( <span class="keywordtype">int</span> _rows, <span class="keywordtype">int</span> _cols, <span class="keywordtype">int</span> _type )
<a name="l01561"></a>01561     {
<a name="l01562"></a>01562         <span class="keywordflow">if</span>( !<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> || !<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount ||
<a name="l01563"></a>01563            <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;rows != _rows || <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;cols != _cols ||
<a name="l01564"></a>01564            CV_MAT_TYPE(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;type) != _type )
<a name="l01565"></a>01565             <span class="keyword">set</span>( cvCreateMat( _rows, _cols, _type ), false );
<a name="l01566"></a>01566     }
<a name="l01567"></a>01567 
<a name="l01568"></a><a class="code" href="class_cv_matrix.html#ae9359b69b7265f7cbdf9a0794b9a393d">01568</a>     <span class="keywordtype">void</span> addref()<span class="keyword"> const</span>
<a name="l01569"></a>01569 <span class="keyword">    </span>{
<a name="l01570"></a>01570         <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> )
<a name="l01571"></a>01571         {
<a name="l01572"></a>01572             <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;hdr_refcount )
<a name="l01573"></a>01573                 ++<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;hdr_refcount;
<a name="l01574"></a>01574             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount )
<a name="l01575"></a>01575                 ++*<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount;
<a name="l01576"></a>01576         }
<a name="l01577"></a>01577     }
<a name="l01578"></a>01578 
<a name="l01579"></a><a class="code" href="class_cv_matrix.html#a46a82df3dbd73bfc40be1606a1782df1">01579</a>     <span class="keywordtype">void</span> release()
<a name="l01580"></a>01580     {
<a name="l01581"></a>01581         <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> )
<a name="l01582"></a>01582         {
<a name="l01583"></a>01583             <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;hdr_refcount )
<a name="l01584"></a>01584             {
<a name="l01585"></a>01585                 <span class="keywordflow">if</span>( --<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;hdr_refcount == 0 )
<a name="l01586"></a>01586                     cvReleaseMat( &amp;<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> );
<a name="l01587"></a>01587             }
<a name="l01588"></a>01588             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount )
<a name="l01589"></a>01589             {
<a name="l01590"></a>01590                 <span class="keywordflow">if</span>( --*<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount == 0 )
<a name="l01591"></a>01591                     cvFree( &amp;<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;refcount );
<a name="l01592"></a>01592             }
<a name="l01593"></a>01593             <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = 0;
<a name="l01594"></a>01594         }
<a name="l01595"></a>01595     }
<a name="l01596"></a>01596 
<a name="l01597"></a><a class="code" href="class_cv_matrix.html#a751ff7811e292a40d276e71bd8f8c7f9">01597</a>     <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1gl.html#a2fbfcc011e3992ebe4a239464a97d896">clear</a>()
<a name="l01598"></a>01598     {
<a name="l01599"></a>01599         release();
<a name="l01600"></a>01600     }
<a name="l01601"></a>01601 
<a name="l01602"></a>01602     <span class="keywordtype">bool</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1audio.html#a71a6f579c46fcbee416f53d492659913">load</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname=0, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4ea898fa4dd23d613d19923509d8e249">color</a>=-1 );
<a name="l01603"></a>01603     <span class="keywordtype">bool</span> read( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* mapname, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname );
<a name="l01604"></a>01604     <span class="keywordtype">bool</span> read( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* seqname, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5c7c842f447336aa2f10826df65a28b3">idx</a> );
<a name="l01605"></a>01605     <span class="keywordtype">void</span> save( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname, <span class="keyword">const</span> <span class="keywordtype">int</span>* <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=0 );
<a name="l01606"></a>01606     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* matname );
<a name="l01607"></a>01607 
<a name="l01608"></a>01608     <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/_app_cocoa_touch_8mm.html#a4b148f40a95444d5669406b918ad2f52">show</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="highgui__c_8h.html#aaefe59fe6a71312aaff4c05232e819b0">window_name</a> );
<a name="l01609"></a>01609 
<a name="l01610"></a><a class="code" href="class_cv_matrix.html#a76278e0e7dc942168aa199d7cde8e1da">01610</a>     <span class="keywordtype">bool</span> <a class="code" href="class_cv_matrix.html#a76278e0e7dc942168aa199d7cde8e1da">is_valid</a>() { <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> != 0; }
<a name="l01611"></a>01611 
<a name="l01612"></a><a class="code" href="class_cv_matrix.html#a39931c3e0f3651723b1b850b52c6b816">01612</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#a39931c3e0f3651723b1b850b52c6b816">rows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;rows : 0; }
<a name="l01613"></a><a class="code" href="class_cv_matrix.html#ad5c8d4aea8b6814e73c2a7a5b23c8b87">01613</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#ad5c8d4aea8b6814e73c2a7a5b23c8b87">cols</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;cols : 0; }
<a name="l01614"></a>01614 
<a name="l01615"></a><a class="code" href="class_cv_matrix.html#a50bbc048e0e2d5f9195d7ce36e1cf1ea">01615</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="calib3d_8hpp.html#ae97003f8d5c64cdfb99f6f2606d121b6">size</a>()<span class="keyword"> const</span>
<a name="l01616"></a>01616 <span class="keyword">    </span>{
<a name="l01617"></a>01617         <span class="keywordflow">return</span> !<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(0,0) : <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;rows,<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;cols);
<a name="l01618"></a>01618     }
<a name="l01619"></a>01619 
<a name="l01620"></a><a class="code" href="class_cv_matrix.html#a2f3cf5c357e4a1a8eb66f2b20b91d7f7">01620</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#a2f3cf5c357e4a1a8eb66f2b20b91d7f7">type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? CV_MAT_TYPE(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;type) : 0; }
<a name="l01621"></a><a class="code" href="class_cv_matrix.html#a468813756baf65834845c9923cc07a00">01621</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#a468813756baf65834845c9923cc07a00">depth</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? CV_MAT_DEPTH(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;type) : 0; }
<a name="l01622"></a><a class="code" href="class_cv_matrix.html#ab91211056a495116a7efdd94175f7510">01622</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#ab91211056a495116a7efdd94175f7510">channels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? CV_MAT_CN(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;type) : 0; }
<a name="l01623"></a><a class="code" href="class_cv_matrix.html#a46abd3f2f55330a053c53d9f9d0d69f6">01623</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#a46abd3f2f55330a053c53d9f9d0d69f6">pix_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? CV_ELEM_SIZE(<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;type) : 0; }
<a name="l01624"></a>01624 
<a name="l01625"></a><a class="code" href="class_cv_matrix.html#a60a91784afe8f17fa70d02df7fb2d9be">01625</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="class_cv_matrix.html#a60a91784afe8f17fa70d02df7fb2d9be">data</a>() { <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;data.ptr : 0; }
<a name="l01626"></a><a class="code" href="class_cv_matrix.html#ab6025e45f933dde379646ca9abb0762c">01626</a>     <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="class_cv_matrix.html#ab6025e45f933dde379646ca9abb0762c">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;data.ptr : 0; }
<a name="l01627"></a><a class="code" href="class_cv_matrix.html#aa9799356b93ab87ef507ff0cb136bada">01627</a>     <span class="keywordtype">int</span> <a class="code" href="class_cv_matrix.html#aa9799356b93ab87ef507ff0cb136bada">step</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;step : 0; }
<a name="l01628"></a>01628 
<a name="l01629"></a><a class="code" href="class_cv_matrix.html#a61e066ae5d0fc4e66cf9db136c8287b2">01629</a>     <span class="keywordtype">void</span> set_data( <span class="keywordtype">void</span>* _data, <span class="keywordtype">int</span> _step=CV_AUTOSTEP )
<a name="l01630"></a>01630     { cvSetData( <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>, _data, _step ); }
<a name="l01631"></a>01631 
<a name="l01632"></a><a class="code" href="class_cv_matrix.html#a4b60faf000d6a4070133e429305d1793">01632</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="class_cv_matrix.html#a4b60faf000d6a4070133e429305d1793">row</a>(<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> !<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? 0 : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;data.ptr + i*<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;step; }
<a name="l01633"></a><a class="code" href="class_cv_matrix.html#af2cfe874a8b1cc476c577e0540bdc18d">01633</a>     <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* row(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l01634"></a>01634 <span class="keyword">    </span>{ <span class="keywordflow">return</span> !<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> ? 0 : <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;data.ptr + i*<a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>-&gt;step; }
<a name="l01635"></a>01635 
<a name="l01636"></a><a class="code" href="class_cv_matrix.html#a0ff96669e90c1d735eeb673047623902">01636</a>     operator const CvMat* ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>; }
<a name="l01637"></a><a class="code" href="class_cv_matrix.html#a7437a40a6e6f1ab0fad64b8e3c6d04d3">01637</a>     operator CvMat* () { <span class="keywordflow">return</span> <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a>; }
<a name="l01638"></a>01638 
<a name="l01639"></a><a class="code" href="class_cv_matrix.html#a6c4d77203474d8ef7b761f7bd79fa88b">01639</a>     <a class="code" href="class_cv_matrix.html">CvMatrix</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="class_cv_matrix.html">CvMatrix</a>&amp; _m)
<a name="l01640"></a>01640     {
<a name="l01641"></a>01641         _m.<a class="code" href="class_cv_matrix.html#ae9359b69b7265f7cbdf9a0794b9a393d">addref</a>();
<a name="l01642"></a>01642         release();
<a name="l01643"></a>01643         <a class="code" href="legacy_8hpp.html#ad30c519fbf488895edcd2c285bfe2fae">matrix</a> = _m.<a class="code" href="class_cv_matrix.html#a1ca0e389bfec3cf2c5ff5549922fa588">matrix</a>;
<a name="l01644"></a>01644         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01645"></a>01645     }
<a name="l01646"></a>01646 
<a name="l01647"></a>01647 <span class="keyword">protected</span>:
<a name="l01648"></a><a class="code" href="class_cv_matrix.html#a1ca0e389bfec3cf2c5ff5549922fa588">01648</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="class_cv_matrix.html#a1ca0e389bfec3cf2c5ff5549922fa588">matrix</a>;
<a name="l01649"></a>01649 };
<a name="l01650"></a>01650 
<a name="l01651"></a>01651 <span class="comment">/****************************************************************************************\</span>
<a name="l01652"></a>01652 <span class="comment"> *                                       CamShiftTracker                                  *</span>
<a name="l01653"></a>01653 <span class="comment"> \****************************************************************************************/</span>
<a name="l01654"></a>01654 
<a name="l01655"></a><a class="code" href="class_cv_cam_shift_tracker.html">01655</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="class_cv_cam_shift_tracker.html">CvCamShiftTracker</a>
<a name="l01656"></a>01656 {
<a name="l01657"></a>01657 <span class="keyword">public</span>:
<a name="l01658"></a>01658 
<a name="l01659"></a>01659     <a class="code" href="class_cv_cam_shift_tracker.html">CvCamShiftTracker</a>();
<a name="l01660"></a>01660     <span class="keyword">virtual</span> ~<a class="code" href="class_cv_cam_shift_tracker.html">CvCamShiftTracker</a>();
<a name="l01661"></a>01661 
<a name="l01662"></a>01662     <span class="comment">/**** Characteristics of the object that are calculated by track_object method *****/</span>
<a name="l01663"></a><a class="code" href="class_cv_cam_shift_tracker.html#a1152f35da05cb60c83e1889af2d790d5">01663</a>     <span class="keywordtype">float</span>   get_orientation() const <span class="comment">// orientation of the object in degrees</span>
<a name="l01664"></a>01664     { <span class="keywordflow">return</span> m_box.angle; }
<a name="l01665"></a><a class="code" href="class_cv_cam_shift_tracker.html#ac9de814e655d67942faef212b70f7431">01665</a>     <span class="keywordtype">float</span>   get_length() const <span class="comment">// the larger linear size of the object</span>
<a name="l01666"></a>01666     { <span class="keywordflow">return</span> m_box.size.height; }
<a name="l01667"></a><a class="code" href="class_cv_cam_shift_tracker.html#a99078bb38ef645e3de39cd4589f4e032">01667</a>     <span class="keywordtype">float</span>   get_width() const <span class="comment">// the smaller linear size of the object</span>
<a name="l01668"></a>01668     { <span class="keywordflow">return</span> m_box.size.width; }
<a name="l01669"></a><a class="code" href="class_cv_cam_shift_tracker.html#aa5f6d762983297ff576c966b03c614c9">01669</a>     <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> get_center() const <span class="comment">// center of the object</span>
<a name="l01670"></a>01670     { <span class="keywordflow">return</span> m_box.center; }
<a name="l01671"></a><a class="code" href="class_cv_cam_shift_tracker.html#a61f4be37796688a6d15bc433b5ae67f4">01671</a>     <a class="code" href="struct_cv_rect.html">CvRect</a> get_window() const <span class="comment">// bounding rectangle for the object</span>
<a name="l01672"></a>01672     { <span class="keywordflow">return</span> m_comp.rect; }
<a name="l01673"></a>01673 
<a name="l01674"></a>01674     <span class="comment">/*********************** Tracking parameters ************************/</span>
<a name="l01675"></a><a class="code" href="class_cv_cam_shift_tracker.html#a7c5d5a2103df71facb39735dc72de65a">01675</a>     <span class="keywordtype">int</span>     get_threshold() const <span class="comment">// thresholding value that applied to back project</span>
<a name="l01676"></a>01676     { <span class="keywordflow">return</span> m_threshold; }
<a name="l01677"></a>01677 
<a name="l01678"></a><a class="code" href="class_cv_cam_shift_tracker.html#a8ce68d4dbad3750c8044b30d027c5318">01678</a>     <span class="keywordtype">int</span>     get_hist_dims( <span class="keywordtype">int</span>* <a class="code" href="core__c_8h.html#aedadeec3ef499c79fc32c00079f7982d">dims</a> = 0 ) const <span class="comment">// returns number of histogram dimensions and sets</span>
<a name="l01679"></a>01679     { <span class="keywordflow">return</span> m_hist ? cvGetDims( m_hist-&gt;bins, <a class="code" href="core__c_8h.html#aedadeec3ef499c79fc32c00079f7982d">dims</a> ) : 0; }
<a name="l01680"></a>01680 
<a name="l01681"></a><a class="code" href="class_cv_cam_shift_tracker.html#ac136cd11b6a731436ab1771da9fb7270">01681</a>     <span class="keywordtype">int</span>     get_min_ch_val( <span class="keywordtype">int</span> channel ) <span class="keyword">const</span> <span class="comment">// get the minimum allowed value of the specified channel</span>
<a name="l01682"></a>01682     { <span class="keywordflow">return</span> m_min_ch_val[channel]; }
<a name="l01683"></a>01683 
<a name="l01684"></a><a class="code" href="class_cv_cam_shift_tracker.html#a0d347d350c23939d437b5809edbe7cad">01684</a>     <span class="keywordtype">int</span>     get_max_ch_val( <span class="keywordtype">int</span> channel ) <span class="keyword">const</span> <span class="comment">// get the maximum allowed value of the specified channel</span>
<a name="l01685"></a>01685     { <span class="keywordflow">return</span> m_max_ch_val[channel]; }
<a name="l01686"></a>01686 
<a name="l01687"></a>01687     <span class="comment">// set initial object rectangle (must be called before initial calculation of the histogram)</span>
<a name="l01688"></a><a class="code" href="class_cv_cam_shift_tracker.html#a622f93b339f4e4f5ce430ab98296e22b">01688</a>     <span class="keywordtype">bool</span>    set_window( <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="tracking_8hpp.html#a1b64c58c64aaa8f792a6a64460bca138">window</a>)
<a name="l01689"></a>01689     { m_comp.rect = <a class="code" href="tracking_8hpp.html#a1b64c58c64aaa8f792a6a64460bca138">window</a>; <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l01690"></a>01690 
<a name="l01691"></a><a class="code" href="class_cv_cam_shift_tracker.html#a48a3188cc110b9c47fc7a2601ed4d39a">01691</a>     <span class="keywordtype">bool</span>    set_threshold( <span class="keywordtype">int</span> threshold ) <span class="comment">// threshold applied to the histogram bins</span>
<a name="l01692"></a>01692     { m_threshold = <a class="code" href="imgproc__c_8h.html#ad486c230317acbbf60577b15e027dc73">threshold</a>; <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l01693"></a>01693 
<a name="l01694"></a>01694     <span class="keywordtype">bool</span>    set_hist_bin_range( <span class="keywordtype">int</span> dim, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a2c60d4e453921f07a407a647c96e8316">min_val</a>, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a928495205a5ca34548c11042d48d733b">max_val</a> );
<a name="l01695"></a>01695 
<a name="l01696"></a>01696     <span class="keywordtype">bool</span>    set_hist_dims( <span class="keywordtype">int</span> c_dims, <span class="keywordtype">int</span>* <a class="code" href="core__c_8h.html#aedadeec3ef499c79fc32c00079f7982d">dims</a> );<span class="comment">// set the histogram parameters</span>
<a name="l01697"></a>01697 
<a name="l01698"></a><a class="code" href="class_cv_cam_shift_tracker.html#ab5014b4fcf66382372c038cb0e33d126">01698</a>     <span class="keywordtype">bool</span>    set_min_ch_val( <span class="keywordtype">int</span> channel, <span class="keywordtype">int</span> val ) <span class="comment">// set the minimum allowed value of the specified channel</span>
<a name="l01699"></a>01699     { m_min_ch_val[channel] = val; <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l01700"></a><a class="code" href="class_cv_cam_shift_tracker.html#a368c4f07d87adb375bf4bd44fdad127e">01700</a>     <span class="keywordtype">bool</span>    set_max_ch_val( <span class="keywordtype">int</span> channel, <span class="keywordtype">int</span> val ) <span class="comment">// set the maximum allowed value of the specified channel</span>
<a name="l01701"></a>01701     { m_max_ch_val[channel] = val; <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l01702"></a>01702 
<a name="l01703"></a>01703     <span class="comment">/************************ The processing methods *********************************/</span>
<a name="l01704"></a>01704     <span class="comment">// update object position</span>
<a name="l01705"></a>01705     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>  track_object( <span class="keyword">const</span> <a class="code" href="struct___ipl_image.html">IplImage</a>* cur_frame );
<a name="l01706"></a>01706 
<a name="l01707"></a>01707     <span class="comment">// update object histogram</span>
<a name="l01708"></a>01708     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>  update_histogram( <span class="keyword">const</span> <a class="code" href="struct___ipl_image.html">IplImage</a>* cur_frame );
<a name="l01709"></a>01709 
<a name="l01710"></a>01710     <span class="comment">// reset histogram</span>
<a name="l01711"></a>01711     <span class="keyword">virtual</span> <span class="keywordtype">void</span>  reset_histogram();
<a name="l01712"></a>01712 
<a name="l01713"></a>01713     <span class="comment">/************************ Retrieving internal data *******************************/</span>
<a name="l01714"></a>01714     <span class="comment">// get back project image</span>
<a name="l01715"></a><a class="code" href="class_cv_cam_shift_tracker.html#aa9d0dbbdb6322d705540031da55fca6c">01715</a>     <span class="keyword">virtual</span> <a class="code" href="struct___ipl_image.html">IplImage</a>* get_back_project()
<a name="l01716"></a>01716     { <span class="keywordflow">return</span> m_back_project; }
<a name="l01717"></a>01717 
<a name="l01718"></a><a class="code" href="class_cv_cam_shift_tracker.html#a6d56008cfcb5809f7ffecc438f7c8398">01718</a>     <span class="keywordtype">float</span> query( <span class="keywordtype">int</span>* bin )<span class="keyword"> const</span>
<a name="l01719"></a>01719 <span class="keyword">    </span>{ <span class="keywordflow">return</span> m_hist ? (<a class="code" href="namespacecv_1_1gpu_1_1device.html#a977e2629b1ece7a2a2d4b2cc8bc47089">float</a>)cvGetRealND(m_hist-&gt;bins, bin) : 0.f; }
<a name="l01720"></a>01720 
<a name="l01721"></a>01721 <span class="keyword">protected</span>:
<a name="l01722"></a>01722 
<a name="l01723"></a>01723     <span class="comment">// internal method for color conversion: fills m_color_planes group</span>
<a name="l01724"></a>01724     <span class="keyword">virtual</span> <span class="keywordtype">void</span> color_transform( <span class="keyword">const</span> <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a> );
<a name="l01725"></a>01725 
<a name="l01726"></a><a class="code" href="class_cv_cam_shift_tracker.html#a8a70cbfb40bae232846b09628c9e8039">01726</a>     <a class="code" href="struct_cv_histogram.html">CvHistogram</a>* <a class="code" href="class_cv_cam_shift_tracker.html#a8a70cbfb40bae232846b09628c9e8039">m_hist</a>;
<a name="l01727"></a>01727 
<a name="l01728"></a><a class="code" href="class_cv_cam_shift_tracker.html#a4d90ea8759266cd984cdcd23ed8b10dc">01728</a>     <a class="code" href="struct_cv_box2_d.html">CvBox2D</a>    <a class="code" href="class_cv_cam_shift_tracker.html#a4d90ea8759266cd984cdcd23ed8b10dc">m_box</a>;
<a name="l01729"></a><a class="code" href="class_cv_cam_shift_tracker.html#a480309b8cde6baed7e8d8c1e9c303000">01729</a>     <a class="code" href="struct_cv_connected_comp.html">CvConnectedComp</a> <a class="code" href="class_cv_cam_shift_tracker.html#a480309b8cde6baed7e8d8c1e9c303000">m_comp</a>;
<a name="l01730"></a>01730 
<a name="l01731"></a><a class="code" href="class_cv_cam_shift_tracker.html#a604d6c13c974f1e307c355a4fa799a84">01731</a>     <span class="keywordtype">float</span>      m_hist_ranges_data[CV_MAX_DIM][2];
<a name="l01732"></a><a class="code" href="class_cv_cam_shift_tracker.html#ad9aa31f80bae8c63affa1bf19d7a7094">01732</a>     <span class="keywordtype">float</span>*     m_hist_ranges[CV_MAX_DIM];
<a name="l01733"></a>01733 
<a name="l01734"></a><a class="code" href="class_cv_cam_shift_tracker.html#a1e26fbdc9d0e08b4253b3b19598625fc">01734</a>     <span class="keywordtype">int</span>        m_min_ch_val[CV_MAX_DIM];
<a name="l01735"></a><a class="code" href="class_cv_cam_shift_tracker.html#a72bc27bf9b95ae7b4ce01aab3ac6d65e">01735</a>     <span class="keywordtype">int</span>        m_max_ch_val[CV_MAX_DIM];
<a name="l01736"></a><a class="code" href="class_cv_cam_shift_tracker.html#a51a60c0c75436aee8d144324d18f8121">01736</a>     <span class="keywordtype">int</span>        <a class="code" href="class_cv_cam_shift_tracker.html#a51a60c0c75436aee8d144324d18f8121">m_threshold</a>;
<a name="l01737"></a>01737 
<a name="l01738"></a><a class="code" href="class_cv_cam_shift_tracker.html#ad1ecdd6a52006e4c8c7f2e3ef640e885">01738</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*  m_color_planes[CV_MAX_DIM];
<a name="l01739"></a><a class="code" href="class_cv_cam_shift_tracker.html#af82c8f5cad220a4c4b3e9da999db1a5a">01739</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*  <a class="code" href="class_cv_cam_shift_tracker.html#af82c8f5cad220a4c4b3e9da999db1a5a">m_back_project</a>;
<a name="l01740"></a><a class="code" href="class_cv_cam_shift_tracker.html#afd7ff0e241e053ea3c4b590f868610fd">01740</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*  <a class="code" href="class_cv_cam_shift_tracker.html#afd7ff0e241e053ea3c4b590f868610fd">m_temp</a>;
<a name="l01741"></a><a class="code" href="class_cv_cam_shift_tracker.html#ae8ec22e76c084ee2549a0a0888f0a84b">01741</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*  <a class="code" href="class_cv_cam_shift_tracker.html#ae8ec22e76c084ee2549a0a0888f0a84b">m_mask</a>;
<a name="l01742"></a>01742 };
<a name="l01743"></a>01743 
<a name="l01744"></a>01744 <span class="comment">/****************************************************************************************\</span>
<a name="l01745"></a>01745 <span class="comment">*                              Expectation - Maximization                                *</span>
<a name="l01746"></a>01746 <span class="comment">\****************************************************************************************/</span>
<a name="l01747"></a><a class="code" href="struct_cv_e_m_params.html">01747</a> <span class="keyword">struct </span>CV_EXPORTS_W_MAP <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>
<a name="l01748"></a>01748 {
<a name="l01749"></a>01749     <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>();
<a name="l01750"></a>01750     CvEMParams( <span class="keywordtype">int</span> nclusters, <span class="keywordtype">int</span> cov_mat_type=<a class="code" href="classcv_1_1_e_m.html#a31f2b56fa1a8bd1740478d82e17ef7b8a0b71e6ae72eca0a1cb86d279777b2a58">cv::EM::COV_MAT_DIAGONAL</a>,
<a name="l01751"></a>01751                 <span class="keywordtype">int</span> start_step=<a class="code" href="classcv_1_1_e_m.html#a75d56b4f45c73faf5cb253e46a49401aaf4d14cf8c6fcb34cf1afcb6653eb4473">cv::EM::START_AUTO_STEP</a>,
<a name="l01752"></a>01752                 <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a> term_crit=<a class="code" href="core_2types__c_8h.html#a798d54ea85fdbd8dad543c3b8721763a">cvTermCriteria</a>(CV_TERMCRIT_ITER+CV_TERMCRIT_EPS, 100, FLT_EPSILON),
<a name="l01753"></a>01753                 <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* probs=0, <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="ml_8hpp.html#a38525d8cfe89082febc5e55226932130">weights</a>=0, <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* means=0, <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="ml_8hpp.html#a9b20081d8c8ca2da7e7d628e5e3e7b26">covs</a>=0 );
<a name="l01754"></a>01754 
<a name="l01755"></a><a class="code" href="struct_cv_e_m_params.html#ab4598317d50af464809c005e820dd734">01755</a>     CV_PROP_RW <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_m_params.html#ab4598317d50af464809c005e820dd734">nclusters</a>;
<a name="l01756"></a><a class="code" href="struct_cv_e_m_params.html#a513252bfb4665e36aee8a4700c149e24">01756</a>     CV_PROP_RW <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_m_params.html#a513252bfb4665e36aee8a4700c149e24">cov_mat_type</a>;
<a name="l01757"></a><a class="code" href="struct_cv_e_m_params.html#a4f5574b5cdf6ae9fc7638de01027bb9a">01757</a>     CV_PROP_RW <span class="keywordtype">int</span> <a class="code" href="struct_cv_e_m_params.html#a4f5574b5cdf6ae9fc7638de01027bb9a">start_step</a>;
<a name="l01758"></a><a class="code" href="struct_cv_e_m_params.html#aa1eb7c63f472c3cd5552423d71caa41c">01758</a>     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_e_m_params.html#aa1eb7c63f472c3cd5552423d71caa41c">probs</a>;
<a name="l01759"></a><a class="code" href="struct_cv_e_m_params.html#a8afd483b2adcdb2bf6f21006a31ce90b">01759</a>     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_e_m_params.html#a8afd483b2adcdb2bf6f21006a31ce90b">weights</a>;
<a name="l01760"></a><a class="code" href="struct_cv_e_m_params.html#ad35c93bb8b92d97f50bb01bab2593f83">01760</a>     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_e_m_params.html#ad35c93bb8b92d97f50bb01bab2593f83">means</a>;
<a name="l01761"></a><a class="code" href="struct_cv_e_m_params.html#a1c5239f6c42330a338ecb3a140dd44a3">01761</a>     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="struct_cv_e_m_params.html#a1c5239f6c42330a338ecb3a140dd44a3">covs</a>;
<a name="l01762"></a><a class="code" href="struct_cv_e_m_params.html#a4ce4aa1bb3bde8115d289cd7c6fd0510">01762</a>     CV_PROP_RW <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a> <a class="code" href="struct_cv_e_m_params.html#a4ce4aa1bb3bde8115d289cd7c6fd0510">term_crit</a>;
<a name="l01763"></a>01763 };
<a name="l01764"></a>01764 
<a name="l01765"></a>01765 
<a name="l01766"></a><a class="code" href="class_cv_e_m.html">01766</a> <span class="keyword">class </span>CV_EXPORTS_W <a class="code" href="class_cv_e_m.html">CvEM</a> : <span class="keyword">public</span> <a class="code" href="class_cv_stat_model.html">CvStatModel</a>
<a name="l01767"></a>01767 {
<a name="l01768"></a>01768 <span class="keyword">public</span>:
<a name="l01769"></a>01769     <span class="comment">// Type of covariation matrices</span>
<a name="l01770"></a><a class="code" href="class_cv_e_m.html#aa9ca64cdd49bab8658e4ea0a80ef5dc0ae36f615f875ec4f44776387d83432925">01770</a>     <span class="keyword">enum</span> { COV_MAT_SPHERICAL=<a class="code" href="classcv_1_1_e_m.html#a31f2b56fa1a8bd1740478d82e17ef7b8ac4dbeb332c254758f3cea60d4d1ab7aa">cv::EM::COV_MAT_SPHERICAL</a>,
<a name="l01771"></a><a class="code" href="class_cv_e_m.html#aa9ca64cdd49bab8658e4ea0a80ef5dc0aecaa23a5a4597bdf286bfb7a8e6da8e6">01771</a>            COV_MAT_DIAGONAL =<a class="code" href="classcv_1_1_e_m.html#a31f2b56fa1a8bd1740478d82e17ef7b8a0b71e6ae72eca0a1cb86d279777b2a58">cv::EM::COV_MAT_DIAGONAL</a>,
<a name="l01772"></a><a class="code" href="class_cv_e_m.html#aa9ca64cdd49bab8658e4ea0a80ef5dc0a9bcf25ba46a7360e23cb360f47d9a23c">01772</a>            COV_MAT_GENERIC  =<a class="code" href="classcv_1_1_e_m.html#a31f2b56fa1a8bd1740478d82e17ef7b8a004fe4a422a2b84a9c387aadaddcba18">cv::EM::COV_MAT_GENERIC</a> };
<a name="l01773"></a>01773 
<a name="l01774"></a>01774     <span class="comment">// The initial step</span>
<a name="l01775"></a><a class="code" href="class_cv_e_m.html#a785ae47fb071ac803e8f1da43355031ba2c6b76e4dab48f91479843ca7e1ebf6a">01775</a>     <span class="keyword">enum</span> { START_E_STEP=<a class="code" href="classcv_1_1_e_m.html#a75d56b4f45c73faf5cb253e46a49401aaad4634a0dfe1c2f3d75de79ce2de223f">cv::EM::START_E_STEP</a>,
<a name="l01776"></a><a class="code" href="class_cv_e_m.html#a785ae47fb071ac803e8f1da43355031ba34506981d9ee8b935b09ddd276ecc261">01776</a>            START_M_STEP=<a class="code" href="classcv_1_1_e_m.html#a75d56b4f45c73faf5cb253e46a49401aa1f246a1c0b0f5845a13c02c5429f00ab">cv::EM::START_M_STEP</a>,
<a name="l01777"></a><a class="code" href="class_cv_e_m.html#a785ae47fb071ac803e8f1da43355031baf2f2d0bba154f188d24a3c00628d1a51">01777</a>            START_AUTO_STEP=<a class="code" href="classcv_1_1_e_m.html#a75d56b4f45c73faf5cb253e46a49401aaf4d14cf8c6fcb34cf1afcb6653eb4473">cv::EM::START_AUTO_STEP</a> };
<a name="l01778"></a>01778 
<a name="l01779"></a>01779     CV_WRAP <a class="code" href="class_cv_e_m.html">CvEM</a>();
<a name="l01780"></a>01780     <a class="code" href="class_cv_e_m.html">CvEM</a>( <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#a4fd80ec44eadba9c1fc910f5132046b6">samples</a>, <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* sampleIdx=0,
<a name="l01781"></a>01781           <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a> <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>(), <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#a1342f74a0f7dd7c20ab7e79b2e6e5af5">labels</a>=0 );
<a name="l01782"></a>01782 
<a name="l01783"></a>01783     <span class="keyword">virtual</span> ~<a class="code" href="class_cv_e_m.html">CvEM</a>();
<a name="l01784"></a>01784 
<a name="l01785"></a>01785     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> train( <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* samples, <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* sampleIdx=0,
<a name="l01786"></a>01786                         <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a> <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>(), <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#a1342f74a0f7dd7c20ab7e79b2e6e5af5">labels</a>=0 );
<a name="l01787"></a>01787 
<a name="l01788"></a>01788     <span class="keyword">virtual</span> <span class="keywordtype">float</span> predict( <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="ml_8hpp.html#a049b91b59a754a10f0b653fad46aedc6">sample</a>, CV_OUT <a class="code" href="struct_cv_mat.html">CvMat</a>* probs ) <span class="keyword">const</span>;
<a name="l01789"></a>01789 
<a name="l01790"></a>01790     CV_WRAP <a class="code" href="class_cv_e_m.html">CvEM</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>&amp; samples, <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>&amp; sampleIdx=<a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>(),
<a name="l01791"></a>01791                   <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a> <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>() );
<a name="l01792"></a>01792 
<a name="l01793"></a>01793     CV_WRAP <span class="keyword">virtual</span> <span class="keywordtype">bool</span> train( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>&amp; samples,
<a name="l01794"></a>01794                                 <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>&amp; sampleIdx=<a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>(),
<a name="l01795"></a>01795                                 <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a> <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="struct_cv_e_m_params.html">CvEMParams</a>(),
<a name="l01796"></a>01796                                 CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>* <a class="code" href="core__c_8h.html#a1342f74a0f7dd7c20ab7e79b2e6e5af5">labels</a>=0 );
<a name="l01797"></a>01797 
<a name="l01798"></a>01798     CV_WRAP <span class="keyword">virtual</span> <span class="keywordtype">float</span> predict( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>&amp; <a class="code" href="ml_8hpp.html#a049b91b59a754a10f0b653fad46aedc6">sample</a>, CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a>* probs=0 ) <span class="keyword">const</span>;
<a name="l01799"></a>01799     CV_WRAP <span class="keyword">virtual</span> <span class="keywordtype">double</span> calcLikelihood( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a> &amp;<a class="code" href="ml_8hpp.html#a049b91b59a754a10f0b653fad46aedc6">sample</a> ) <span class="keyword">const</span>;
<a name="l01800"></a>01800 
<a name="l01801"></a>01801     CV_WRAP <span class="keywordtype">int</span> getNClusters() <span class="keyword">const</span>;
<a name="l01802"></a>01802     CV_WRAP <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a> getMeans() <span class="keyword">const</span>;
<a name="l01803"></a>01803     CV_WRAP <span class="keywordtype">void</span> getCovs(CV_OUT std::vector&lt;cv::Mat&gt;&amp; <a class="code" href="ml_8hpp.html#a9b20081d8c8ca2da7e7d628e5e3e7b26">covs</a>) <span class="keyword">const</span>;
<a name="l01804"></a>01804     CV_WRAP <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a> getWeights() <span class="keyword">const</span>;
<a name="l01805"></a>01805     CV_WRAP <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a> getProbs() <span class="keyword">const</span>;
<a name="l01806"></a>01806 
<a name="l01807"></a><a class="code" href="class_cv_e_m.html#a1e83ce512fc4549aba7ff2a9be728f1e">01807</a>     CV_WRAP <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="class_cv_e_m.html#a1e83ce512fc4549aba7ff2a9be728f1e">getLikelihood</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emObj.isTrained() ? logLikelihood : DBL_MAX; }
<a name="l01808"></a>01808 
<a name="l01809"></a>01809     CV_WRAP <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_cv_stat_model.html#a02fd12dd137e8a63921f8d0b1fb4ad94">clear</a>();
<a name="l01810"></a>01810 
<a name="l01811"></a>01811     <span class="keywordtype">int</span> get_nclusters() <span class="keyword">const</span>;
<a name="l01812"></a>01812     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* get_means() <span class="keyword">const</span>;
<a name="l01813"></a>01813     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>** get_covs() <span class="keyword">const</span>;
<a name="l01814"></a>01814     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* get_weights() <span class="keyword">const</span>;
<a name="l01815"></a>01815     <span class="keyword">const</span> <a class="code" href="struct_cv_mat.html">CvMat</a>* get_probs() <span class="keyword">const</span>;
<a name="l01816"></a>01816 
<a name="l01817"></a><a class="code" href="class_cv_e_m.html#a7b5353a648df8b7f99dfb89be167e7d8">01817</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="class_cv_e_m.html#a7b5353a648df8b7f99dfb89be167e7d8">get_log_likelihood</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getLikelihood(); }
<a name="l01818"></a>01818 
<a name="l01819"></a>01819     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_cv_stat_model.html#a119b94823df534c04e6f38811e8fbf2e">read</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <a class="code" href="struct_cv_file_node.html">CvFileNode</a>* <a class="code" href="core__c_8h.html#a4e145da43d8cadc65b69ce0c2a2cc76a">node</a> );
<a name="l01820"></a>01820     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_cv_stat_model.html#ace5efd003d545236eea5caa81c2cc7f9">write</a>( <a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a> ) <span class="keyword">const</span>;
<a name="l01821"></a>01821 
<a name="l01822"></a>01822 <span class="keyword">protected</span>:
<a name="l01823"></a>01823     <span class="keywordtype">void</span> set_mat_hdrs();
<a name="l01824"></a>01824 
<a name="l01825"></a><a class="code" href="class_cv_e_m.html#adc33bb755af7f00b79ba42d9dc5d2c18">01825</a>     <a class="code" href="classcv_1_1_e_m.html">cv::EM</a> <a class="code" href="class_cv_e_m.html#adc33bb755af7f00b79ba42d9dc5d2c18">emObj</a>;
<a name="l01826"></a><a class="code" href="class_cv_e_m.html#a900462c91f3f1570f3c125b6f158e14a">01826</a>     <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">cv::Mat</a> <a class="code" href="class_cv_e_m.html#a900462c91f3f1570f3c125b6f158e14a">probs</a>;
<a name="l01827"></a><a class="code" href="class_cv_e_m.html#a48aefad3076a7f66854a4ef7c9a5d9e1">01827</a>     <span class="keywordtype">double</span> <a class="code" href="class_cv_e_m.html#a48aefad3076a7f66854a4ef7c9a5d9e1">logLikelihood</a>;
<a name="l01828"></a>01828 
<a name="l01829"></a><a class="code" href="class_cv_e_m.html#a68476dd0e33022f321fa6e8ec6ec566f">01829</a>     <a class="code" href="struct_cv_mat.html">CvMat</a> <a class="code" href="class_cv_e_m.html#a68476dd0e33022f321fa6e8ec6ec566f">meansHdr</a>;
<a name="l01830"></a><a class="code" href="class_cv_e_m.html#a8397151c341bb553c959ac06ae520995">01830</a>     std::vector&lt;CvMat&gt; <a class="code" href="class_cv_e_m.html#a8397151c341bb553c959ac06ae520995">covsHdrs</a>;
<a name="l01831"></a><a class="code" href="class_cv_e_m.html#a121228b703d436a56b5cd9b1d2326605">01831</a>     std::vector&lt;CvMat*&gt; <a class="code" href="class_cv_e_m.html#a121228b703d436a56b5cd9b1d2326605">covsPtrs</a>;
<a name="l01832"></a><a class="code" href="class_cv_e_m.html#aafed9f1ff2f6e33ca92ee87308fd587e">01832</a>     <a class="code" href="struct_cv_mat.html">CvMat</a> <a class="code" href="class_cv_e_m.html#aafed9f1ff2f6e33ca92ee87308fd587e">weightsHdr</a>;
<a name="l01833"></a><a class="code" href="class_cv_e_m.html#a1c5281eebf72165b8e7aca90abc084c8">01833</a>     <a class="code" href="struct_cv_mat.html">CvMat</a> <a class="code" href="class_cv_e_m.html#a1c5281eebf72165b8e7aca90abc084c8">probsHdr</a>;
<a name="l01834"></a>01834 };
<a name="l01835"></a>01835 
<a name="l01836"></a>01836 <span class="keyword">namespace </span>cv
<a name="l01837"></a>01837 {
<a name="l01838"></a>01838 
<a name="l01839"></a><a class="code" href="namespacecv.html#aa4086d21d046ca9c98bf0f2ca7c8a376">01839</a> <span class="keyword">typedef</span> <a class="code" href="struct_cv_e_m_params.html">CvEMParams</a> <a class="code" href="namespacecv.html#aa4086d21d046ca9c98bf0f2ca7c8a376">EMParams</a>;
<a name="l01840"></a><a class="code" href="namespacecv.html#abe12c53d4ecd3c437c8b209b504b5fd3">01840</a> <span class="keyword">typedef</span> <a class="code" href="class_cv_e_m.html">CvEM</a> <a class="code" href="namespacecv.html#abe12c53d4ecd3c437c8b209b504b5fd3">ExpectationMaximization</a>;
<a name="l01841"></a>01841 
<a name="l01845"></a><a class="code" href="classcv_1_1_patch_generator.html">01845</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>
<a name="l01846"></a>01846 {
<a name="l01847"></a>01847 <span class="keyword">public</span>:
<a name="l01848"></a>01848     <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>();
<a name="l01849"></a>01849     <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>(<span class="keywordtype">double</span> _backgroundMin, <span class="keywordtype">double</span> _backgroundMax,
<a name="l01850"></a>01850                    <span class="keywordtype">double</span> _noiseRange, <span class="keywordtype">bool</span> _randomBlur=<span class="keyword">true</span>,
<a name="l01851"></a>01851                    <span class="keywordtype">double</span> _lambdaMin=0.6, <span class="keywordtype">double</span> _lambdaMax=1.5,
<a name="l01852"></a>01852                    <span class="keywordtype">double</span> _thetaMin=-CV_PI, <span class="keywordtype">double</span> _thetaMax=CV_PI,
<a name="l01853"></a>01853                    <span class="keywordtype">double</span> _phiMin=-CV_PI, <span class="keywordtype">double</span> _phiMax=CV_PI );
<a name="l01854"></a>01854     <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, <a class="code" href="classcv_1_1_point__.html">Point2f</a> <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a>, <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; patch, <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> patchSize, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a>&amp; <a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>) <span class="keyword">const</span>;
<a name="l01855"></a>01855     <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; <a class="code" href="namespacecv.html#a1fde6d7b2bc077001501b8c201f2ec09" title="performs affine transformation of each element of multi-channel input matrix">transform</a>, <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; patch,
<a name="l01856"></a>01856                     <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> patchSize, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a>&amp; rng) <span class="keyword">const</span>;
<a name="l01857"></a>01857     <span class="keywordtype">void</span> warpWholeImage(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; matT, <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; buf,
<a name="l01858"></a>01858                         CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; warped, <span class="keywordtype">int</span> border, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a>&amp; rng) <span class="keyword">const</span>;
<a name="l01859"></a>01859     <span class="keywordtype">void</span> generateRandomTransform(<a class="code" href="classcv_1_1_point__.html">Point2f</a> srcCenter, <a class="code" href="classcv_1_1_point__.html">Point2f</a> dstCenter,
<a name="l01860"></a>01860                                  CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; transform, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a>&amp; rng,
<a name="l01861"></a>01861                                  <span class="keywordtype">bool</span> inverse=<span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l01862"></a>01862     <span class="keywordtype">void</span> setAffineParam(<span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a2b2a31d8b9a3be743757541bf16e5801">lambda</a>, <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#a90ba48f41646a904a861746079d43f17">theta</a>, <span class="keywordtype">double</span> phi);
<a name="l01863"></a>01863 
<a name="l01864"></a><a class="code" href="classcv_1_1_patch_generator.html#a3c2b6aca2c406e7617dbd5fd83ec5a0a">01864</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_patch_generator.html#a3c2b6aca2c406e7617dbd5fd83ec5a0a">backgroundMin</a>, backgroundMax;
<a name="l01865"></a><a class="code" href="classcv_1_1_patch_generator.html#a3c8dcaf83943fb23d3f92aeda91d9c96">01865</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_patch_generator.html#a3c8dcaf83943fb23d3f92aeda91d9c96">noiseRange</a>;
<a name="l01866"></a><a class="code" href="classcv_1_1_patch_generator.html#ade5abfe6a85cace20395aed14ffece51">01866</a>     <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_patch_generator.html#ade5abfe6a85cace20395aed14ffece51">randomBlur</a>;
<a name="l01867"></a><a class="code" href="classcv_1_1_patch_generator.html#a22ea3826cd7c440b966330b112889ee6">01867</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_patch_generator.html#a22ea3826cd7c440b966330b112889ee6">lambdaMin</a>, lambdaMax;
<a name="l01868"></a><a class="code" href="classcv_1_1_patch_generator.html#a5177046d4572deffe9cb86786bcea262">01868</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_patch_generator.html#a5177046d4572deffe9cb86786bcea262">thetaMin</a>, thetaMax;
<a name="l01869"></a><a class="code" href="classcv_1_1_patch_generator.html#a7d9f41b65e2b2e8f55297588361bc55b">01869</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_patch_generator.html#a7d9f41b65e2b2e8f55297588361bc55b">phiMin</a>, phiMax;
<a name="l01870"></a>01870 };
<a name="l01871"></a>01871 
<a name="l01872"></a>01872 
<a name="l01873"></a><a class="code" href="classcv_1_1_l_detector.html">01873</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>
<a name="l01874"></a>01874 {
<a name="l01875"></a>01875 <span class="keyword">public</span>:
<a name="l01876"></a>01876     <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>();
<a name="l01877"></a>01877     <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>(<span class="keywordtype">int</span> _radius, <span class="keywordtype">int</span> _threshold, <span class="keywordtype">int</span> _nOctaves,
<a name="l01878"></a>01878               <span class="keywordtype">int</span> _nViews, <span class="keywordtype">double</span> _baseFeatureSize, <span class="keywordtype">double</span> _clusteringDistance);
<a name="l01879"></a>01879     <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image,
<a name="l01880"></a>01880                     CV_OUT vector&lt;KeyPoint&gt;&amp; <a class="code" href="compat_8hpp.html#af95b6678bbbdd664ed15fe6d4190d355">keypoints</a>,
<a name="l01881"></a>01881                     <span class="keywordtype">int</span> maxCount=0, <span class="keywordtype">bool</span> scaleCoords=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l01882"></a>01882     <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> vector&lt;Mat&gt;&amp; pyr,
<a name="l01883"></a>01883                     CV_OUT vector&lt;KeyPoint&gt;&amp; keypoints,
<a name="l01884"></a>01884                     <span class="keywordtype">int</span> maxCount=0, <span class="keywordtype">bool</span> scaleCoords=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l01885"></a>01885     <span class="keywordtype">void</span> getMostStable2D(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, CV_OUT vector&lt;KeyPoint&gt;&amp; keypoints,
<a name="l01886"></a>01886                          <span class="keywordtype">int</span> maxCount, <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator) <span class="keyword">const</span>;
<a name="l01887"></a>01887     <span class="keywordtype">void</span> setVerbose(<span class="keywordtype">bool</span> verbose);
<a name="l01888"></a>01888 
<a name="l01889"></a>01889     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; <a class="code" href="core__c_8h.html#a4e145da43d8cadc65b69ce0c2a2cc76a">node</a>);
<a name="l01890"></a>01890     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(<a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; fs, <span class="keyword">const</span> <a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>&amp; <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>=<a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>()) <span class="keyword">const</span>;
<a name="l01891"></a>01891 
<a name="l01892"></a><a class="code" href="classcv_1_1_l_detector.html#aafdeb086edf9c1d3f03134d98facddf1">01892</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_l_detector.html#aafdeb086edf9c1d3f03134d98facddf1">radius</a>;
<a name="l01893"></a><a class="code" href="classcv_1_1_l_detector.html#a372dcd920ed343bb20a3b6f2799555f4">01893</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_l_detector.html#a372dcd920ed343bb20a3b6f2799555f4">threshold</a>;
<a name="l01894"></a><a class="code" href="classcv_1_1_l_detector.html#a13838093a3d39f8013f756c165f0d7ae">01894</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_l_detector.html#a13838093a3d39f8013f756c165f0d7ae">nOctaves</a>;
<a name="l01895"></a><a class="code" href="classcv_1_1_l_detector.html#adf2f18a509af4b7491fa84618d1c7a35">01895</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_l_detector.html#adf2f18a509af4b7491fa84618d1c7a35">nViews</a>;
<a name="l01896"></a><a class="code" href="classcv_1_1_l_detector.html#a42b927a3a8a1d463e4aff0cdfd87250d">01896</a>     <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_l_detector.html#a42b927a3a8a1d463e4aff0cdfd87250d">verbose</a>;
<a name="l01897"></a>01897 
<a name="l01898"></a><a class="code" href="classcv_1_1_l_detector.html#a4eca668768bb9da7a20ad1d8ceac2824">01898</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_l_detector.html#a4eca668768bb9da7a20ad1d8ceac2824">baseFeatureSize</a>;
<a name="l01899"></a><a class="code" href="classcv_1_1_l_detector.html#a897c277c3e229558a9b2e127ddab2884">01899</a>     <span class="keywordtype">double</span> <a class="code" href="classcv_1_1_l_detector.html#a897c277c3e229558a9b2e127ddab2884">clusteringDistance</a>;
<a name="l01900"></a>01900 };
<a name="l01901"></a>01901 
<a name="l01902"></a><a class="code" href="namespacecv.html#ac1744a010c8adb6f5ce848b9b2f8b42b">01902</a> <span class="keyword">typedef</span> <a class="code" href="classcv_1_1_l_detector.html">LDetector</a> <a class="code" href="namespacecv.html#ac1744a010c8adb6f5ce848b9b2f8b42b">YAPE</a>;
<a name="l01903"></a>01903 
<a name="l01904"></a><a class="code" href="classcv_1_1_fern_classifier.html">01904</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>
<a name="l01905"></a>01905 {
<a name="l01906"></a>01906 <span class="keyword">public</span>:
<a name="l01907"></a>01907     <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>();
<a name="l01908"></a>01908     <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; <a class="code" href="core__c_8h.html#a4e145da43d8cadc65b69ce0c2a2cc76a">node</a>);
<a name="l01909"></a>01909     <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>(<span class="keyword">const</span> vector&lt;vector&lt;Point2f&gt; &gt;&amp; points,
<a name="l01910"></a>01910                    <span class="keyword">const</span> vector&lt;Mat&gt;&amp; refimgs,
<a name="l01911"></a>01911                    <span class="keyword">const</span> vector&lt;vector&lt;int&gt; &gt;&amp; <a class="code" href="namespacecv.html#acd1a236e7d53627b7cb744330f8b59d8">labels</a>=vector&lt;vector&lt;int&gt; &gt;(),
<a name="l01912"></a>01912                    <span class="keywordtype">int</span> _nclasses=0, <span class="keywordtype">int</span> _patchSize=PATCH_SIZE,
<a name="l01913"></a>01913                    <span class="keywordtype">int</span> _signatureSize=DEFAULT_SIGNATURE_SIZE,
<a name="l01914"></a>01914                    <span class="keywordtype">int</span> _nstructs=DEFAULT_STRUCTS,
<a name="l01915"></a>01915                    <span class="keywordtype">int</span> _structSize=DEFAULT_STRUCT_SIZE,
<a name="l01916"></a>01916                    <span class="keywordtype">int</span> _nviews=DEFAULT_VIEWS,
<a name="l01917"></a>01917                    <span class="keywordtype">int</span> _compressionMethod=COMPRESSION_NONE,
<a name="l01918"></a>01918                    <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l01919"></a>01919     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>();
<a name="l01920"></a>01920     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; <a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>);
<a name="l01921"></a>01921     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(<a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; fs, <span class="keyword">const</span> <a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>&amp; <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>=<a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>()) <span class="keyword">const</span>;
<a name="l01922"></a>01922     <span class="keyword">virtual</span> <span class="keywordtype">void</span> trainFromSingleView(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image,
<a name="l01923"></a>01923                                      <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; <a class="code" href="compat_8hpp.html#af95b6678bbbdd664ed15fe6d4190d355">keypoints</a>,
<a name="l01924"></a>01924                                      <span class="keywordtype">int</span> _patchSize=PATCH_SIZE,
<a name="l01925"></a>01925                                      <span class="keywordtype">int</span> _signatureSize=DEFAULT_SIGNATURE_SIZE,
<a name="l01926"></a>01926                                      <span class="keywordtype">int</span> _nstructs=DEFAULT_STRUCTS,
<a name="l01927"></a>01927                                      <span class="keywordtype">int</span> _structSize=DEFAULT_STRUCT_SIZE,
<a name="l01928"></a>01928                                      <span class="keywordtype">int</span> _nviews=DEFAULT_VIEWS,
<a name="l01929"></a>01929                                      <span class="keywordtype">int</span> _compressionMethod=COMPRESSION_NONE,
<a name="l01930"></a>01930                                      <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l01931"></a>01931     <span class="keyword">virtual</span> <span class="keywordtype">void</span> train(<span class="keyword">const</span> vector&lt;vector&lt;Point2f&gt; &gt;&amp; points,
<a name="l01932"></a>01932                        <span class="keyword">const</span> vector&lt;Mat&gt;&amp; refimgs,
<a name="l01933"></a>01933                        <span class="keyword">const</span> vector&lt;vector&lt;int&gt; &gt;&amp; <a class="code" href="namespacecv.html#acd1a236e7d53627b7cb744330f8b59d8">labels</a>=vector&lt;vector&lt;int&gt; &gt;(),
<a name="l01934"></a>01934                        <span class="keywordtype">int</span> _nclasses=0, <span class="keywordtype">int</span> _patchSize=PATCH_SIZE,
<a name="l01935"></a>01935                        <span class="keywordtype">int</span> _signatureSize=DEFAULT_SIGNATURE_SIZE,
<a name="l01936"></a>01936                        <span class="keywordtype">int</span> _nstructs=DEFAULT_STRUCTS,
<a name="l01937"></a>01937                        <span class="keywordtype">int</span> _structSize=DEFAULT_STRUCT_SIZE,
<a name="l01938"></a>01938                        <span class="keywordtype">int</span> _nviews=DEFAULT_VIEWS,
<a name="l01939"></a>01939                        <span class="keywordtype">int</span> _compressionMethod=COMPRESSION_NONE,
<a name="l01940"></a>01940                        <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l01941"></a>01941     <span class="keyword">virtual</span> <span class="keywordtype">int</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; <a class="code" href="legacy_8hpp.html#a5349238b3772bed6eae0fda3117ccfef">img</a>, <a class="code" href="classcv_1_1_point__.html">Point2f</a> kpt, vector&lt;float&gt;&amp; signature) <span class="keyword">const</span>;
<a name="l01942"></a>01942     <span class="keyword">virtual</span> <span class="keywordtype">int</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; patch, vector&lt;float&gt;&amp; signature) <span class="keyword">const</span>;
<a name="l01943"></a>01943     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1gl.html#a2fbfcc011e3992ebe4a239464a97d896">clear</a>();
<a name="l01944"></a>01944     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
<a name="l01945"></a>01945     <span class="keywordtype">void</span> setVerbose(<span class="keywordtype">bool</span> verbose);
<a name="l01946"></a>01946 
<a name="l01947"></a>01947     <span class="keywordtype">int</span> getClassCount() <span class="keyword">const</span>;
<a name="l01948"></a>01948     <span class="keywordtype">int</span> getStructCount() <span class="keyword">const</span>;
<a name="l01949"></a>01949     <span class="keywordtype">int</span> getStructSize() <span class="keyword">const</span>;
<a name="l01950"></a>01950     <span class="keywordtype">int</span> getSignatureSize() <span class="keyword">const</span>;
<a name="l01951"></a>01951     <span class="keywordtype">int</span> getCompressionMethod() <span class="keyword">const</span>;
<a name="l01952"></a>01952     <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> getPatchSize() <span class="keyword">const</span>;
<a name="l01953"></a>01953 
<a name="l01954"></a><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html">01954</a>     <span class="keyword">struct </span><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html">Feature</a>
<a name="l01955"></a>01955     {
<a name="l01956"></a><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#ab6e52584abe52841dbe48135df7f25a5">01956</a>         <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> x1, y1, x2, <a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#ab6e52584abe52841dbe48135df7f25a5">y2</a>;
<a name="l01957"></a><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#a10210adfba0d3f8e702755689c4be8c3">01957</a>         <a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#a10210adfba0d3f8e702755689c4be8c3">Feature</a>() : x1(0), y1(0), x2(0), y2(0) {}
<a name="l01958"></a><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#aca2f2cbc953bb99e9fee4bb27ce8cdc9">01958</a>         <a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html">Feature</a>(<span class="keywordtype">int</span> _x1, <span class="keywordtype">int</span> _y1, <span class="keywordtype">int</span> _x2, <span class="keywordtype">int</span> _y2)
<a name="l01959"></a>01959         : x1((<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>)_x1), y1((<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>)_y1), x2((<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>)_x2), y2((<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>)_y2)
<a name="l01960"></a>01960         {}
<a name="l01961"></a><a class="code" href="structcv_1_1_fern_classifier_1_1_feature.html#a9580650396e1258d2d26e047c0786e4f">01961</a>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp&gt; <span class="keywordtype">bool</span> operator ()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat__.html" title="Template matrix class derived from Mat.">Mat_&lt;_Tp&gt;</a>&amp; patch)<span class="keyword"> const</span>
<a name="l01962"></a>01962 <span class="keyword">        </span>{ <span class="keywordflow">return</span> patch(y1,x1) &gt; patch(y2, x2); }
<a name="l01963"></a>01963     };
<a name="l01964"></a>01964 
<a name="l01965"></a>01965     <span class="keyword">enum</span>
<a name="l01966"></a>01966     {
<a name="l01967"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca24404de82f8919357a5f8e79ebbd9d1a">01967</a>         PATCH_SIZE = 31,
<a name="l01968"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcab6933cb0baa7f1218196052c4dbfe66c">01968</a>         DEFAULT_STRUCTS = 50,
<a name="l01969"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcae6b19b111a3c9a6fd339907e6118d707">01969</a>         DEFAULT_STRUCT_SIZE = 9,
<a name="l01970"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca333a37941aa3a8a7039ad179cb124216">01970</a>         DEFAULT_VIEWS = 5000,
<a name="l01971"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca4278805e49ddbabb97b52e29973b9d85">01971</a>         DEFAULT_SIGNATURE_SIZE = 176,
<a name="l01972"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcacc4c78b39eb783cc2b4fdd9fe1e87588">01972</a>         COMPRESSION_NONE = 0,
<a name="l01973"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca07c39baad3b4a32a32ad9961113f6bb7">01973</a>         COMPRESSION_RANDOM_PROJ = 1,
<a name="l01974"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca77a99c3ce4424b798cb14c330d02159c">01974</a>         COMPRESSION_PCA = 2,
<a name="l01975"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcad64e17809b9e5ee5918a064499a792d1">01975</a>         DEFAULT_COMPRESSION_METHOD = COMPRESSION_NONE
<a name="l01976"></a>01976     };
<a name="l01977"></a>01977 
<a name="l01978"></a>01978 <span class="keyword">protected</span>:
<a name="l01979"></a>01979     <span class="keyword">virtual</span> <span class="keywordtype">void</span> prepare(<span class="keywordtype">int</span> _nclasses, <span class="keywordtype">int</span> _patchSize, <span class="keywordtype">int</span> _signatureSize,
<a name="l01980"></a>01980                          <span class="keywordtype">int</span> _nstructs, <span class="keywordtype">int</span> _structSize,
<a name="l01981"></a>01981                          <span class="keywordtype">int</span> _nviews, <span class="keywordtype">int</span> _compressionMethod);
<a name="l01982"></a>01982     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize(<a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a>&amp; <a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>);
<a name="l01983"></a>01983     <span class="keyword">virtual</span> <span class="keywordtype">int</span> getLeaf(<span class="keywordtype">int</span> fidx, <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; patch) <span class="keyword">const</span>;
<a name="l01984"></a>01984 
<a name="l01985"></a><a class="code" href="classcv_1_1_fern_classifier.html#a6c07d0e7d6c0f4408da2262bd45ad74b">01985</a>     <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_fern_classifier.html#a6c07d0e7d6c0f4408da2262bd45ad74b">verbose</a>;
<a name="l01986"></a><a class="code" href="classcv_1_1_fern_classifier.html#a3f703df096262e6af708e96cf234f0dc">01986</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#a3f703df096262e6af708e96cf234f0dc">nstructs</a>;
<a name="l01987"></a><a class="code" href="classcv_1_1_fern_classifier.html#ab4c1c62685a2876bc06c689cd2822d03">01987</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#ab4c1c62685a2876bc06c689cd2822d03">structSize</a>;
<a name="l01988"></a><a class="code" href="classcv_1_1_fern_classifier.html#a606e0788c21e756270064eb80b8bd571">01988</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#a606e0788c21e756270064eb80b8bd571">nclasses</a>;
<a name="l01989"></a><a class="code" href="classcv_1_1_fern_classifier.html#ab75e2d78282d0091c8f0b594e8e4a7e3">01989</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#ab75e2d78282d0091c8f0b594e8e4a7e3">signatureSize</a>;
<a name="l01990"></a><a class="code" href="classcv_1_1_fern_classifier.html#af2ddf7ec72fba5326368f21124e571a7">01990</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#af2ddf7ec72fba5326368f21124e571a7">compressionMethod</a>;
<a name="l01991"></a><a class="code" href="classcv_1_1_fern_classifier.html#a877995a528d36b6c5635a45fa76ca959">01991</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_classifier.html#a877995a528d36b6c5635a45fa76ca959">leavesPerStruct</a>;
<a name="l01992"></a><a class="code" href="classcv_1_1_fern_classifier.html#a9448ad453cb1577457630f2f7dd4a8cf">01992</a>     <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> <a class="code" href="classcv_1_1_fern_classifier.html#a9448ad453cb1577457630f2f7dd4a8cf">patchSize</a>;
<a name="l01993"></a><a class="code" href="classcv_1_1_fern_classifier.html#ae9268efb7ccb5c8965f56937a7e7736e">01993</a>     vector&lt;Feature&gt; <a class="code" href="classcv_1_1_fern_classifier.html#ae9268efb7ccb5c8965f56937a7e7736e">features</a>;
<a name="l01994"></a><a class="code" href="classcv_1_1_fern_classifier.html#a0e10ac13813115fa193c55805f73617a">01994</a>     vector&lt;int&gt; <a class="code" href="classcv_1_1_fern_classifier.html#a0e10ac13813115fa193c55805f73617a">classCounters</a>;
<a name="l01995"></a><a class="code" href="classcv_1_1_fern_classifier.html#a334a16efca9071fe403437829857ebbb">01995</a>     vector&lt;float&gt; <a class="code" href="classcv_1_1_fern_classifier.html#a334a16efca9071fe403437829857ebbb">posteriors</a>;
<a name="l01996"></a>01996 };
<a name="l01997"></a>01997 
<a name="l01998"></a>01998 
<a name="l01999"></a>01999 <span class="comment">/****************************************************************************************\</span>
<a name="l02000"></a>02000 <span class="comment"> *                                 Calonder Classifier                                    *</span>
<a name="l02001"></a>02001 <span class="comment"> \****************************************************************************************/</span>
<a name="l02002"></a>02002 
<a name="l02003"></a>02003 <span class="keyword">struct </span><a class="code" href="structcv_1_1_r_tree_node.html">RTreeNode</a>;
<a name="l02004"></a>02004 
<a name="l02005"></a><a class="code" href="structcv_1_1_base_keypoint.html">02005</a> <span class="keyword">struct </span>CV_EXPORTS <a class="code" href="structcv_1_1_base_keypoint.html">BaseKeypoint</a>
<a name="l02006"></a>02006 {
<a name="l02007"></a><a class="code" href="structcv_1_1_base_keypoint.html#a1adf9982422ff76aa637cb3e6d069885">02007</a>     <span class="keywordtype">int</span> <a class="code" href="structcv_1_1_base_keypoint.html#a1adf9982422ff76aa637cb3e6d069885">x</a>;
<a name="l02008"></a><a class="code" href="structcv_1_1_base_keypoint.html#ad05c29448786838668d343ef79d0550a">02008</a>     <span class="keywordtype">int</span> <a class="code" href="structcv_1_1_base_keypoint.html#ad05c29448786838668d343ef79d0550a">y</a>;
<a name="l02009"></a><a class="code" href="structcv_1_1_base_keypoint.html#af88fb5bce071314497d2cf7d5e62cd53">02009</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="structcv_1_1_base_keypoint.html#af88fb5bce071314497d2cf7d5e62cd53">image</a>;
<a name="l02010"></a>02010 
<a name="l02011"></a><a class="code" href="structcv_1_1_base_keypoint.html#a0cdda18f300e1eab00a5b0ffca60e097">02011</a>     <a class="code" href="structcv_1_1_base_keypoint.html">BaseKeypoint</a>()
<a name="l02012"></a>02012     : <a class="code" href="highgui__c_8h.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>(0), <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y</a>(0), image(NULL)
<a name="l02013"></a>02013     {}
<a name="l02014"></a>02014 
<a name="l02015"></a><a class="code" href="structcv_1_1_base_keypoint.html#a7fb1ca722f6d28cb87e6b58b67af1cd2">02015</a>     <a class="code" href="structcv_1_1_base_keypoint.html">BaseKeypoint</a>(<span class="keywordtype">int</span> _x, <span class="keywordtype">int</span> _y, <a class="code" href="struct___ipl_image.html">IplImage</a>* _image)
<a name="l02016"></a>02016     : <a class="code" href="highgui__c_8h.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>(_x), <a class="code" href="highgui__c_8h.html#af1202c02b14870c18fb3a1da73e9e7c7">y</a>(_y), image(_image)
<a name="l02017"></a>02017     {}
<a name="l02018"></a>02018 };
<a name="l02019"></a>02019 
<a name="l02020"></a><a class="code" href="classcv_1_1_randomized_tree.html">02020</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_randomized_tree.html">RandomizedTree</a>
<a name="l02021"></a>02021 {
<a name="l02022"></a>02022 <span class="keyword">public</span>:
<a name="l02023"></a><a class="code" href="classcv_1_1_randomized_tree.html#aeb98f95be17120e69be499c069f656d3">02023</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcv_1_1_r_tree_classifier.html">RTreeClassifier</a>;
<a name="l02024"></a>02024 
<a name="l02025"></a><a class="code" href="classcv_1_1_randomized_tree.html#ad3a9c3171db3e1e0c95bdcce58335825">02025</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> PATCH_SIZE = 32;
<a name="l02026"></a><a class="code" href="classcv_1_1_randomized_tree.html#ad33ce7fc2686881b40229005833fca65">02026</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> DEFAULT_DEPTH = 9;
<a name="l02027"></a><a class="code" href="classcv_1_1_randomized_tree.html#a5f814be6f4a671b547f954b3f503002b">02027</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> DEFAULT_VIEWS = 5000;
<a name="l02028"></a><a class="code" href="classcv_1_1_randomized_tree.html#af0c6755cb63bfb25f0cf8b0d8381df4f">02028</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> DEFAULT_REDUCED_NUM_DIM = 176;
<a name="l02029"></a><a class="code" href="classcv_1_1_randomized_tree.html#aad675bf2b9214bb4e15f31f782340276">02029</a>     <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_randomized_tree.html#aad675bf2b9214bb4e15f31f782340276">GET_LOWER_QUANT_PERC</a>() { <span class="keywordflow">return</span> .03f; }
<a name="l02030"></a><a class="code" href="classcv_1_1_randomized_tree.html#ad1bc14577b2373ec5984dc32f2c7d58e">02030</a>     <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_randomized_tree.html#ad1bc14577b2373ec5984dc32f2c7d58e">GET_UPPER_QUANT_PERC</a>() { <span class="keywordflow">return</span> .92f; }
<a name="l02031"></a>02031 
<a name="l02032"></a>02032     <a class="code" href="classcv_1_1_randomized_tree.html">RandomizedTree</a>();
<a name="l02033"></a>02033     ~<a class="code" href="classcv_1_1_randomized_tree.html">RandomizedTree</a>();
<a name="l02034"></a>02034 
<a name="l02035"></a>02035     <span class="keywordtype">void</span> train(vector&lt;BaseKeypoint&gt; <span class="keyword">const</span>&amp; base_set, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>,
<a name="l02036"></a>02036                <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#acb5ba97551079e0b072c62c21d784ac5">depth</a>, <span class="keywordtype">int</span> views, <span class="keywordtype">size_t</span> reduced_num_dim, <span class="keywordtype">int</span> num_quant_bits);
<a name="l02037"></a>02037     <span class="keywordtype">void</span> train(vector&lt;BaseKeypoint&gt; <span class="keyword">const</span>&amp; base_set, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>,
<a name="l02038"></a>02038                <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a> &amp;make_patch, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#acb5ba97551079e0b072c62c21d784ac5">depth</a>, <span class="keywordtype">int</span> views, <span class="keywordtype">size_t</span> reduced_num_dim,
<a name="l02039"></a>02039                <span class="keywordtype">int</span> num_quant_bits);
<a name="l02040"></a>02040 
<a name="l02041"></a>02041     <span class="comment">// following two funcs are EXPERIMENTAL (do not use unless you know exactly what you do)</span>
<a name="l02042"></a>02042     <span class="keyword">static</span> <span class="keywordtype">void</span> quantizeVector(<span class="keywordtype">float</span> *vec, <span class="keywordtype">int</span> dim, <span class="keywordtype">int</span> N, <span class="keywordtype">float</span> bnds[2], <span class="keywordtype">int</span> clamp_mode=0);
<a name="l02043"></a>02043     <span class="keyword">static</span> <span class="keywordtype">void</span> quantizeVector(<span class="keywordtype">float</span> *<a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <span class="keywordtype">int</span> dim, <span class="keywordtype">int</span> N, <span class="keywordtype">float</span> bnds[2], <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="namespacecv.html#a52bb929b38b35664f16102ee054f0b3d">dst</a>);
<a name="l02044"></a>02044 
<a name="l02045"></a>02045     <span class="comment">// patch_data must be a 32x32 array (no row padding)</span>
<a name="l02046"></a>02046     <span class="keywordtype">float</span>* getPosterior(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data);
<a name="l02047"></a>02047     <span class="keyword">const</span> <span class="keywordtype">float</span>* getPosterior(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data) <span class="keyword">const</span>;
<a name="l02048"></a>02048     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* getPosterior2(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data);
<a name="l02049"></a>02049     <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* getPosterior2(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data) <span class="keyword">const</span>;
<a name="l02050"></a>02050 
<a name="l02051"></a>02051     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#aed1a5f21df6c3f600d6c313493dde694">file_name</a>, <span class="keywordtype">int</span> num_quant_bits);
<a name="l02052"></a>02052     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(std::istream &amp;is, <span class="keywordtype">int</span> num_quant_bits);
<a name="l02053"></a>02053     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#aed1a5f21df6c3f600d6c313493dde694">file_name</a>) <span class="keyword">const</span>;
<a name="l02054"></a>02054     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(std::ostream &amp;os) <span class="keyword">const</span>;
<a name="l02055"></a>02055 
<a name="l02056"></a><a class="code" href="classcv_1_1_randomized_tree.html#ace332f8d2d288c7268069a4f6653c27d">02056</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_randomized_tree.html#ace332f8d2d288c7268069a4f6653c27d">classes</a>() { <span class="keywordflow">return</span> classes_; }
<a name="l02057"></a><a class="code" href="classcv_1_1_randomized_tree.html#a79be804b3938a574143e1e0f840964d2">02057</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_randomized_tree.html#a79be804b3938a574143e1e0f840964d2">depth</a>() { <span class="keywordflow">return</span> depth_; }
<a name="l02058"></a>02058 
<a name="l02059"></a>02059     <span class="comment">//void setKeepFloatPosteriors(bool b) { keep_float_posteriors_ = b; }</span>
<a name="l02060"></a><a class="code" href="classcv_1_1_randomized_tree.html#a496f3b2b27c53a8bcf74a0b9148d719c">02060</a>     <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_randomized_tree.html#a496f3b2b27c53a8bcf74a0b9148d719c">discardFloatPosteriors</a>() { freePosteriors(1); }
<a name="l02061"></a>02061 
<a name="l02062"></a><a class="code" href="classcv_1_1_randomized_tree.html#a89f2b604f8148347037d70055f96f1b7">02062</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_randomized_tree.html#a89f2b604f8148347037d70055f96f1b7">applyQuantization</a>(<span class="keywordtype">int</span> num_quant_bits) { makePosteriors2(num_quant_bits); }
<a name="l02063"></a>02063 
<a name="l02064"></a>02064     <span class="comment">// debug</span>
<a name="l02065"></a>02065     <span class="keywordtype">void</span> savePosteriors(<a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a> url, <span class="keywordtype">bool</span> append=<span class="keyword">false</span>);
<a name="l02066"></a>02066     <span class="keywordtype">void</span> savePosteriors2(<a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a> url, <span class="keywordtype">bool</span> append=<span class="keyword">false</span>);
<a name="l02067"></a>02067 
<a name="l02068"></a>02068 <span class="keyword">private</span>:
<a name="l02069"></a>02069     <span class="keywordtype">int</span> classes_;
<a name="l02070"></a>02070     <span class="keywordtype">int</span> depth_;
<a name="l02071"></a>02071     <span class="keywordtype">int</span> num_leaves_;
<a name="l02072"></a>02072     vector&lt;RTreeNode&gt; nodes_;
<a name="l02073"></a>02073     <span class="keywordtype">float</span> **posteriors_;        <span class="comment">// 16-bytes aligned posteriors</span>
<a name="l02074"></a>02074     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> **posteriors2_;     <span class="comment">// 16-bytes aligned posteriors</span>
<a name="l02075"></a>02075     vector&lt;int&gt; leaf_counts_;
<a name="l02076"></a>02076 
<a name="l02077"></a>02077     <span class="keywordtype">void</span> createNodes(<span class="keywordtype">int</span> num_nodes, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>);
<a name="l02078"></a>02078     <span class="keywordtype">void</span> allocPosteriorsAligned(<span class="keywordtype">int</span> num_leaves, <span class="keywordtype">int</span> <a class="code" href="ml_8hpp.html#ac5783a418f537b3740623f5bed354ab0">num_classes</a>);
<a name="l02079"></a>02079     <span class="keywordtype">void</span> freePosteriors(<span class="keywordtype">int</span> which);    <span class="comment">// which: 1=posteriors_, 2=posteriors2_, 3=both</span>
<a name="l02080"></a>02080     <span class="keywordtype">void</span> init(<span class="keywordtype">int</span> classes, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#acb5ba97551079e0b072c62c21d784ac5">depth</a>, <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>);
<a name="l02081"></a>02081     <span class="keywordtype">void</span> addExample(<span class="keywordtype">int</span> class_id, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data);
<a name="l02082"></a>02082     <span class="keywordtype">void</span> finalize(<span class="keywordtype">size_t</span> reduced_num_dim, <span class="keywordtype">int</span> num_quant_bits);
<a name="l02083"></a>02083     <span class="keywordtype">int</span> getIndex(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data) <span class="keyword">const</span>;
<a name="l02084"></a>02084     <span class="keyword">inline</span> <span class="keywordtype">float</span>* getPosteriorByIndex(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l02085"></a>02085     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">float</span>* getPosteriorByIndex(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l02086"></a>02086     <span class="keyword">inline</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* getPosteriorByIndex2(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l02087"></a>02087     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* getPosteriorByIndex2(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l02088"></a>02088     <span class="comment">//void makeRandomMeasMatrix(float *cs_phi, PHI_DISTR_TYPE dt, size_t reduced_num_dim);</span>
<a name="l02089"></a>02089     <span class="keywordtype">void</span> convertPosteriorsToChar();
<a name="l02090"></a>02090     <span class="keywordtype">void</span> makePosteriors2(<span class="keywordtype">int</span> num_quant_bits);
<a name="l02091"></a>02091     <span class="keywordtype">void</span> compressLeaves(<span class="keywordtype">size_t</span> reduced_num_dim);
<a name="l02092"></a>02092     <span class="keywordtype">void</span> estimateQuantPercForPosteriors(<span class="keywordtype">float</span> perc[2]);
<a name="l02093"></a>02093 };
<a name="l02094"></a>02094 
<a name="l02095"></a>02095 
<a name="l02096"></a><a class="code" href="namespacecv.html#aa8989c4a6a02595c782b6ce756543f56">02096</a> <span class="keyword">inline</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* <a class="code" href="namespacecv.html#aa8989c4a6a02595c782b6ce756543f56">getData</a>(<a class="code" href="struct___ipl_image.html">IplImage</a>* image)
<a name="l02097"></a>02097 {
<a name="l02098"></a>02098     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*<span class="keyword">&gt;</span>(image-&gt;<a class="code" href="struct___ipl_image.html#a8f494e96def4231c3623eead920b3358">imageData</a>);
<a name="l02099"></a>02099 }
<a name="l02100"></a>02100 
<a name="l02101"></a>02101 <span class="keyword">inline</span> <span class="keywordtype">float</span>* RandomizedTree::getPosteriorByIndex(<span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>)
<a name="l02102"></a>02102 {
<a name="l02103"></a>02103     <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcv_1_1_randomized_tree.html#a405b70a013e480476b58448857499481">RandomizedTree</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;getPosteriorByIndex(index));
<a name="l02104"></a>02104 }
<a name="l02105"></a>02105 
<a name="l02106"></a>02106 <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">float</span>* RandomizedTree::getPosteriorByIndex(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l02107"></a>02107 <span class="keyword"></span>{
<a name="l02108"></a>02108     <span class="keywordflow">return</span> posteriors_[<a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];
<a name="l02109"></a>02109 }
<a name="l02110"></a>02110 
<a name="l02111"></a>02111 <span class="keyword">inline</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* RandomizedTree::getPosteriorByIndex2(<span class="keywordtype">int</span> index)
<a name="l02112"></a>02112 {
<a name="l02113"></a>02113     <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcv_1_1_randomized_tree.html#a405b70a013e480476b58448857499481">RandomizedTree</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;getPosteriorByIndex2(index));
<a name="l02114"></a>02114 }
<a name="l02115"></a>02115 
<a name="l02116"></a>02116 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* RandomizedTree::getPosteriorByIndex2(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l02117"></a>02117 <span class="keyword"></span>{
<a name="l02118"></a>02118     <span class="keywordflow">return</span> posteriors2_[<a class="code" href="core__c_8h.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];
<a name="l02119"></a>02119 }
<a name="l02120"></a>02120 
<a name="l02121"></a><a class="code" href="structcv_1_1_r_tree_node.html">02121</a> <span class="keyword">struct </span>CV_EXPORTS <a class="code" href="structcv_1_1_r_tree_node.html">RTreeNode</a>
<a name="l02122"></a>02122 {
<a name="l02123"></a><a class="code" href="structcv_1_1_r_tree_node.html#aa0302eab27fc2d4998eb150f2aa38a63">02123</a>     <span class="keywordtype">short</span> offset1, <a class="code" href="structcv_1_1_r_tree_node.html#aa0302eab27fc2d4998eb150f2aa38a63">offset2</a>;
<a name="l02124"></a>02124 
<a name="l02125"></a><a class="code" href="structcv_1_1_r_tree_node.html#a28587e537b924b2ce4ef1c4a56821a59">02125</a>     <a class="code" href="structcv_1_1_r_tree_node.html#a28587e537b924b2ce4ef1c4a56821a59">RTreeNode</a>() {}
<a name="l02126"></a><a class="code" href="structcv_1_1_r_tree_node.html#a5858e9b9e8989f2a01c734fa482a5456">02126</a>     <a class="code" href="structcv_1_1_r_tree_node.html">RTreeNode</a>(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> x1, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> y1, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> x2, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> y2)
<a name="l02127"></a>02127     : offset1(y1*<a class="code" href="classcv_1_1_randomized_tree.html">RandomizedTree</a>::PATCH_SIZE + x1),
<a name="l02128"></a>02128     offset2(y2*<a class="code" href="classcv_1_1_randomized_tree.html">RandomizedTree</a>::PATCH_SIZE + x2)
<a name="l02129"></a>02129     {}
<a name="l02130"></a>02130 
<a name="l02132"></a><a class="code" href="structcv_1_1_r_tree_node.html#ad193beb5a63cb98652fc1413da5dd851">02132</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator() (<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* patch_data)<span class="keyword"> const</span>
<a name="l02133"></a>02133 <span class="keyword">    </span>{
<a name="l02134"></a>02134         <span class="keywordflow">return</span> patch_data[offset1] &gt; patch_data[offset2];
<a name="l02135"></a>02135     }
<a name="l02136"></a>02136 };
<a name="l02137"></a>02137 
<a name="l02138"></a><a class="code" href="classcv_1_1_r_tree_classifier.html">02138</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_r_tree_classifier.html">RTreeClassifier</a>
<a name="l02139"></a>02139 {
<a name="l02140"></a>02140 <span class="keyword">public</span>:
<a name="l02141"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#aeb7f243009ac21c70c4a7bb3b130d632">02141</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> DEFAULT_TREES = 48;
<a name="l02142"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#a122e901d6fa5e80235e21c430e3ffbfa">02142</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> DEFAULT_NUM_QUANT_BITS = 4;
<a name="l02143"></a>02143 
<a name="l02144"></a>02144     <a class="code" href="classcv_1_1_r_tree_classifier.html">RTreeClassifier</a>();
<a name="l02145"></a>02145     <span class="keywordtype">void</span> train(vector&lt;BaseKeypoint&gt; <span class="keyword">const</span>&amp; base_set,
<a name="l02146"></a>02146                <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>,
<a name="l02147"></a>02147                <span class="keywordtype">int</span> num_trees = <a class="code" href="classcv_1_1_r_tree_classifier.html#aeb7f243009ac21c70c4a7bb3b130d632">RTreeClassifier::DEFAULT_TREES</a>,
<a name="l02148"></a>02148                <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#acb5ba97551079e0b072c62c21d784ac5">depth</a> = <a class="code" href="classcv_1_1_randomized_tree.html#ad33ce7fc2686881b40229005833fca65">RandomizedTree::DEFAULT_DEPTH</a>,
<a name="l02149"></a>02149                <span class="keywordtype">int</span> views = <a class="code" href="classcv_1_1_randomized_tree.html#a5f814be6f4a671b547f954b3f503002b">RandomizedTree::DEFAULT_VIEWS</a>,
<a name="l02150"></a>02150                <span class="keywordtype">size_t</span> reduced_num_dim = <a class="code" href="classcv_1_1_randomized_tree.html#af0c6755cb63bfb25f0cf8b0d8381df4f">RandomizedTree::DEFAULT_REDUCED_NUM_DIM</a>,
<a name="l02151"></a>02151                <span class="keywordtype">int</span> num_quant_bits = DEFAULT_NUM_QUANT_BITS);
<a name="l02152"></a>02152     <span class="keywordtype">void</span> train(vector&lt;BaseKeypoint&gt; <span class="keyword">const</span>&amp; base_set,
<a name="l02153"></a>02153                <a class="code" href="classcv_1_1_r_n_g.html" title="Random Number Generator.">RNG</a> &amp;<a class="code" href="core__c_8h.html#a8d3f239dca9d5c72c8a66d7a1c142efd">rng</a>,
<a name="l02154"></a>02154                <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a> &amp;make_patch,
<a name="l02155"></a>02155                <span class="keywordtype">int</span> num_trees = <a class="code" href="classcv_1_1_r_tree_classifier.html#aeb7f243009ac21c70c4a7bb3b130d632">RTreeClassifier::DEFAULT_TREES</a>,
<a name="l02156"></a>02156                <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#acb5ba97551079e0b072c62c21d784ac5">depth</a> = <a class="code" href="classcv_1_1_randomized_tree.html#ad33ce7fc2686881b40229005833fca65">RandomizedTree::DEFAULT_DEPTH</a>,
<a name="l02157"></a>02157                <span class="keywordtype">int</span> views = <a class="code" href="classcv_1_1_randomized_tree.html#a5f814be6f4a671b547f954b3f503002b">RandomizedTree::DEFAULT_VIEWS</a>,
<a name="l02158"></a>02158                <span class="keywordtype">size_t</span> reduced_num_dim = <a class="code" href="classcv_1_1_randomized_tree.html#af0c6755cb63bfb25f0cf8b0d8381df4f">RandomizedTree::DEFAULT_REDUCED_NUM_DIM</a>,
<a name="l02159"></a>02159                <span class="keywordtype">int</span> num_quant_bits = DEFAULT_NUM_QUANT_BITS);
<a name="l02160"></a>02160 
<a name="l02161"></a>02161     <span class="comment">// sig must point to a memory block of at least classes()*sizeof(float|uchar) bytes</span>
<a name="l02162"></a>02162     <span class="keywordtype">void</span> getSignature(<a class="code" href="struct___ipl_image.html">IplImage</a> *patch, <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *sig) <span class="keyword">const</span>;
<a name="l02163"></a>02163     <span class="keywordtype">void</span> getSignature(<a class="code" href="struct___ipl_image.html">IplImage</a> *patch, <span class="keywordtype">float</span> *sig) <span class="keyword">const</span>;
<a name="l02164"></a>02164     <span class="keywordtype">void</span> getSparseSignature(<a class="code" href="struct___ipl_image.html">IplImage</a> *patch, <span class="keywordtype">float</span> *sig, <span class="keywordtype">float</span> thresh) <span class="keyword">const</span>;
<a name="l02165"></a>02165     <span class="comment">// TODO: deprecated in favor of getSignature overload, remove</span>
<a name="l02166"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#a4616774caa285fd55c482f4732659194">02166</a>     <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_r_tree_classifier.html#a4616774caa285fd55c482f4732659194">getFloatSignature</a>(<a class="code" href="struct___ipl_image.html">IplImage</a> *patch, <span class="keywordtype">float</span> *sig)<span class="keyword"> const </span>{ getSignature(patch, sig); }
<a name="l02167"></a>02167 
<a name="l02168"></a>02168     <span class="keyword">static</span> <span class="keywordtype">int</span> countNonZeroElements(<span class="keywordtype">float</span> *vec, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <span class="keywordtype">double</span> tol=1e-10);
<a name="l02169"></a>02169     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> safeSignatureAlloc(<a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> **sig, <span class="keywordtype">int</span> num_sig=1, <span class="keywordtype">int</span> sig_len=176);
<a name="l02170"></a>02170     <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* safeSignatureAlloc(<span class="keywordtype">int</span> num_sig=1, <span class="keywordtype">int</span> sig_len=176);
<a name="l02171"></a>02171 
<a name="l02172"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#ab15f3ab847e4a49bea0246a65c89cdd3">02172</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_r_tree_classifier.html#ab15f3ab847e4a49bea0246a65c89cdd3">classes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> classes_; }
<a name="l02173"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#a483992edb679e53d0c883f06f83f91fb">02173</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_r_tree_classifier.html#a483992edb679e53d0c883f06f83f91fb">original_num_classes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> original_num_classes_; }
<a name="l02174"></a>02174 
<a name="l02175"></a>02175     <span class="keywordtype">void</span> setQuantization(<span class="keywordtype">int</span> num_quant_bits);
<a name="l02176"></a>02176     <span class="keywordtype">void</span> discardFloatPosteriors();
<a name="l02177"></a>02177 
<a name="l02178"></a>02178     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#aed1a5f21df6c3f600d6c313493dde694">file_name</a>);
<a name="l02179"></a>02179     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(std::istream &amp;is);
<a name="l02180"></a>02180     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#aed1a5f21df6c3f600d6c313493dde694">file_name</a>) <span class="keyword">const</span>;
<a name="l02181"></a>02181     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(std::ostream &amp;os) <span class="keyword">const</span>;
<a name="l02182"></a>02182 
<a name="l02183"></a>02183     <span class="comment">// experimental and debug</span>
<a name="l02184"></a>02184     <span class="keywordtype">void</span> saveAllFloatPosteriors(<a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a> file_url);
<a name="l02185"></a>02185     <span class="keywordtype">void</span> saveAllBytePosteriors(<a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a> file_url);
<a name="l02186"></a>02186     <span class="keywordtype">void</span> setFloatPosteriorsFromTextfile_176(<a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a> url);
<a name="l02187"></a>02187     <span class="keywordtype">float</span> countZeroElements();
<a name="l02188"></a>02188 
<a name="l02189"></a><a class="code" href="classcv_1_1_r_tree_classifier.html#a662b34e2531ce4728c38431e3ea069ed">02189</a>     vector&lt;RandomizedTree&gt; <a class="code" href="classcv_1_1_r_tree_classifier.html#a662b34e2531ce4728c38431e3ea069ed">trees_</a>;
<a name="l02190"></a>02190 
<a name="l02191"></a>02191 <span class="keyword">private</span>:
<a name="l02192"></a>02192     <span class="keywordtype">int</span> classes_;
<a name="l02193"></a>02193     <span class="keywordtype">int</span> num_quant_bits_;
<a name="l02194"></a>02194     <span class="keyword">mutable</span> <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> **posteriors_;
<a name="l02195"></a>02195     <span class="keyword">mutable</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *ptemp_;
<a name="l02196"></a>02196     <span class="keywordtype">int</span> original_num_classes_;
<a name="l02197"></a>02197     <span class="keywordtype">bool</span> keep_floats_;
<a name="l02198"></a>02198 };
<a name="l02199"></a>02199 
<a name="l02200"></a>02200 <span class="comment">/****************************************************************************************\</span>
<a name="l02201"></a>02201 <span class="comment">*                                     One-Way Descriptor                                 *</span>
<a name="l02202"></a>02202 <span class="comment">\****************************************************************************************/</span>
<a name="l02203"></a>02203 
<a name="l02204"></a>02204 <span class="comment">// CvAffinePose: defines a parameterized affine transformation of an image patch.</span>
<a name="l02205"></a>02205 <span class="comment">// An image patch is rotated on angle phi (in degrees), then scaled lambda1 times</span>
<a name="l02206"></a>02206 <span class="comment">// along horizontal and lambda2 times along vertical direction, and then rotated again</span>
<a name="l02207"></a>02207 <span class="comment">// on angle (theta - phi).</span>
<a name="l02208"></a><a class="code" href="classcv_1_1_cv_affine_pose.html">02208</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_cv_affine_pose.html">CvAffinePose</a>
<a name="l02209"></a>02209 {
<a name="l02210"></a>02210 <span class="keyword">public</span>:
<a name="l02211"></a><a class="code" href="classcv_1_1_cv_affine_pose.html#a6935fab7cdae0323cee00d35d6b68db8">02211</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_cv_affine_pose.html#a6935fab7cdae0323cee00d35d6b68db8">phi</a>;
<a name="l02212"></a><a class="code" href="classcv_1_1_cv_affine_pose.html#a07bc5cfd27a73950aee42c4392cab5f5">02212</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_cv_affine_pose.html#a07bc5cfd27a73950aee42c4392cab5f5">theta</a>;
<a name="l02213"></a><a class="code" href="classcv_1_1_cv_affine_pose.html#aa040397c98c023b75530db70004cd50f">02213</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_cv_affine_pose.html#aa040397c98c023b75530db70004cd50f">lambda1</a>;
<a name="l02214"></a><a class="code" href="classcv_1_1_cv_affine_pose.html#a9868b77bc608b26c168a306dc0a20131">02214</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_cv_affine_pose.html#a9868b77bc608b26c168a306dc0a20131">lambda2</a>;
<a name="l02215"></a>02215 };
<a name="l02216"></a>02216 
<a name="l02217"></a><a class="code" href="classcv_1_1_one_way_descriptor.html">02217</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>
<a name="l02218"></a>02218 {
<a name="l02219"></a>02219 <span class="keyword">public</span>:
<a name="l02220"></a>02220     <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>();
<a name="l02221"></a>02221     ~<a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>();
<a name="l02222"></a>02222 
<a name="l02223"></a>02223     <span class="comment">// allocates memory for given descriptor parameters</span>
<a name="l02224"></a>02224     <span class="keywordtype">void</span> Allocate(<span class="keywordtype">int</span> pose_count, <a class="code" href="struct_cv_size.html">CvSize</a> size, <span class="keywordtype">int</span> nChannels);
<a name="l02225"></a>02225 
<a name="l02226"></a>02226     <span class="comment">// GenerateSamples: generates affine transformed patches with averaging them over small transformation variations.</span>
<a name="l02227"></a>02227     <span class="comment">// If external poses and transforms were specified, uses them instead of generating random ones</span>
<a name="l02228"></a>02228     <span class="comment">// - pose_count: the number of poses to be generated</span>
<a name="l02229"></a>02229     <span class="comment">// - frontal: the input patch (can be a roi in a larger image)</span>
<a name="l02230"></a>02230     <span class="comment">// - norm: if nonzero, normalizes the output patch so that the sum of pixel intensities is 1</span>
<a name="l02231"></a>02231     <span class="keywordtype">void</span> GenerateSamples(<span class="keywordtype">int</span> pose_count, <a class="code" href="struct___ipl_image.html">IplImage</a>* frontal, <span class="keywordtype">int</span> <a class="code" href="namespacecv.html#a8c4682097beeedbc96cda40409007dfa" title="computes norm of the selected array part">norm</a> = 0);
<a name="l02232"></a>02232 
<a name="l02233"></a>02233     <span class="comment">// GenerateSamplesFast: generates affine transformed patches with averaging them over small transformation variations.</span>
<a name="l02234"></a>02234     <span class="comment">// Uses precalculated transformed pca components.</span>
<a name="l02235"></a>02235     <span class="comment">// - frontal: the input patch (can be a roi in a larger image)</span>
<a name="l02236"></a>02236     <span class="comment">// - pca_hr_avg: pca average vector</span>
<a name="l02237"></a>02237     <span class="comment">// - pca_hr_eigenvectors: pca eigenvectors</span>
<a name="l02238"></a>02238     <span class="comment">// - pca_descriptors: an array of precomputed descriptors of pca components containing their affine transformations</span>
<a name="l02239"></a>02239     <span class="comment">//   pca_descriptors[0] corresponds to the average, pca_descriptors[1]-pca_descriptors[pca_dim] correspond to eigenvectors</span>
<a name="l02240"></a>02240     <span class="keywordtype">void</span> GenerateSamplesFast(<a class="code" href="struct___ipl_image.html">IplImage</a>* frontal, <a class="code" href="struct_cv_mat.html">CvMat</a>* pca_hr_avg,
<a name="l02241"></a>02241                              <a class="code" href="struct_cv_mat.html">CvMat</a>* pca_hr_eigenvectors, <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>* pca_descriptors);
<a name="l02242"></a>02242 
<a name="l02243"></a>02243     <span class="comment">// sets the poses and corresponding transforms</span>
<a name="l02244"></a>02244     <span class="keywordtype">void</span> SetTransforms(<a class="code" href="classcv_1_1_cv_affine_pose.html">CvAffinePose</a>* poses, <a class="code" href="struct_cv_mat.html">CvMat</a>** transforms);
<a name="l02245"></a>02245 
<a name="l02246"></a>02246     <span class="comment">// Initialize: builds a descriptor.</span>
<a name="l02247"></a>02247     <span class="comment">// - pose_count: the number of poses to build. If poses were set externally, uses them rather than generating random ones</span>
<a name="l02248"></a>02248     <span class="comment">// - frontal: input patch. Can be a roi in a larger image</span>
<a name="l02249"></a>02249     <span class="comment">// - feature_name: the feature name to be associated with the descriptor</span>
<a name="l02250"></a>02250     <span class="comment">// - norm: if 1, the affine transformed patches are normalized so that their sum is 1</span>
<a name="l02251"></a>02251     <span class="keywordtype">void</span> Initialize(<span class="keywordtype">int</span> pose_count, <a class="code" href="struct___ipl_image.html">IplImage</a>* frontal, <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_name = 0, <span class="keywordtype">int</span> <a class="code" href="namespacecv.html#a8c4682097beeedbc96cda40409007dfa" title="computes norm of the selected array part">norm</a> = 0);
<a name="l02252"></a>02252 
<a name="l02253"></a>02253     <span class="comment">// InitializeFast: builds a descriptor using precomputed descriptors of pca components</span>
<a name="l02254"></a>02254     <span class="comment">// - pose_count: the number of poses to build</span>
<a name="l02255"></a>02255     <span class="comment">// - frontal: input patch. Can be a roi in a larger image</span>
<a name="l02256"></a>02256     <span class="comment">// - feature_name: the feature name to be associated with the descriptor</span>
<a name="l02257"></a>02257     <span class="comment">// - pca_hr_avg: average vector for PCA</span>
<a name="l02258"></a>02258     <span class="comment">// - pca_hr_eigenvectors: PCA eigenvectors (one vector per row)</span>
<a name="l02259"></a>02259     <span class="comment">// - pca_descriptors: precomputed descriptors of PCA components, the first descriptor for the average vector</span>
<a name="l02260"></a>02260     <span class="comment">// followed by the descriptors for eigenvectors</span>
<a name="l02261"></a>02261     <span class="keywordtype">void</span> InitializeFast(<span class="keywordtype">int</span> pose_count, <a class="code" href="struct___ipl_image.html">IplImage</a>* frontal, <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_name,
<a name="l02262"></a>02262                         <a class="code" href="struct_cv_mat.html">CvMat</a>* pca_hr_avg, <a class="code" href="struct_cv_mat.html">CvMat</a>* pca_hr_eigenvectors, <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>* pca_descriptors);
<a name="l02263"></a>02263 
<a name="l02264"></a>02264     <span class="comment">// ProjectPCASample: unwarps an image patch into a vector and projects it into PCA space</span>
<a name="l02265"></a>02265     <span class="comment">// - patch: input image patch</span>
<a name="l02266"></a>02266     <span class="comment">// - avg: PCA average vector</span>
<a name="l02267"></a>02267     <span class="comment">// - eigenvectors: PCA eigenvectors, one per row</span>
<a name="l02268"></a>02268     <span class="comment">// - pca_coeffs: output PCA coefficients</span>
<a name="l02269"></a>02269     <span class="keywordtype">void</span> ProjectPCASample(<a class="code" href="struct___ipl_image.html">IplImage</a>* patch, <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#a92db7c1486bb541ca602670b43c052e8">avg</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* eigenvectors, <a class="code" href="struct_cv_mat.html">CvMat</a>* pca_coeffs) <span class="keyword">const</span>;
<a name="l02270"></a>02270 
<a name="l02271"></a>02271     <span class="comment">// InitializePCACoeffs: projects all warped patches into PCA space</span>
<a name="l02272"></a>02272     <span class="comment">// - avg: PCA average vector</span>
<a name="l02273"></a>02273     <span class="comment">// - eigenvectors: PCA eigenvectors, one per row</span>
<a name="l02274"></a>02274     <span class="keywordtype">void</span> InitializePCACoeffs(<a class="code" href="struct_cv_mat.html">CvMat</a>* avg, <a class="code" href="struct_cv_mat.html">CvMat</a>* eigenvectors);
<a name="l02275"></a>02275 
<a name="l02276"></a>02276     <span class="comment">// EstimatePose: finds the closest match between an input patch and a set of patches with different poses</span>
<a name="l02277"></a>02277     <span class="comment">// - patch: input image patch</span>
<a name="l02278"></a>02278     <span class="comment">// - pose_idx: the output index of the closest pose</span>
<a name="l02279"></a>02279     <span class="comment">// - distance: the distance to the closest pose (L2 distance)</span>
<a name="l02280"></a>02280     <span class="keywordtype">void</span> EstimatePose(<a class="code" href="struct___ipl_image.html">IplImage</a>* patch, <span class="keywordtype">int</span>&amp; pose_idx, <span class="keywordtype">float</span>&amp; distance) <span class="keyword">const</span>;
<a name="l02281"></a>02281 
<a name="l02282"></a>02282     <span class="comment">// EstimatePosePCA: finds the closest match between an input patch and a set of patches with different poses.</span>
<a name="l02283"></a>02283     <span class="comment">// The distance between patches is computed in PCA space</span>
<a name="l02284"></a>02284     <span class="comment">// - patch: input image patch</span>
<a name="l02285"></a>02285     <span class="comment">// - pose_idx: the output index of the closest pose</span>
<a name="l02286"></a>02286     <span class="comment">// - distance: distance to the closest pose (L2 distance in PCA space)</span>
<a name="l02287"></a>02287     <span class="comment">// - avg: PCA average vector. If 0, matching without PCA is used</span>
<a name="l02288"></a>02288     <span class="comment">// - eigenvectors: PCA eigenvectors, one per row</span>
<a name="l02289"></a>02289     <span class="keywordtype">void</span> EstimatePosePCA(<a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* patch, <span class="keywordtype">int</span>&amp; pose_idx, <span class="keywordtype">float</span>&amp; distance, <a class="code" href="struct_cv_mat.html">CvMat</a>* avg, <a class="code" href="struct_cv_mat.html">CvMat</a>* eigenvalues) <span class="keyword">const</span>;
<a name="l02290"></a>02290 
<a name="l02291"></a>02291     <span class="comment">// GetPatchSize: returns the size of each image patch after warping (2 times smaller than the input patch)</span>
<a name="l02292"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a5992533b7b8d56ea6f3571d0485ad96c">02292</a>     <a class="code" href="struct_cv_size.html">CvSize</a> GetPatchSize()<span class="keyword"> const</span>
<a name="l02293"></a>02293 <span class="keyword">    </span>{
<a name="l02294"></a>02294         <span class="keywordflow">return</span> m_patch_size;
<a name="l02295"></a>02295     }
<a name="l02296"></a>02296 
<a name="l02297"></a>02297     <span class="comment">// GetInputPatchSize: returns the required size of the patch that the descriptor is built from</span>
<a name="l02298"></a>02298     <span class="comment">// (2 time larger than the patch after warping)</span>
<a name="l02299"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a699f2ea939913d87c82af19bffaf5564">02299</a>     <a class="code" href="struct_cv_size.html">CvSize</a> GetInputPatchSize()<span class="keyword"> const</span>
<a name="l02300"></a>02300 <span class="keyword">    </span>{
<a name="l02301"></a>02301         <span class="keywordflow">return</span> <a class="code" href="core_2types__c_8h.html#ad25ce7ac18665d5c9b062283ff0204ed">cvSize</a>(m_patch_size.width*2, m_patch_size.height*2);
<a name="l02302"></a>02302     }
<a name="l02303"></a>02303 
<a name="l02304"></a>02304     <span class="comment">// GetPatch: returns a patch corresponding to specified pose index</span>
<a name="l02305"></a>02305     <span class="comment">// - index: pose index</span>
<a name="l02306"></a>02306     <span class="comment">// - return value: the patch corresponding to specified pose index</span>
<a name="l02307"></a>02307     <a class="code" href="struct___ipl_image.html">IplImage</a>* GetPatch(<span class="keywordtype">int</span> index);
<a name="l02308"></a>02308 
<a name="l02309"></a>02309     <span class="comment">// GetPose: returns a pose corresponding to specified pose index</span>
<a name="l02310"></a>02310     <span class="comment">// - index: pose index</span>
<a name="l02311"></a>02311     <span class="comment">// - return value: the pose corresponding to specified pose index</span>
<a name="l02312"></a>02312     <a class="code" href="classcv_1_1_cv_affine_pose.html">CvAffinePose</a> GetPose(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l02313"></a>02313 
<a name="l02314"></a>02314     <span class="comment">// Save: saves all patches with different poses to a specified path</span>
<a name="l02315"></a>02315     <span class="keywordtype">void</span> Save(<span class="keyword">const</span> <span class="keywordtype">char</span>* path);
<a name="l02316"></a>02316 
<a name="l02317"></a>02317     <span class="comment">// ReadByName: reads a descriptor from a file storage</span>
<a name="l02318"></a>02318     <span class="comment">// - fs: file storage</span>
<a name="l02319"></a>02319     <span class="comment">// - parent: parent node</span>
<a name="l02320"></a>02320     <span class="comment">// - name: node name</span>
<a name="l02321"></a>02321     <span class="comment">// - return value: 1 if succeeded, 0 otherwise</span>
<a name="l02322"></a>02322     <span class="keywordtype">int</span> ReadByName(<a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <a class="code" href="struct_cv_file_node.html">CvFileNode</a>* <a class="code" href="core__c_8h.html#a5f450b216725a37cbc0acd54340144d9">parent</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>);
<a name="l02323"></a>02323 
<a name="l02324"></a>02324     <span class="comment">// ReadByName: reads a descriptor from a file node</span>
<a name="l02325"></a>02325     <span class="comment">// - parent: parent node</span>
<a name="l02326"></a>02326     <span class="comment">// - name: node name</span>
<a name="l02327"></a>02327     <span class="comment">// - return value: 1 if succeeded, 0 otherwise</span>
<a name="l02328"></a>02328     <span class="keywordtype">int</span> ReadByName(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;<a class="code" href="core__c_8h.html#a5f450b216725a37cbc0acd54340144d9">parent</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>);
<a name="l02329"></a>02329 
<a name="l02330"></a>02330     <span class="comment">// Write: writes a descriptor into a file storage</span>
<a name="l02331"></a>02331     <span class="comment">// - fs: file storage</span>
<a name="l02332"></a>02332     <span class="comment">// - name: node name</span>
<a name="l02333"></a>02333     <span class="keywordtype">void</span> <a class="code" href="namespacetesting_1_1internal_1_1posix.html#af4acf9f78d55f815a18b43786511abef">Write</a>(<a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>);
<a name="l02334"></a>02334 
<a name="l02335"></a>02335     <span class="comment">// GetFeatureName: returns a name corresponding to a feature</span>
<a name="l02336"></a>02336     <span class="keyword">const</span> <span class="keywordtype">char</span>* GetFeatureName() <span class="keyword">const</span>;
<a name="l02337"></a>02337 
<a name="l02338"></a>02338     <span class="comment">// GetCenter: returns the center of the feature</span>
<a name="l02339"></a>02339     <a class="code" href="struct_cv_point.html">CvPoint</a> GetCenter() <span class="keyword">const</span>;
<a name="l02340"></a>02340 
<a name="l02341"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a35e49f9cc5b7a7c0330f169d3f8ec8b5">02341</a>     <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#a35e49f9cc5b7a7c0330f169d3f8ec8b5">SetPCADimHigh</a>(<span class="keywordtype">int</span> pca_dim_high) {m_pca_dim_high = pca_dim_high;};
<a name="l02342"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a1bbdc42c887ee69c93031bf0ef146101">02342</a>     <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#a1bbdc42c887ee69c93031bf0ef146101">SetPCADimLow</a>(<span class="keywordtype">int</span> pca_dim_low) {m_pca_dim_low = pca_dim_low;};
<a name="l02343"></a>02343 
<a name="l02344"></a>02344     <span class="keywordtype">int</span> GetPCADimLow() <span class="keyword">const</span>;
<a name="l02345"></a>02345     <span class="keywordtype">int</span> GetPCADimHigh() <span class="keyword">const</span>;
<a name="l02346"></a>02346 
<a name="l02347"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a87f7bf26cea1506d49901d24d49e1628">02347</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="classcv_1_1_one_way_descriptor.html#a87f7bf26cea1506d49901d24d49e1628">GetPCACoeffs</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_pca_coeffs;}
<a name="l02348"></a>02348 
<a name="l02349"></a>02349 <span class="keyword">protected</span>:
<a name="l02350"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#ab3bf8eab64e509e4a74269b839424f9a">02350</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#ab3bf8eab64e509e4a74269b839424f9a">m_pose_count</a>; <span class="comment">// the number of poses</span>
<a name="l02351"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#ace2b1edd6bfe6bd412190cb0a82f39fa">02351</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="classcv_1_1_one_way_descriptor.html#ace2b1edd6bfe6bd412190cb0a82f39fa">m_patch_size</a>; <span class="comment">// size of each image</span>
<a name="l02352"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a9ad25e1d390b30dda0308be33fb1b3c0">02352</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>** <a class="code" href="classcv_1_1_one_way_descriptor.html#a9ad25e1d390b30dda0308be33fb1b3c0">m_samples</a>; <span class="comment">// an array of length m_pose_count containing the patch in different poses</span>
<a name="l02353"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#aee489a0a4d33d9c890f3f9a4fb547ee6">02353</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="classcv_1_1_one_way_descriptor.html#aee489a0a4d33d9c890f3f9a4fb547ee6">m_input_patch</a>;
<a name="l02354"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a34feae0d045492ae83b8d0c839aea171">02354</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="classcv_1_1_one_way_descriptor.html#a34feae0d045492ae83b8d0c839aea171">m_train_patch</a>;
<a name="l02355"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a9bd8d5cda48b5f0882547e3210722ca4">02355</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="classcv_1_1_one_way_descriptor.html#a9bd8d5cda48b5f0882547e3210722ca4">m_pca_coeffs</a>; <span class="comment">// an array of length m_pose_count containing pca decomposition of the patch in different poses</span>
<a name="l02356"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a07484b2ab56bed1fe6a23d78c326f24f">02356</a>     <a class="code" href="classcv_1_1_cv_affine_pose.html">CvAffinePose</a>* <a class="code" href="classcv_1_1_one_way_descriptor.html#a07484b2ab56bed1fe6a23d78c326f24f">m_affine_poses</a>; <span class="comment">// an array of poses</span>
<a name="l02357"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a847634b8efe670b360a45a6fc1b3e938">02357</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="classcv_1_1_one_way_descriptor.html#a847634b8efe670b360a45a6fc1b3e938">m_transforms</a>; <span class="comment">// an array of affine transforms corresponding to poses</span>
<a name="l02358"></a>02358 
<a name="l02359"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#ad812e563a11a145c9370cb4db0e82292">02359</a>     <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#ad812e563a11a145c9370cb4db0e82292">m_feature_name</a>; <span class="comment">// the name of the feature associated with the descriptor</span>
<a name="l02360"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#ab60358ffb33306f1e35bbf37dc94b0dd">02360</a>     <a class="code" href="struct_cv_point.html">CvPoint</a> <a class="code" href="classcv_1_1_one_way_descriptor.html#ab60358ffb33306f1e35bbf37dc94b0dd">m_center</a>; <span class="comment">// the coordinates of the feature (the center of the input image ROI)</span>
<a name="l02361"></a>02361 
<a name="l02362"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#ac6b97d879eb7d81f43dd0fbf87ab14c7">02362</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#ac6b97d879eb7d81f43dd0fbf87ab14c7">m_pca_dim_high</a>; <span class="comment">// the number of descriptor pca components to use for generating affine poses</span>
<a name="l02363"></a><a class="code" href="classcv_1_1_one_way_descriptor.html#a72b9fefad76ad9a218c5b7504e038fa4">02363</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor.html#a72b9fefad76ad9a218c5b7504e038fa4">m_pca_dim_low</a>; <span class="comment">// the number of pca components to use for comparison</span>
<a name="l02364"></a>02364 };
<a name="l02365"></a>02365 
<a name="l02366"></a>02366 
<a name="l02367"></a>02367 <span class="comment">// OneWayDescriptorBase: encapsulates functionality for training/loading a set of one way descriptors</span>
<a name="l02368"></a>02368 <span class="comment">// and finding the nearest closest descriptor to an input feature</span>
<a name="l02369"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html">02369</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_one_way_descriptor_base.html">OneWayDescriptorBase</a>
<a name="l02370"></a>02370 {
<a name="l02371"></a>02371 <span class="keyword">public</span>:
<a name="l02372"></a>02372 
<a name="l02373"></a>02373     <span class="comment">// creates an instance of OneWayDescriptor from a set of training files</span>
<a name="l02374"></a>02374     <span class="comment">// - patch_size: size of the input (large) patch</span>
<a name="l02375"></a>02375     <span class="comment">// - pose_count: the number of poses to generate for each descriptor</span>
<a name="l02376"></a>02376     <span class="comment">// - train_path: path to training files</span>
<a name="l02377"></a>02377     <span class="comment">// - pca_config: the name of the file that contains PCA for small patches (2 times smaller</span>
<a name="l02378"></a>02378     <span class="comment">// than patch_size each dimension</span>
<a name="l02379"></a>02379     <span class="comment">// - pca_hr_config: the name of the file that contains PCA for large patches (of patch_size size)</span>
<a name="l02380"></a>02380     <span class="comment">// - pca_desc_config: the name of the file that contains descriptors of PCA components</span>
<a name="l02381"></a>02381     <a class="code" href="classcv_1_1_one_way_descriptor_base.html">OneWayDescriptorBase</a>(<a class="code" href="struct_cv_size.html">CvSize</a> patch_size, <span class="keywordtype">int</span> pose_count, <span class="keyword">const</span> <span class="keywordtype">char</span>* train_path = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_config = 0,
<a name="l02382"></a>02382                          <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_hr_config = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_desc_config = 0, <span class="keywordtype">int</span> pyr_levels = 1,
<a name="l02383"></a>02383                          <span class="keywordtype">int</span> pca_dim_high = 100, <span class="keywordtype">int</span> pca_dim_low = 100);
<a name="l02384"></a>02384 
<a name="l02385"></a>02385     <a class="code" href="classcv_1_1_one_way_descriptor_base.html">OneWayDescriptorBase</a>(<a class="code" href="struct_cv_size.html">CvSize</a> patch_size, <span class="keywordtype">int</span> pose_count, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;pca_filename, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;train_path = <span class="keywordtype">string</span>(), <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;images_list = <span class="keywordtype">string</span>(),
<a name="l02386"></a>02386                          <span class="keywordtype">float</span> _scale_min = 0.7f, <span class="keywordtype">float</span> _scale_max=1.5f, <span class="keywordtype">float</span> _scale_step=1.2f, <span class="keywordtype">int</span> pyr_levels = 1,
<a name="l02387"></a>02387                          <span class="keywordtype">int</span> pca_dim_high = 100, <span class="keywordtype">int</span> pca_dim_low = 100);
<a name="l02388"></a>02388 
<a name="l02389"></a>02389 
<a name="l02390"></a>02390     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_one_way_descriptor_base.html">OneWayDescriptorBase</a>();
<a name="l02391"></a>02391     <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1gl.html#a2fbfcc011e3992ebe4a239464a97d896">clear</a> ();
<a name="l02392"></a>02392 
<a name="l02393"></a>02393 
<a name="l02394"></a>02394     <span class="comment">// Allocate: allocates memory for a given number of descriptors</span>
<a name="l02395"></a>02395     <span class="keywordtype">void</span> Allocate(<span class="keywordtype">int</span> train_feature_count);
<a name="l02396"></a>02396 
<a name="l02397"></a>02397     <span class="comment">// AllocatePCADescriptors: allocates memory for pca descriptors</span>
<a name="l02398"></a>02398     <span class="keywordtype">void</span> AllocatePCADescriptors();
<a name="l02399"></a>02399 
<a name="l02400"></a>02400     <span class="comment">// returns patch size</span>
<a name="l02401"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ab697e9e2ff5c330e8a6190bdd10a39a0">02401</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ab697e9e2ff5c330e8a6190bdd10a39a0">GetPatchSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_patch_size;};
<a name="l02402"></a>02402     <span class="comment">// returns the number of poses for each descriptor</span>
<a name="l02403"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a99e46daec7278d4c7e3868c974ce902e">02403</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a99e46daec7278d4c7e3868c974ce902e">GetPoseCount</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_pose_count;};
<a name="l02404"></a>02404 
<a name="l02405"></a>02405     <span class="comment">// returns the number of pyramid levels</span>
<a name="l02406"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a1cde8e0c7ccf9ef6672900e1e19311b2">02406</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a1cde8e0c7ccf9ef6672900e1e19311b2">GetPyrLevels</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_pyr_levels;};
<a name="l02407"></a>02407 
<a name="l02408"></a>02408     <span class="comment">// returns the number of descriptors</span>
<a name="l02409"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a05f690a8231cf6e692ff37110516c96c">02409</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a05f690a8231cf6e692ff37110516c96c">GetDescriptorCount</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_train_feature_count;};
<a name="l02410"></a>02410 
<a name="l02411"></a>02411     <span class="comment">// CreateDescriptorsFromImage: creates descriptors for each of the input features</span>
<a name="l02412"></a>02412     <span class="comment">// - src: input image</span>
<a name="l02413"></a>02413     <span class="comment">// - features: input features</span>
<a name="l02414"></a>02414     <span class="comment">// - pyr_levels: the number of pyramid levels</span>
<a name="l02415"></a>02415     <span class="keywordtype">void</span> CreateDescriptorsFromImage(<a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; features);
<a name="l02416"></a>02416 
<a name="l02417"></a>02417     <span class="comment">// CreatePCADescriptors: generates descriptors for PCA components, needed for fast generation of feature descriptors</span>
<a name="l02418"></a>02418     <span class="keywordtype">void</span> CreatePCADescriptors();
<a name="l02419"></a>02419 
<a name="l02420"></a>02420     <span class="comment">// returns a feature descriptor by feature index</span>
<a name="l02421"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ae4522d2c71526b8dd1f3375dcb9b2cf0">02421</a>     <span class="keyword">const</span> <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ae4522d2c71526b8dd1f3375dcb9b2cf0">GetDescriptor</a>(<span class="keywordtype">int</span> desc_idx)<span class="keyword"> const </span>{<span class="keywordflow">return</span> &amp;m_descriptors[desc_idx];};
<a name="l02422"></a>02422 
<a name="l02423"></a>02423     <span class="comment">// FindDescriptor: finds the closest descriptor</span>
<a name="l02424"></a>02424     <span class="comment">// - patch: input image patch</span>
<a name="l02425"></a>02425     <span class="comment">// - desc_idx: output index of the closest descriptor to the input patch</span>
<a name="l02426"></a>02426     <span class="comment">// - pose_idx: output index of the closest pose of the closest descriptor to the input patch</span>
<a name="l02427"></a>02427     <span class="comment">// - distance: distance from the input patch to the closest feature pose</span>
<a name="l02428"></a>02428     <span class="comment">// - _scales: scales of the input patch for each descriptor</span>
<a name="l02429"></a>02429     <span class="comment">// - scale_ranges: input scales variation (float[2])</span>
<a name="l02430"></a>02430     <span class="keywordtype">void</span> FindDescriptor(<a class="code" href="struct___ipl_image.html">IplImage</a>* patch, <span class="keywordtype">int</span>&amp; desc_idx, <span class="keywordtype">int</span>&amp; pose_idx, <span class="keywordtype">float</span>&amp; distance, <span class="keywordtype">float</span>* _scale = 0, <span class="keywordtype">float</span>* scale_ranges = 0) <span class="keyword">const</span>;
<a name="l02431"></a>02431 
<a name="l02432"></a>02432     <span class="comment">// - patch: input image patch</span>
<a name="l02433"></a>02433     <span class="comment">// - n: number of the closest indexes</span>
<a name="l02434"></a>02434     <span class="comment">// - desc_idxs: output indexes of the closest descriptor to the input patch (n)</span>
<a name="l02435"></a>02435     <span class="comment">// - pose_idx: output indexes of the closest pose of the closest descriptor to the input patch (n)</span>
<a name="l02436"></a>02436     <span class="comment">// - distances: distance from the input patch to the closest feature pose (n)</span>
<a name="l02437"></a>02437     <span class="comment">// - _scales: scales of the input patch</span>
<a name="l02438"></a>02438     <span class="comment">// - scale_ranges: input scales variation (float[2])</span>
<a name="l02439"></a>02439     <span class="keywordtype">void</span> FindDescriptor(<a class="code" href="struct___ipl_image.html">IplImage</a>* patch, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, vector&lt;int&gt;&amp; desc_idxs, vector&lt;int&gt;&amp; pose_idxs,
<a name="l02440"></a>02440                         vector&lt;float&gt;&amp; distances, vector&lt;float&gt;&amp; _scales, <span class="keywordtype">float</span>* scale_ranges = 0) <span class="keyword">const</span>;
<a name="l02441"></a>02441 
<a name="l02442"></a>02442     <span class="comment">// FindDescriptor: finds the closest descriptor</span>
<a name="l02443"></a>02443     <span class="comment">// - src: input image</span>
<a name="l02444"></a>02444     <span class="comment">// - pt: center of the feature</span>
<a name="l02445"></a>02445     <span class="comment">// - desc_idx: output index of the closest descriptor to the input patch</span>
<a name="l02446"></a>02446     <span class="comment">// - pose_idx: output index of the closest pose of the closest descriptor to the input patch</span>
<a name="l02447"></a>02447     <span class="comment">// - distance: distance from the input patch to the closest feature pose</span>
<a name="l02448"></a>02448     <span class="keywordtype">void</span> FindDescriptor(<a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="classcv_1_1_point__.html">cv::Point2f</a> <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a>, <span class="keywordtype">int</span>&amp; desc_idx, <span class="keywordtype">int</span>&amp; pose_idx, <span class="keywordtype">float</span>&amp; distance) <span class="keyword">const</span>;
<a name="l02449"></a>02449 
<a name="l02450"></a>02450     <span class="comment">// InitializePoses: generates random poses</span>
<a name="l02451"></a>02451     <span class="keywordtype">void</span> InitializePoses();
<a name="l02452"></a>02452 
<a name="l02453"></a>02453     <span class="comment">// InitializeTransformsFromPoses: generates 2x3 affine matrices from poses (initializes m_transforms)</span>
<a name="l02454"></a>02454     <span class="keywordtype">void</span> InitializeTransformsFromPoses();
<a name="l02455"></a>02455 
<a name="l02456"></a>02456     <span class="comment">// InitializePoseTransforms: subsequently calls InitializePoses and InitializeTransformsFromPoses</span>
<a name="l02457"></a>02457     <span class="keywordtype">void</span> InitializePoseTransforms();
<a name="l02458"></a>02458 
<a name="l02459"></a>02459     <span class="comment">// InitializeDescriptor: initializes a descriptor</span>
<a name="l02460"></a>02460     <span class="comment">// - desc_idx: descriptor index</span>
<a name="l02461"></a>02461     <span class="comment">// - train_image: image patch (ROI is supported)</span>
<a name="l02462"></a>02462     <span class="comment">// - feature_label: feature textual label</span>
<a name="l02463"></a>02463     <span class="keywordtype">void</span> InitializeDescriptor(<span class="keywordtype">int</span> desc_idx, <a class="code" href="struct___ipl_image.html">IplImage</a>* train_image, <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_label);
<a name="l02464"></a>02464 
<a name="l02465"></a>02465     <span class="keywordtype">void</span> InitializeDescriptor(<span class="keywordtype">int</span> desc_idx, <a class="code" href="struct___ipl_image.html">IplImage</a>* train_image, <span class="keyword">const</span> <a class="code" href="classcv_1_1_key_point.html" title="The Keypoint Class.">KeyPoint</a>&amp; keypoint, <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_label);
<a name="l02466"></a>02466 
<a name="l02467"></a>02467     <span class="comment">// InitializeDescriptors: load features from an image and create descriptors for each of them</span>
<a name="l02468"></a>02468     <span class="keywordtype">void</span> InitializeDescriptors(<a class="code" href="struct___ipl_image.html">IplImage</a>* train_image, <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; features,
<a name="l02469"></a>02469                                <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_label = <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">int</span> desc_start_idx = 0);
<a name="l02470"></a>02470 
<a name="l02471"></a>02471     <span class="comment">// Write: writes this object to a file storage</span>
<a name="l02472"></a>02472     <span class="comment">// - fs: output filestorage</span>
<a name="l02473"></a>02473     <span class="keywordtype">void</span> <a class="code" href="namespacetesting_1_1internal_1_1posix.html#af4acf9f78d55f815a18b43786511abef">Write</a> (<a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a> &amp;fs) <span class="keyword">const</span>;
<a name="l02474"></a>02474 
<a name="l02475"></a>02475     <span class="comment">// Read: reads OneWayDescriptorBase object from a file node</span>
<a name="l02476"></a>02476     <span class="comment">// - fn: input file node</span>
<a name="l02477"></a>02477     <span class="keywordtype">void</span> <a class="code" href="namespacetesting_1_1internal_1_1posix.html#a3c6ab13e581a56f1b02f3eb7536c97fd">Read</a> (<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn);
<a name="l02478"></a>02478 
<a name="l02479"></a>02479     <span class="comment">// LoadPCADescriptors: loads PCA descriptors from a file</span>
<a name="l02480"></a>02480     <span class="comment">// - filename: input filename</span>
<a name="l02481"></a>02481     <span class="keywordtype">int</span> LoadPCADescriptors(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>);
<a name="l02482"></a>02482 
<a name="l02483"></a>02483     <span class="comment">// LoadPCADescriptors: loads PCA descriptors from a file node</span>
<a name="l02484"></a>02484     <span class="comment">// - fn: input file node</span>
<a name="l02485"></a>02485     <span class="keywordtype">int</span> LoadPCADescriptors(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn);
<a name="l02486"></a>02486 
<a name="l02487"></a>02487     <span class="comment">// SavePCADescriptors: saves PCA descriptors to a file</span>
<a name="l02488"></a>02488     <span class="comment">// - filename: output filename</span>
<a name="l02489"></a>02489     <span class="keywordtype">void</span> SavePCADescriptors(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a>);
<a name="l02490"></a>02490 
<a name="l02491"></a>02491     <span class="comment">// SavePCADescriptors: saves PCA descriptors to a file storage</span>
<a name="l02492"></a>02492     <span class="comment">// - fs: output file storage</span>
<a name="l02493"></a>02493     <span class="keywordtype">void</span> SavePCADescriptors(<a class="code" href="core_2types__c_8h.html#a84556d1bb6f1b8b02c04c60246747a7e">CvFileStorage</a>* fs) <span class="keyword">const</span>;
<a name="l02494"></a>02494 
<a name="l02495"></a>02495     <span class="comment">// GeneratePCA: calculate and save PCA components and descriptors</span>
<a name="l02496"></a>02496     <span class="comment">// - img_path: path to training PCA images directory</span>
<a name="l02497"></a>02497     <span class="comment">// - images_list: filename with filenames of training PCA images</span>
<a name="l02498"></a>02498     <span class="keywordtype">void</span> GeneratePCA(<span class="keyword">const</span> <span class="keywordtype">char</span>* img_path, <span class="keyword">const</span> <span class="keywordtype">char</span>* images_list, <span class="keywordtype">int</span> pose_count=500);
<a name="l02499"></a>02499 
<a name="l02500"></a>02500     <span class="comment">// SetPCAHigh: sets the high resolution pca matrices (copied to internal structures)</span>
<a name="l02501"></a>02501     <span class="keywordtype">void</span> SetPCAHigh(<a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#a92db7c1486bb541ca602670b43c052e8">avg</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* eigenvectors);
<a name="l02502"></a>02502 
<a name="l02503"></a>02503     <span class="comment">// SetPCALow: sets the low resolution pca matrices (copied to internal structures)</span>
<a name="l02504"></a>02504     <span class="keywordtype">void</span> SetPCALow(<a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#a92db7c1486bb541ca602670b43c052e8">avg</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* eigenvectors);
<a name="l02505"></a>02505 
<a name="l02506"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a02dd2c18aa6f5414b3c15871d8fd936b">02506</a>     <span class="keywordtype">int</span> GetLowPCA(<a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="core__c_8h.html#a92db7c1486bb541ca602670b43c052e8">avg</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>** eigenvectors)
<a name="l02507"></a>02507     {
<a name="l02508"></a>02508         *avg = m_pca_avg;
<a name="l02509"></a>02509         *eigenvectors = m_pca_eigenvectors;
<a name="l02510"></a>02510         <span class="keywordflow">return</span> m_pca_dim_low;
<a name="l02511"></a>02511     };
<a name="l02512"></a>02512 
<a name="l02513"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a43237911ad4625bc86bcd52a8ebbfcee">02513</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a43237911ad4625bc86bcd52a8ebbfcee">GetPCADimLow</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_pca_dim_low;};
<a name="l02514"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ad772cef64cdd1037b0f26ee42930ca76">02514</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ad772cef64cdd1037b0f26ee42930ca76">GetPCADimHigh</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_pca_dim_high;};
<a name="l02515"></a>02515 
<a name="l02516"></a>02516     <span class="keywordtype">void</span> ConvertDescriptorsArrayToTree(); <span class="comment">// Converting pca_descriptors array to KD tree</span>
<a name="l02517"></a>02517 
<a name="l02518"></a>02518     <span class="comment">// GetPCAFilename: get default PCA filename</span>
<a name="l02519"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#abde625a15bca0ba0f0e928d7f3f5dee4">02519</a>     <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#abde625a15bca0ba0f0e928d7f3f5dee4">GetPCAFilename</a> () { <span class="keywordflow">return</span> <span class="stringliteral">&quot;pca.yml&quot;</span>; }
<a name="l02520"></a>02520 
<a name="l02521"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#adef37c9f75c3015f1f2f48511d7437b8">02521</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#adef37c9f75c3015f1f2f48511d7437b8">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_train_feature_count &lt;= 0 ? <span class="keyword">true</span> : <span class="keyword">false</span>; }
<a name="l02522"></a>02522 
<a name="l02523"></a>02523 <span class="keyword">protected</span>:
<a name="l02524"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ab109f2d46b2bbf853158dec66f24ef57">02524</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ab109f2d46b2bbf853158dec66f24ef57">m_patch_size</a>; <span class="comment">// patch size</span>
<a name="l02525"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a695d5465b9f923e00d7ff9d8af2bbd51">02525</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a695d5465b9f923e00d7ff9d8af2bbd51">m_pose_count</a>; <span class="comment">// the number of poses for each descriptor</span>
<a name="l02526"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a905effbcfcca2dd002224317b48ea288">02526</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a905effbcfcca2dd002224317b48ea288">m_train_feature_count</a>; <span class="comment">// the number of the training features</span>
<a name="l02527"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a22c399b9e3a7e5a64780f4b234bb8f18">02527</a>     <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a22c399b9e3a7e5a64780f4b234bb8f18">m_descriptors</a>; <span class="comment">// array of train feature descriptors</span>
<a name="l02528"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a04af1c90f1dad3fcac585877e1ce6585">02528</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a04af1c90f1dad3fcac585877e1ce6585">m_pca_avg</a>; <span class="comment">// PCA average Vector for small patches</span>
<a name="l02529"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a7ecc5408ce5db7431406b6a6eac9d51f">02529</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a7ecc5408ce5db7431406b6a6eac9d51f">m_pca_eigenvectors</a>; <span class="comment">// PCA eigenvectors for small patches</span>
<a name="l02530"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac5546555811a3a23ef4e6a69f935633d">02530</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac5546555811a3a23ef4e6a69f935633d">m_pca_hr_avg</a>; <span class="comment">// PCA average Vector for large patches</span>
<a name="l02531"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#aaf56efc18add898b42229bae4192e1c7">02531</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#aaf56efc18add898b42229bae4192e1c7">m_pca_hr_eigenvectors</a>; <span class="comment">// PCA eigenvectors for large patches</span>
<a name="l02532"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a7ddf78b1c2bd0237ee33d4dfec0908f1">02532</a>     <a class="code" href="classcv_1_1_one_way_descriptor.html">OneWayDescriptor</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a7ddf78b1c2bd0237ee33d4dfec0908f1">m_pca_descriptors</a>; <span class="comment">// an array of PCA descriptors</span>
<a name="l02533"></a>02533 
<a name="l02534"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac35fa4f783dc3c16f3f1a04e0e54c859">02534</a>     <a class="code" href="classcv_1_1flann_1_1_index.html">cv::flann::Index</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac35fa4f783dc3c16f3f1a04e0e54c859">m_pca_descriptors_tree</a>;
<a name="l02535"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#aaf324999d7c95ecbfc926c3ac4279ca3">02535</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#aaf324999d7c95ecbfc926c3ac4279ca3">m_pca_descriptors_matrix</a>;
<a name="l02536"></a>02536 
<a name="l02537"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a00b20d2ef5bce2e8a8cc1721d2773cc7">02537</a>     <a class="code" href="classcv_1_1_cv_affine_pose.html">CvAffinePose</a>* <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a00b20d2ef5bce2e8a8cc1721d2773cc7">m_poses</a>; <span class="comment">// array of poses</span>
<a name="l02538"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a4d4e05e23931686c23feffaeaace51a0">02538</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>** <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a4d4e05e23931686c23feffaeaace51a0">m_transforms</a>; <span class="comment">// array of affine transformations corresponding to poses</span>
<a name="l02539"></a>02539 
<a name="l02540"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#aea6594e34a723ad3104ba31b199123ed">02540</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#aea6594e34a723ad3104ba31b199123ed">m_pca_dim_high</a>;
<a name="l02541"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a0e06db39952fafd529be28966e46192d">02541</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a0e06db39952fafd529be28966e46192d">m_pca_dim_low</a>;
<a name="l02542"></a>02542 
<a name="l02543"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac47147854424ef0d5f2d50b63fdb0bd9">02543</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ac47147854424ef0d5f2d50b63fdb0bd9">m_pyr_levels</a>;
<a name="l02544"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a744f60dfdacd7abc6cea33e0487e417c">02544</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a744f60dfdacd7abc6cea33e0487e417c">scale_min</a>;
<a name="l02545"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#ad7346ed992afac6d621dc15775076a69">02545</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#ad7346ed992afac6d621dc15775076a69">scale_max</a>;
<a name="l02546"></a><a class="code" href="classcv_1_1_one_way_descriptor_base.html#a2b234f3bdd485dfda8a80c41ae96417d">02546</a>     <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html#a2b234f3bdd485dfda8a80c41ae96417d">scale_step</a>;
<a name="l02547"></a>02547 
<a name="l02548"></a>02548     <span class="comment">// SavePCAall: saves PCA components and descriptors to a file storage</span>
<a name="l02549"></a>02549     <span class="comment">// - fs: output file storage</span>
<a name="l02550"></a>02550     <span class="keywordtype">void</span> SavePCAall (<a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a> &amp;fs) <span class="keyword">const</span>;
<a name="l02551"></a>02551 
<a name="l02552"></a>02552     <span class="comment">// LoadPCAall: loads PCA components and descriptors from a file node</span>
<a name="l02553"></a>02553     <span class="comment">// - fn: input file node</span>
<a name="l02554"></a>02554     <span class="keywordtype">void</span> LoadPCAall (<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn);
<a name="l02555"></a>02555 };
<a name="l02556"></a>02556 
<a name="l02557"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html">02557</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_one_way_descriptor_object.html">OneWayDescriptorObject</a> : <span class="keyword">public</span> <a class="code" href="classcv_1_1_one_way_descriptor_base.html">OneWayDescriptorBase</a>
<a name="l02558"></a>02558 {
<a name="l02559"></a>02559 <span class="keyword">public</span>:
<a name="l02560"></a>02560     <span class="comment">// creates an instance of OneWayDescriptorObject from a set of training files</span>
<a name="l02561"></a>02561     <span class="comment">// - patch_size: size of the input (large) patch</span>
<a name="l02562"></a>02562     <span class="comment">// - pose_count: the number of poses to generate for each descriptor</span>
<a name="l02563"></a>02563     <span class="comment">// - train_path: path to training files</span>
<a name="l02564"></a>02564     <span class="comment">// - pca_config: the name of the file that contains PCA for small patches (2 times smaller</span>
<a name="l02565"></a>02565     <span class="comment">// than patch_size each dimension</span>
<a name="l02566"></a>02566     <span class="comment">// - pca_hr_config: the name of the file that contains PCA for large patches (of patch_size size)</span>
<a name="l02567"></a>02567     <span class="comment">// - pca_desc_config: the name of the file that contains descriptors of PCA components</span>
<a name="l02568"></a>02568     <a class="code" href="classcv_1_1_one_way_descriptor_object.html">OneWayDescriptorObject</a>(<a class="code" href="struct_cv_size.html">CvSize</a> patch_size, <span class="keywordtype">int</span> pose_count, <span class="keyword">const</span> <span class="keywordtype">char</span>* train_path, <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_config,
<a name="l02569"></a>02569                            <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_hr_config = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* pca_desc_config = 0, <span class="keywordtype">int</span> pyr_levels = 1);
<a name="l02570"></a>02570 
<a name="l02571"></a>02571     <a class="code" href="classcv_1_1_one_way_descriptor_object.html">OneWayDescriptorObject</a>(<a class="code" href="struct_cv_size.html">CvSize</a> patch_size, <span class="keywordtype">int</span> pose_count, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;pca_filename,
<a name="l02572"></a>02572                            <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;train_path = <span class="keywordtype">string</span> (), <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;images_list = <span class="keywordtype">string</span> (),
<a name="l02573"></a>02573                            <span class="keywordtype">float</span> _scale_min = 0.7f, <span class="keywordtype">float</span> _scale_max=1.5f, <span class="keywordtype">float</span> _scale_step=1.2f, <span class="keywordtype">int</span> pyr_levels = 1);
<a name="l02574"></a>02574 
<a name="l02575"></a>02575 
<a name="l02576"></a>02576     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_one_way_descriptor_object.html">OneWayDescriptorObject</a>();
<a name="l02577"></a>02577 
<a name="l02578"></a>02578     <span class="comment">// Allocate: allocates memory for a given number of features</span>
<a name="l02579"></a>02579     <span class="comment">// - train_feature_count: the total number of features</span>
<a name="l02580"></a>02580     <span class="comment">// - object_feature_count: the number of features extracted from the object</span>
<a name="l02581"></a>02581     <span class="keywordtype">void</span> Allocate(<span class="keywordtype">int</span> train_feature_count, <span class="keywordtype">int</span> object_feature_count);
<a name="l02582"></a>02582 
<a name="l02583"></a>02583 
<a name="l02584"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#ace7dbde64aaaf143d7e596c3732b6058">02584</a>     <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_one_way_descriptor_object.html#ace7dbde64aaaf143d7e596c3732b6058">SetLabeledFeatures</a>(<span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; features) {m_train_features = features;};
<a name="l02585"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#aa2f81e77766e0ee59dbcb246c0294de6">02585</a>     vector&lt;KeyPoint&gt;&amp; <a class="code" href="classcv_1_1_one_way_descriptor_object.html#aa2f81e77766e0ee59dbcb246c0294de6">GetLabeledFeatures</a>() {<span class="keywordflow">return</span> m_train_features;};
<a name="l02586"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#aa9f52a7790a8a11129080e00cef227d5">02586</a>     <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; <a class="code" href="classcv_1_1_one_way_descriptor_object.html#aa9f52a7790a8a11129080e00cef227d5">GetLabeledFeatures</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_train_features;};
<a name="l02587"></a>02587     vector&lt;KeyPoint&gt; _GetLabeledFeatures() <span class="keyword">const</span>;
<a name="l02588"></a>02588 
<a name="l02589"></a>02589     <span class="comment">// IsDescriptorObject: returns 1 if descriptor with specified index is positive, otherwise 0</span>
<a name="l02590"></a>02590     <span class="keywordtype">int</span> IsDescriptorObject(<span class="keywordtype">int</span> desc_idx) <span class="keyword">const</span>;
<a name="l02591"></a>02591 
<a name="l02592"></a>02592     <span class="comment">// MatchPointToPart: returns the part number of a feature if it matches one of the object parts, otherwise -1</span>
<a name="l02593"></a>02593     <span class="keywordtype">int</span> MatchPointToPart(<a class="code" href="struct_cv_point.html">CvPoint</a> <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a>) <span class="keyword">const</span>;
<a name="l02594"></a>02594 
<a name="l02595"></a>02595     <span class="comment">// GetDescriptorPart: returns the part number of the feature corresponding to a specified descriptor</span>
<a name="l02596"></a>02596     <span class="comment">// - desc_idx: descriptor index</span>
<a name="l02597"></a>02597     <span class="keywordtype">int</span> GetDescriptorPart(<span class="keywordtype">int</span> desc_idx) <span class="keyword">const</span>;
<a name="l02598"></a>02598 
<a name="l02599"></a>02599 
<a name="l02600"></a>02600     <span class="keywordtype">void</span> InitializeObjectDescriptors(<a class="code" href="struct___ipl_image.html">IplImage</a>* train_image, <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; features,
<a name="l02601"></a>02601                                      <span class="keyword">const</span> <span class="keywordtype">char</span>* feature_label, <span class="keywordtype">int</span> desc_start_idx = 0, <span class="keywordtype">float</span> <a class="code" href="core__c_8h.html#a6cf5c9eed7945265b2ed48f38d6a5424">scale</a> = 1.0f,
<a name="l02602"></a>02602                                      <span class="keywordtype">int</span> is_background = 0);
<a name="l02603"></a>02603 
<a name="l02604"></a>02604     <span class="comment">// GetObjectFeatureCount: returns the number of object features</span>
<a name="l02605"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#a8b95f117cfdf68b30aa08b0ded2e5543">02605</a>     <span class="keywordtype">int</span> GetObjectFeatureCount()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_object_feature_count;};
<a name="l02606"></a>02606 
<a name="l02607"></a>02607 <span class="keyword">protected</span>:
<a name="l02608"></a>02608     <span class="keywordtype">int</span>* m_part_id; <span class="comment">// contains part id for each of object descriptors</span>
<a name="l02609"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#a15142d863100c24e3e51c98b48fab881">02609</a>     vector&lt;KeyPoint&gt; <a class="code" href="classcv_1_1_one_way_descriptor_object.html#a15142d863100c24e3e51c98b48fab881">m_train_features</a>; <span class="comment">// train features</span>
<a name="l02610"></a><a class="code" href="classcv_1_1_one_way_descriptor_object.html#a78d83003b52b67a2b886606cad96662f">02610</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_object.html#a78d83003b52b67a2b886606cad96662f">m_object_feature_count</a>; <span class="comment">// the number of the positive features</span>
<a name="l02611"></a>02611 
<a name="l02612"></a>02612 };
<a name="l02613"></a>02613 
<a name="l02614"></a>02614 
<a name="l02615"></a>02615 <span class="comment">/*</span>
<a name="l02616"></a>02616 <span class="comment"> *  OneWayDescriptorMatcher</span>
<a name="l02617"></a>02617 <span class="comment"> */</span>
<a name="l02618"></a><a class="code" href="namespacecv.html#a65db8d0a6d7276c360ed27a4c85cab03">02618</a> <span class="keyword">class </span><a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">OneWayDescriptorMatcher</a>;
<a name="l02619"></a>02619 <span class="keyword">typedef</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">OneWayDescriptorMatcher</a> <a class="code" href="namespacecv.html#a65db8d0a6d7276c360ed27a4c85cab03">OneWayDescriptorMatch</a>;
<a name="l02620"></a>02620 
<a name="l02621"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">02621</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">OneWayDescriptorMatcher</a> : <span class="keyword">public</span> <a class="code" href="classcv_1_1_generic_descriptor_matcher.html">GenericDescriptorMatcher</a>
<a name="l02622"></a>02622 {
<a name="l02623"></a>02623 <span class="keyword">public</span>:
<a name="l02624"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">02624</a>     <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a>
<a name="l02625"></a>02625     {
<a name="l02626"></a>02626     <span class="keyword">public</span>:
<a name="l02627"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#afe9ba7c833615e52990d5ea47bc7d6b6">02627</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> POSE_COUNT = 500;
<a name="l02628"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a030eac6d016f1066f95202dd3c42e510">02628</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> PATCH_WIDTH = 24;
<a name="l02629"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ab6f73ef0e70f23c52291e970de14013a">02629</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> PATCH_HEIGHT = 24;
<a name="l02630"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a41b5b450637c047649bf0a08efb30c4e">02630</a>         <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a41b5b450637c047649bf0a08efb30c4e">GET_MIN_SCALE</a>() { <span class="keywordflow">return</span> 0.7f; }
<a name="l02631"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ad4697ec40e262082194bbc2baa1dbc6c">02631</a>         <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ad4697ec40e262082194bbc2baa1dbc6c">GET_MAX_SCALE</a>() { <span class="keywordflow">return</span> 1.5f; }
<a name="l02632"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ace48d9be5bf1569a068faf233ce6de11">02632</a>         <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ace48d9be5bf1569a068faf233ce6de11">GET_STEP_SCALE</a>() { <span class="keywordflow">return</span> 1.2f; }
<a name="l02633"></a>02633 
<a name="l02634"></a>02634         <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a>( <span class="keywordtype">int</span> poseCount = POSE_COUNT,
<a name="l02635"></a>02635                <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> patchSize = <a class="code" href="namespacecv.html#a346f563897249351a34549137c8532a0">Size</a>(PATCH_WIDTH, PATCH_HEIGHT),
<a name="l02636"></a>02636                <span class="keywordtype">string</span> pcaFilename = <span class="keywordtype">string</span>(),
<a name="l02637"></a>02637                <span class="keywordtype">string</span> trainPath = <span class="keywordtype">string</span>(), <span class="keywordtype">string</span> trainImagesList = <span class="keywordtype">string</span>(),
<a name="l02638"></a>02638                <span class="keywordtype">float</span> minScale = GET_MIN_SCALE(), <span class="keywordtype">float</span> maxScale = GET_MAX_SCALE(),
<a name="l02639"></a>02639                <span class="keywordtype">float</span> stepScale = GET_STEP_SCALE() );
<a name="l02640"></a>02640 
<a name="l02641"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a7f149030ee136a6f8f30be6d4ef41587">02641</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a7f149030ee136a6f8f30be6d4ef41587">poseCount</a>;
<a name="l02642"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ac66cdab3c81898c472ac6397e1044474">02642</a>         <a class="code" href="classcv_1_1_size__.html" title="The 2D size class.">Size</a> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#ac66cdab3c81898c472ac6397e1044474">patchSize</a>;
<a name="l02643"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a5f673a5ded3dd8bd592a811776029a84">02643</a>         <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a5f673a5ded3dd8bd592a811776029a84">pcaFilename</a>;
<a name="l02644"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a0d5d169bbe15b46ac3367af9ffe230c5">02644</a>         <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a0d5d169bbe15b46ac3367af9ffe230c5">trainPath</a>;
<a name="l02645"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a0b450552f0e9d1e0febd7cd674d3335e">02645</a>         <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a0b450552f0e9d1e0febd7cd674d3335e">trainImagesList</a>;
<a name="l02646"></a>02646 
<a name="l02647"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a6fea216dee92087fd1b70deb3ea88040">02647</a>         <span class="keywordtype">float</span> minScale, maxScale, <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html#a6fea216dee92087fd1b70deb3ea88040">stepScale</a>;
<a name="l02648"></a>02648     };
<a name="l02649"></a>02649 
<a name="l02650"></a>02650     <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">OneWayDescriptorMatcher</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a>&amp; <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a>() );
<a name="l02651"></a>02651     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_one_way_descriptor_matcher.html">OneWayDescriptorMatcher</a>();
<a name="l02652"></a>02652 
<a name="l02653"></a>02653     <span class="keywordtype">void</span> initialize( <span class="keyword">const</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a>&amp; <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>, <span class="keyword">const</span> <a class="code" href="classcv_1_1_ptr.html">Ptr&lt;OneWayDescriptorBase&gt;</a>&amp; base=<a class="code" href="classcv_1_1_ptr.html">Ptr&lt;OneWayDescriptorBase&gt;</a>() );
<a name="l02654"></a>02654 
<a name="l02655"></a>02655     <span class="comment">// Clears keypoints storing in collection and OneWayDescriptorBase</span>
<a name="l02656"></a>02656     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1gl.html#a2fbfcc011e3992ebe4a239464a97d896">clear</a>();
<a name="l02657"></a>02657 
<a name="l02658"></a>02658     <span class="keyword">virtual</span> <span class="keywordtype">void</span> train();
<a name="l02659"></a>02659 
<a name="l02660"></a>02660     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isMaskSupported();
<a name="l02661"></a>02661 
<a name="l02662"></a>02662     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn );
<a name="l02663"></a>02663     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>( <a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; fs ) <span class="keyword">const</span>;
<a name="l02664"></a>02664 
<a name="l02665"></a>02665     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
<a name="l02666"></a>02666 
<a name="l02667"></a>02667     <span class="keyword">virtual</span> <a class="code" href="classcv_1_1_ptr.html" title="Smart pointer to dynamically allocated objects.">Ptr&lt;GenericDescriptorMatcher&gt;</a> clone( <span class="keywordtype">bool</span> emptyTrainData=<span class="keyword">false</span> ) <span class="keyword">const</span>;
<a name="l02668"></a>02668 
<a name="l02669"></a>02669 <span class="keyword">protected</span>:
<a name="l02670"></a>02670     <span class="comment">// Matches a set of keypoints from a single image of the training set. A rectangle with a center in a keypoint</span>
<a name="l02671"></a>02671     <span class="comment">// and size (patch_width/2*scale, patch_height/2*scale) is cropped from the source image for each</span>
<a name="l02672"></a>02672     <span class="comment">// keypoint. scale is iterated from DescriptorOneWayParams::min_scale to DescriptorOneWayParams::max_scale.</span>
<a name="l02673"></a>02673     <span class="comment">// The minimum distance to each training patch with all its affine poses is found over all scales.</span>
<a name="l02674"></a>02674     <span class="comment">// The class ID of a match is returned for each keypoint. The distance is calculated over PCA components</span>
<a name="l02675"></a>02675     <span class="comment">// loaded with DescriptorOneWay::Initialize, kd tree is used for finding minimum distances.</span>
<a name="l02676"></a>02676     <span class="keyword">virtual</span> <span class="keywordtype">void</span> knnMatchImpl( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; queryImage, vector&lt;KeyPoint&gt;&amp; queryKeypoints,
<a name="l02677"></a>02677                               vector&lt;vector&lt;DMatch&gt; &gt;&amp; matches, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a7be9b6436e5ea72ff5d5a66779b4bd38">k</a>,
<a name="l02678"></a>02678                               <span class="keyword">const</span> vector&lt;Mat&gt;&amp; masks, <span class="keywordtype">bool</span> compactResult );
<a name="l02679"></a>02679     <span class="keyword">virtual</span> <span class="keywordtype">void</span> radiusMatchImpl( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; queryImage, vector&lt;KeyPoint&gt;&amp; queryKeypoints,
<a name="l02680"></a>02680                                  vector&lt;vector&lt;DMatch&gt; &gt;&amp; matches, <span class="keywordtype">float</span> maxDistance,
<a name="l02681"></a>02681                                  <span class="keyword">const</span> vector&lt;Mat&gt;&amp; masks, <span class="keywordtype">bool</span> compactResult );
<a name="l02682"></a>02682 
<a name="l02683"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#a15133d1c1c14cc9beb39d514133e4c29">02683</a>     <a class="code" href="classcv_1_1_ptr.html">Ptr&lt;OneWayDescriptorBase&gt;</a> <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#a15133d1c1c14cc9beb39d514133e4c29">base</a>;
<a name="l02684"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#a133feede492a09ce3dc29a726c68c534">02684</a>     <a class="code" href="classcv_1_1_one_way_descriptor_matcher_1_1_params.html">Params</a> <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#a133feede492a09ce3dc29a726c68c534">params</a>;
<a name="l02685"></a><a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#af5464b1a4b0d5d8420d8ec9707e2c7f6">02685</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_one_way_descriptor_matcher.html#af5464b1a4b0d5d8420d8ec9707e2c7f6">prevTrainCount</a>;
<a name="l02686"></a>02686 };
<a name="l02687"></a>02687 
<a name="l02688"></a>02688 <span class="comment">/*</span>
<a name="l02689"></a>02689 <span class="comment"> *  FernDescriptorMatcher</span>
<a name="l02690"></a>02690 <span class="comment"> */</span>
<a name="l02691"></a><a class="code" href="namespacecv.html#a545f14bb423cad0765fab6a9f6aaadaa">02691</a> <span class="keyword">class </span><a class="code" href="classcv_1_1_fern_descriptor_matcher.html">FernDescriptorMatcher</a>;
<a name="l02692"></a>02692 <span class="keyword">typedef</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher.html">FernDescriptorMatcher</a> <a class="code" href="namespacecv.html#a545f14bb423cad0765fab6a9f6aaadaa">FernDescriptorMatch</a>;
<a name="l02693"></a>02693 
<a name="l02694"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher.html">02694</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_fern_descriptor_matcher.html">FernDescriptorMatcher</a> : <span class="keyword">public</span> <a class="code" href="classcv_1_1_generic_descriptor_matcher.html">GenericDescriptorMatcher</a>
<a name="l02695"></a>02695 {
<a name="l02696"></a>02696 <span class="keyword">public</span>:
<a name="l02697"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">02697</a>     <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a>
<a name="l02698"></a>02698     {
<a name="l02699"></a>02699     <span class="keyword">public</span>:
<a name="l02700"></a>02700         <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a>( <span class="keywordtype">int</span> nclasses=0,
<a name="l02701"></a>02701                <span class="keywordtype">int</span> patchSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca24404de82f8919357a5f8e79ebbd9d1a">FernClassifier::PATCH_SIZE</a>,
<a name="l02702"></a>02702                <span class="keywordtype">int</span> signatureSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca4278805e49ddbabb97b52e29973b9d85">FernClassifier::DEFAULT_SIGNATURE_SIZE</a>,
<a name="l02703"></a>02703                <span class="keywordtype">int</span> nstructs=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcab6933cb0baa7f1218196052c4dbfe66c">FernClassifier::DEFAULT_STRUCTS</a>,
<a name="l02704"></a>02704                <span class="keywordtype">int</span> structSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcae6b19b111a3c9a6fd339907e6118d707">FernClassifier::DEFAULT_STRUCT_SIZE</a>,
<a name="l02705"></a>02705                <span class="keywordtype">int</span> nviews=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca333a37941aa3a8a7039ad179cb124216">FernClassifier::DEFAULT_VIEWS</a>,
<a name="l02706"></a>02706                <span class="keywordtype">int</span> compressionMethod=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcacc4c78b39eb783cc2b4fdd9fe1e87588">FernClassifier::COMPRESSION_NONE</a>,
<a name="l02707"></a>02707                <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>() );
<a name="l02708"></a>02708 
<a name="l02709"></a>02709         <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a>( <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="core__c_8h.html#acc427f35f3bd9f865d39012657cc42f8">filename</a> );
<a name="l02710"></a>02710 
<a name="l02711"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#afce393801e5f2e968f413fb0a10449b7">02711</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#afce393801e5f2e968f413fb0a10449b7">nclasses</a>;
<a name="l02712"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a584a30dedeb05d405b0ca72ce11e9f2b">02712</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a584a30dedeb05d405b0ca72ce11e9f2b">patchSize</a>;
<a name="l02713"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a7cc0c9530f2409a887f9825dd8eb2e1e">02713</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a7cc0c9530f2409a887f9825dd8eb2e1e">signatureSize</a>;
<a name="l02714"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a31c03780ab26123ddcdc1ee569ffc4a7">02714</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a31c03780ab26123ddcdc1ee569ffc4a7">nstructs</a>;
<a name="l02715"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a929470c0b3d8d368c47b785e7bceb96e">02715</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a929470c0b3d8d368c47b785e7bceb96e">structSize</a>;
<a name="l02716"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a581315a4df6cd6bd12685f4fba78e410">02716</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a581315a4df6cd6bd12685f4fba78e410">nviews</a>;
<a name="l02717"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#adbf2b40ee2de360fef7910d4f596f551">02717</a>         <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#adbf2b40ee2de360fef7910d4f596f551">compressionMethod</a>;
<a name="l02718"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a65b27f9924d438ff122d051ff64bcbb5">02718</a>         <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a65b27f9924d438ff122d051ff64bcbb5">patchGenerator</a>;
<a name="l02719"></a>02719 
<a name="l02720"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a0c03617635da4f943ba7fff0a16d855c">02720</a>         <span class="keywordtype">string</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html#a0c03617635da4f943ba7fff0a16d855c">filename</a>;
<a name="l02721"></a>02721     };
<a name="l02722"></a>02722 
<a name="l02723"></a>02723     <a class="code" href="classcv_1_1_fern_descriptor_matcher.html">FernDescriptorMatcher</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a>&amp; <a class="code" href="compat_8hpp.html#a0480a03ecc41b20cde376602531d9270">params</a>=<a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a>() );
<a name="l02724"></a>02724     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_fern_descriptor_matcher.html">FernDescriptorMatcher</a>();
<a name="l02725"></a>02725 
<a name="l02726"></a>02726     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="codeRef" doxygen="cinder.tag:../../../../docs/html/" href="../../../../docs/html/namespacecinder_1_1gl.html#a2fbfcc011e3992ebe4a239464a97d896">clear</a>();
<a name="l02727"></a>02727 
<a name="l02728"></a>02728     <span class="keyword">virtual</span> <span class="keywordtype">void</span> train();
<a name="l02729"></a>02729 
<a name="l02730"></a>02730     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isMaskSupported();
<a name="l02731"></a>02731 
<a name="l02732"></a>02732     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn );
<a name="l02733"></a>02733     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>( <a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; fs ) <span class="keyword">const</span>;
<a name="l02734"></a>02734     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
<a name="l02735"></a>02735 
<a name="l02736"></a>02736     <span class="keyword">virtual</span> <a class="code" href="classcv_1_1_ptr.html" title="Smart pointer to dynamically allocated objects.">Ptr&lt;GenericDescriptorMatcher&gt;</a> clone( <span class="keywordtype">bool</span> emptyTrainData=<span class="keyword">false</span> ) <span class="keyword">const</span>;
<a name="l02737"></a>02737 
<a name="l02738"></a>02738 <span class="keyword">protected</span>:
<a name="l02739"></a>02739     <span class="keyword">virtual</span> <span class="keywordtype">void</span> knnMatchImpl( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; queryImage, vector&lt;KeyPoint&gt;&amp; queryKeypoints,
<a name="l02740"></a>02740                               vector&lt;vector&lt;DMatch&gt; &gt;&amp; matches, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a7be9b6436e5ea72ff5d5a66779b4bd38">k</a>,
<a name="l02741"></a>02741                               <span class="keyword">const</span> vector&lt;Mat&gt;&amp; masks, <span class="keywordtype">bool</span> compactResult );
<a name="l02742"></a>02742     <span class="keyword">virtual</span> <span class="keywordtype">void</span> radiusMatchImpl( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; queryImage, vector&lt;KeyPoint&gt;&amp; queryKeypoints,
<a name="l02743"></a>02743                                  vector&lt;vector&lt;DMatch&gt; &gt;&amp; matches, <span class="keywordtype">float</span> maxDistance,
<a name="l02744"></a>02744                                  <span class="keyword">const</span> vector&lt;Mat&gt;&amp; masks, <span class="keywordtype">bool</span> compactResult );
<a name="l02745"></a>02745 
<a name="l02746"></a>02746     <span class="keywordtype">void</span> trainFernClassifier();
<a name="l02747"></a>02747     <span class="keywordtype">void</span> calcBestProbAndMatchIdx( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, <span class="keyword">const</span> <a class="code" href="classcv_1_1_point__.html">Point2f</a>&amp; <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a>,
<a name="l02748"></a>02748                                  <span class="keywordtype">float</span>&amp; bestProb, <span class="keywordtype">int</span>&amp; bestMatchIdx, vector&lt;float&gt;&amp; signature );
<a name="l02749"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher.html#aefa1380c6454cab847e6cd4b87b9ce04">02749</a>     <a class="code" href="classcv_1_1_ptr.html">Ptr&lt;FernClassifier&gt;</a> <a class="code" href="classcv_1_1_fern_descriptor_matcher.html#aefa1380c6454cab847e6cd4b87b9ce04">classifier</a>;
<a name="l02750"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher.html#ab28afe87b16259911db05c86f984465d">02750</a>     <a class="code" href="classcv_1_1_fern_descriptor_matcher_1_1_params.html">Params</a> <a class="code" href="classcv_1_1_fern_descriptor_matcher.html#ab28afe87b16259911db05c86f984465d">params</a>;
<a name="l02751"></a><a class="code" href="classcv_1_1_fern_descriptor_matcher.html#a53d50fd092627ec06b62a48e5a64dcda">02751</a>     <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_fern_descriptor_matcher.html#a53d50fd092627ec06b62a48e5a64dcda">prevTrainCount</a>;
<a name="l02752"></a>02752 };
<a name="l02753"></a>02753 
<a name="l02754"></a>02754 
<a name="l02755"></a>02755 <span class="comment">/*</span>
<a name="l02756"></a>02756 <span class="comment"> * CalonderDescriptorExtractor</span>
<a name="l02757"></a>02757 <span class="comment"> */</span>
<a name="l02758"></a>02758 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02759"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html">02759</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html">CalonderDescriptorExtractor</a> : <span class="keyword">public</span> <a class="code" href="classcv_1_1_descriptor_extractor.html">DescriptorExtractor</a>
<a name="l02760"></a>02760 {
<a name="l02761"></a>02761 <span class="keyword">public</span>:
<a name="l02762"></a>02762     <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html">CalonderDescriptorExtractor</a>( <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; classifierFile );
<a name="l02763"></a>02763 
<a name="l02764"></a>02764     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a> &amp;fn );
<a name="l02765"></a>02765     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>( <a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a> &amp;fs ) <span class="keyword">const</span>;
<a name="l02766"></a>02766 
<a name="l02767"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#ab5a95030baf12190630fea5853898188">02767</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#ab5a95030baf12190630fea5853898188">descriptorSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> classifier_.classes(); }
<a name="l02768"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#abef1e377e15c604de3027281957254d4">02768</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#abef1e377e15c604de3027281957254d4">descriptorType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcv_1_1_data_type.html" title="Informative template class for OpenCV &quot;scalars&quot;.">DataType&lt;T&gt;::type</a>; }
<a name="l02769"></a>02769 
<a name="l02770"></a>02770     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;
<a name="l02771"></a>02771 
<a name="l02772"></a>02772 <span class="keyword">protected</span>:
<a name="l02773"></a>02773     <span class="keyword">virtual</span> <span class="keywordtype">void</span> computeImpl( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, vector&lt;KeyPoint&gt;&amp; <a class="code" href="compat_8hpp.html#af95b6678bbbdd664ed15fe6d4190d355">keypoints</a>, <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; <a class="code" href="compat_8hpp.html#a1e3702ddbca6258f57508c22eff26bf2">descriptors</a> ) <span class="keyword">const</span>;
<a name="l02774"></a>02774 
<a name="l02775"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a2ebb39dcbe82e7a5eb2f85e2c7300c55">02775</a>     <a class="code" href="classcv_1_1_r_tree_classifier.html">RTreeClassifier</a> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a2ebb39dcbe82e7a5eb2f85e2c7300c55">classifier_</a>;
<a name="l02776"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a2fe16a49d8fcfc8ee063d64d354204ee">02776</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> BORDER_SIZE = 16;
<a name="l02777"></a>02777 };
<a name="l02778"></a>02778 
<a name="l02779"></a>02779 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02780"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a69f673cd75d355182fe6d65a167cc166">02780</a> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a69f673cd75d355182fe6d65a167cc166">CalonderDescriptorExtractor&lt;T&gt;::CalonderDescriptorExtractor</a>(<span class="keyword">const</span> <a class="code" href="namespacetesting_1_1internal.html#a5ca8a348395a6145775c1a2334e21889">std::string</a>&amp; classifier_file)
<a name="l02781"></a>02781 {
<a name="l02782"></a>02782     classifier_.read( classifier_file.c_str() );
<a name="l02783"></a>02783 }
<a name="l02784"></a>02784 
<a name="l02785"></a>02785 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02786"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a5cc1232191e42ab3cf020a365a5c3857">02786</a> <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a5cc1232191e42ab3cf020a365a5c3857">CalonderDescriptorExtractor&lt;T&gt;::computeImpl</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image,
<a name="l02787"></a>02787                                                  vector&lt;KeyPoint&gt;&amp; <a class="code" href="compat_8hpp.html#af95b6678bbbdd664ed15fe6d4190d355">keypoints</a>,
<a name="l02788"></a>02788                                                  <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; <a class="code" href="compat_8hpp.html#a1e3702ddbca6258f57508c22eff26bf2">descriptors</a>)<span class="keyword"> const</span>
<a name="l02789"></a>02789 <span class="keyword"></span>{
<a name="l02790"></a>02790     <span class="comment">// Cannot compute descriptors for keypoints on the image border.</span>
<a name="l02791"></a>02791     <a class="code" href="classcv_1_1_key_points_filter.html#ae6a4e8adcd786b05c4cc904a1ffd4db8">KeyPointsFilter::runByImageBorder</a>(keypoints, image.<a class="code" href="classcv_1_1_mat.html#a5500ed91b9300d78a62528c4f7bf1869">size</a>(), BORDER_SIZE);
<a name="l02792"></a>02792 
<a name="l02794"></a>02794     descriptors.<a class="code" href="classcv_1_1_mat.html#a55ced2c8d844d683ea9a725c60037ad0" title="allocates new matrix data unless the matrix already has specified size and type.">create</a>((<span class="keywordtype">int</span>)keypoints.size(), classifier_.classes(), <a class="code" href="classcv_1_1_data_type.html" title="Informative template class for OpenCV &quot;scalars&quot;.">cv::DataType&lt;T&gt;::type</a>);
<a name="l02795"></a>02795 
<a name="l02796"></a>02796     <span class="keywordtype">int</span> patchSize = <a class="code" href="classcv_1_1_randomized_tree.html#ad3a9c3171db3e1e0c95bdcce58335825">RandomizedTree::PATCH_SIZE</a>;
<a name="l02797"></a>02797     <span class="keywordtype">int</span> <a class="code" href="imgproc__c_8h.html#aecaf8d39ccebc1daaa89ee5f071a9090">offset</a> = patchSize / 2;
<a name="l02798"></a>02798     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; keypoints.size(); ++i)
<a name="l02799"></a>02799     {
<a name="l02800"></a>02800         <a class="code" href="classcv_1_1_point__.html">cv::Point2f</a> <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a> = keypoints[i].pt;
<a name="l02801"></a>02801         <a class="code" href="struct___ipl_image.html">IplImage</a> ipl = <a class="code" href="highgui__c_8h.html#a35b1e6246c0baa4fe7c8a916316d3adc">image</a>( <a class="code" href="namespacecv.html#a954f5c2ab7c3f0f5d4eed444cdabf038">Rect</a>((<span class="keywordtype">int</span>)(pt.<a class="code" href="classcv_1_1_point__.html#a4c96fa7bdbfe390be5ed356edb274ff3">x</a> - offset), (<span class="keywordtype">int</span>)(pt.<a class="code" href="classcv_1_1_point__.html#a157337197338ff199e5df1a393022f15">y</a> - offset), patchSize, patchSize) );
<a name="l02802"></a>02802         classifier_.getSignature( &amp;ipl, descriptors.<a class="code" href="classcv_1_1_mat.html#a04e52e996208b33202e66e29db2843ee" title="returns pointer to i0-th submatrix along the dimension #0">ptr</a>&lt;<a class="code" href="calib3d_8hpp.html#a3efb9551a871ddd0463079a808916717">T</a>&gt;((<span class="keywordtype">int</span>)i));
<a name="l02803"></a>02803     }
<a name="l02804"></a>02804 }
<a name="l02805"></a>02805 
<a name="l02806"></a>02806 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02807"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a68ee8ab88dabeeca169137848ca9f25b">02807</a> <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a68ee8ab88dabeeca169137848ca9f25b">CalonderDescriptorExtractor&lt;T&gt;::read</a>( <span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; )
<a name="l02808"></a>02808 {}
<a name="l02809"></a>02809 
<a name="l02810"></a>02810 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02811"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#acaf9d180b75860622f5348ac17014c87">02811</a> <span class="keywordtype">void</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#acaf9d180b75860622f5348ac17014c87">CalonderDescriptorExtractor&lt;T&gt;::write</a>( <a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; )<span class="keyword"> const</span>
<a name="l02812"></a>02812 <span class="keyword"></span>{}
<a name="l02813"></a>02813 
<a name="l02814"></a>02814 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l02815"></a><a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a5acaffafd1445bfb87bbf4589fe6a614">02815</a> <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_calonder_descriptor_extractor.html#a5acaffafd1445bfb87bbf4589fe6a614">CalonderDescriptorExtractor&lt;T&gt;::empty</a>()<span class="keyword"> const</span>
<a name="l02816"></a>02816 <span class="keyword"></span>{
<a name="l02817"></a>02817     <span class="keywordflow">return</span> classifier_.trees_.empty();
<a name="l02818"></a>02818 }
<a name="l02819"></a>02819 
<a name="l02820"></a>02820 
<a name="l02822"></a>02822 
<a name="l02823"></a>02823 <span class="keyword">template</span>&lt;<span class="keyword">class</span> Distance&gt;
<a name="l02824"></a><a class="code" href="classcv_1_1_brute_force_matcher.html">02824</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_brute_force_matcher.html">BruteForceMatcher</a> : <span class="keyword">public</span> <a class="code" href="classcv_1_1_b_f_matcher.html">BFMatcher</a>
<a name="l02825"></a>02825 {
<a name="l02826"></a>02826 <span class="keyword">public</span>:
<a name="l02827"></a><a class="code" href="classcv_1_1_brute_force_matcher.html#adafe4d7271b338e5ab13081acd15f80b">02827</a>     <a class="code" href="classcv_1_1_brute_force_matcher.html#adafe4d7271b338e5ab13081acd15f80b">BruteForceMatcher</a>( Distance <a class="code" href="legacy_8hpp.html#a6f364afbe132c4ecfea48bde1b0618ba">d</a> = Distance() ) : <a class="code" href="classcv_1_1_b_f_matcher.html">BFMatcher</a>(Distance::normType, false) {(<a class="code" href="highgui__c_8h.html#ad1f9461adaad33556b3a01c7f2c6ceab">void</a>)<a class="code" href="legacy_8hpp.html#a6f364afbe132c4ecfea48bde1b0618ba">d</a>;}
<a name="l02828"></a><a class="code" href="classcv_1_1_brute_force_matcher.html#ae517a3edef3a72eec3c8cea95949fff1">02828</a>     <span class="keyword">virtual</span> <a class="code" href="classcv_1_1_brute_force_matcher.html#ae517a3edef3a72eec3c8cea95949fff1">~BruteForceMatcher</a>() {}
<a name="l02829"></a>02829 };
<a name="l02830"></a>02830 
<a name="l02831"></a>02831 
<a name="l02832"></a>02832 <span class="comment">/****************************************************************************************\</span>
<a name="l02833"></a>02833 <span class="comment">*                                Planar Object Detection                                 *</span>
<a name="l02834"></a>02834 <span class="comment">\****************************************************************************************/</span>
<a name="l02835"></a>02835 
<a name="l02836"></a><a class="code" href="classcv_1_1_planar_object_detector.html">02836</a> <span class="keyword">class </span>CV_EXPORTS <a class="code" href="classcv_1_1_planar_object_detector.html">PlanarObjectDetector</a>
<a name="l02837"></a>02837 {
<a name="l02838"></a>02838 <span class="keyword">public</span>:
<a name="l02839"></a>02839     <a class="code" href="classcv_1_1_planar_object_detector.html">PlanarObjectDetector</a>();
<a name="l02840"></a>02840     <a class="code" href="classcv_1_1_planar_object_detector.html">PlanarObjectDetector</a>(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; <a class="code" href="core__c_8h.html#a4e145da43d8cadc65b69ce0c2a2cc76a">node</a>);
<a name="l02841"></a>02841     <a class="code" href="classcv_1_1_planar_object_detector.html">PlanarObjectDetector</a>(<span class="keyword">const</span> vector&lt;Mat&gt;&amp; pyr, <span class="keywordtype">int</span> _npoints=300,
<a name="l02842"></a>02842                          <span class="keywordtype">int</span> _patchSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca24404de82f8919357a5f8e79ebbd9d1a">FernClassifier::PATCH_SIZE</a>,
<a name="l02843"></a>02843                          <span class="keywordtype">int</span> _nstructs=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcab6933cb0baa7f1218196052c4dbfe66c">FernClassifier::DEFAULT_STRUCTS</a>,
<a name="l02844"></a>02844                          <span class="keywordtype">int</span> _structSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcae6b19b111a3c9a6fd339907e6118d707">FernClassifier::DEFAULT_STRUCT_SIZE</a>,
<a name="l02845"></a>02845                          <span class="keywordtype">int</span> _nviews=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca333a37941aa3a8a7039ad179cb124216">FernClassifier::DEFAULT_VIEWS</a>,
<a name="l02846"></a>02846                          <span class="keyword">const</span> <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>&amp; <a class="code" href="objdetect_8hpp.html#a1cb25e3935dfd0a52f5e4f749a176b0c">detector</a>=<a class="code" href="classcv_1_1_l_detector.html">LDetector</a>(),
<a name="l02847"></a>02847                          <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l02848"></a>02848     <span class="keyword">virtual</span> ~<a class="code" href="classcv_1_1_planar_object_detector.html">PlanarObjectDetector</a>();
<a name="l02849"></a>02849     <span class="keyword">virtual</span> <span class="keywordtype">void</span> train(<span class="keyword">const</span> vector&lt;Mat&gt;&amp; pyr, <span class="keywordtype">int</span> _npoints=300,
<a name="l02850"></a>02850                        <span class="keywordtype">int</span> _patchSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca24404de82f8919357a5f8e79ebbd9d1a">FernClassifier::PATCH_SIZE</a>,
<a name="l02851"></a>02851                        <span class="keywordtype">int</span> _nstructs=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcab6933cb0baa7f1218196052c4dbfe66c">FernClassifier::DEFAULT_STRUCTS</a>,
<a name="l02852"></a>02852                        <span class="keywordtype">int</span> _structSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcae6b19b111a3c9a6fd339907e6118d707">FernClassifier::DEFAULT_STRUCT_SIZE</a>,
<a name="l02853"></a>02853                        <span class="keywordtype">int</span> _nviews=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca333a37941aa3a8a7039ad179cb124216">FernClassifier::DEFAULT_VIEWS</a>,
<a name="l02854"></a>02854                        <span class="keyword">const</span> <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>&amp; <a class="code" href="objdetect_8hpp.html#a1cb25e3935dfd0a52f5e4f749a176b0c">detector</a>=<a class="code" href="classcv_1_1_l_detector.html">LDetector</a>(),
<a name="l02855"></a>02855                        <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l02856"></a>02856     <span class="keyword">virtual</span> <span class="keywordtype">void</span> train(<span class="keyword">const</span> vector&lt;Mat&gt;&amp; pyr, <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; <a class="code" href="compat_8hpp.html#af95b6678bbbdd664ed15fe6d4190d355">keypoints</a>,
<a name="l02857"></a>02857                        <span class="keywordtype">int</span> _patchSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca24404de82f8919357a5f8e79ebbd9d1a">FernClassifier::PATCH_SIZE</a>,
<a name="l02858"></a>02858                        <span class="keywordtype">int</span> _nstructs=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcab6933cb0baa7f1218196052c4dbfe66c">FernClassifier::DEFAULT_STRUCTS</a>,
<a name="l02859"></a>02859                        <span class="keywordtype">int</span> _structSize=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bcae6b19b111a3c9a6fd339907e6118d707">FernClassifier::DEFAULT_STRUCT_SIZE</a>,
<a name="l02860"></a>02860                        <span class="keywordtype">int</span> _nviews=<a class="code" href="classcv_1_1_fern_classifier.html#a0a541aa386e2ba560afc0ea59c6241bca333a37941aa3a8a7039ad179cb124216">FernClassifier::DEFAULT_VIEWS</a>,
<a name="l02861"></a>02861                        <span class="keyword">const</span> <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>&amp; <a class="code" href="objdetect_8hpp.html#a1cb25e3935dfd0a52f5e4f749a176b0c">detector</a>=<a class="code" href="classcv_1_1_l_detector.html">LDetector</a>(),
<a name="l02862"></a>02862                        <span class="keyword">const</span> <a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>&amp; patchGenerator=<a class="code" href="classcv_1_1_patch_generator.html" title="The Patch Generator class.">PatchGenerator</a>());
<a name="l02863"></a>02863     <a class="code" href="classcv_1_1_rect__.html">Rect</a> getModelROI() <span class="keyword">const</span>;
<a name="l02864"></a>02864     vector&lt;KeyPoint&gt; getModelPoints() <span class="keyword">const</span>;
<a name="l02865"></a>02865     <span class="keyword">const</span> <a class="code" href="classcv_1_1_l_detector.html">LDetector</a>&amp; getDetector() <span class="keyword">const</span>;
<a name="l02866"></a>02866     <span class="keyword">const</span> <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a>&amp; getClassifier() <span class="keyword">const</span>;
<a name="l02867"></a>02867     <span class="keywordtype">void</span> setVerbose(<span class="keywordtype">bool</span> verbose);
<a name="l02868"></a>02868 
<a name="l02869"></a>02869     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a619e0aa3096e0c21dd68917bab5ec86f">read</a>(<span class="keyword">const</span> <a class="code" href="classcv_1_1_file_node.html" title="File Storage Node class.">FileNode</a>&amp; node);
<a name="l02870"></a>02870     <span class="keywordtype">void</span> <a class="code" href="namespacecv.html#a61de8505ed5c9f5698861dec08e35a7d">write</a>(<a class="code" href="classcv_1_1_file_storage.html" title="XML/YAML File Storage Class.">FileStorage</a>&amp; fs, <span class="keyword">const</span> <a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>&amp; <a class="code" href="core__c_8h.html#add928d8eb85ea33a25a67db3406d4887">name</a>=<a class="code" href="namespacecv.html#a1f6634802eeadfd7245bc75cf3e216c2">String</a>()) <span class="keyword">const</span>;
<a name="l02871"></a>02871     <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; image, CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; H, CV_OUT vector&lt;Point2f&gt;&amp; <a class="code" href="calib3d_8hpp.html#a7c963d5c0be2901e72c3762c1ddfcee6">corners</a>) <span class="keyword">const</span>;
<a name="l02872"></a>02872     <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> vector&lt;Mat&gt;&amp; pyr, <span class="keyword">const</span> vector&lt;KeyPoint&gt;&amp; keypoints,
<a name="l02873"></a>02873                     CV_OUT <a class="code" href="classcv_1_1_mat.html" title="The n-dimensional matrix class.">Mat</a>&amp; H, CV_OUT vector&lt;Point2f&gt;&amp; corners,
<a name="l02874"></a>02874                     CV_OUT vector&lt;int&gt;* pairs=0) <span class="keyword">const</span>;
<a name="l02875"></a>02875 
<a name="l02876"></a>02876 <span class="keyword">protected</span>:
<a name="l02877"></a><a class="code" href="classcv_1_1_planar_object_detector.html#a9cfcd7164ce8d00f1277f95594b0925d">02877</a>     <span class="keywordtype">bool</span> <a class="code" href="classcv_1_1_planar_object_detector.html#a9cfcd7164ce8d00f1277f95594b0925d">verbose</a>;
<a name="l02878"></a><a class="code" href="classcv_1_1_planar_object_detector.html#a2c43c7a0f92d0fc60f4c0b4bb449a828">02878</a>     <a class="code" href="classcv_1_1_rect__.html">Rect</a> <a class="code" href="classcv_1_1_planar_object_detector.html#a2c43c7a0f92d0fc60f4c0b4bb449a828">modelROI</a>;
<a name="l02879"></a><a class="code" href="classcv_1_1_planar_object_detector.html#a919b56560e9a2b079ef3e18f00a8f945">02879</a>     vector&lt;KeyPoint&gt; <a class="code" href="classcv_1_1_planar_object_detector.html#a919b56560e9a2b079ef3e18f00a8f945">modelPoints</a>;
<a name="l02880"></a><a class="code" href="classcv_1_1_planar_object_detector.html#ad6a9dd94e790211f2dacf028cbd46fa4">02880</a>     <a class="code" href="classcv_1_1_l_detector.html">LDetector</a> <a class="code" href="classcv_1_1_planar_object_detector.html#ad6a9dd94e790211f2dacf028cbd46fa4">ldetector</a>;
<a name="l02881"></a><a class="code" href="classcv_1_1_planar_object_detector.html#acfa0c07d02b291ab7de47e59453bc06a">02881</a>     <a class="code" href="classcv_1_1_fern_classifier.html">FernClassifier</a> <a class="code" href="classcv_1_1_planar_object_detector.html#acfa0c07d02b291ab7de47e59453bc06a">fernClassifier</a>;
<a name="l02882"></a>02882 };
<a name="l02883"></a>02883 
<a name="l02884"></a>02884 }
<a name="l02885"></a>02885 
<a name="l02886"></a>02886 <span class="comment">// 2009-01-12, Xavier Delacour &lt;xavier.delacour@gmail.com&gt;</span>
<a name="l02887"></a>02887 
<a name="l02888"></a><a class="code" href="structlsh__hash.html">02888</a> <span class="keyword">struct </span><a class="code" href="structlsh__hash.html">lsh_hash</a> {
<a name="l02889"></a><a class="code" href="structlsh__hash.html#a97ae6b3ca85d3e1026aea04a022e33e4">02889</a>     <span class="keywordtype">int</span> <a class="code" href="structlsh__hash.html#aa9ac242a05933db75552b941f82d5eca">h1</a>, <a class="code" href="structlsh__hash.html#a97ae6b3ca85d3e1026aea04a022e33e4">h2</a>;
<a name="l02890"></a>02890 };
<a name="l02891"></a>02891 
<a name="l02892"></a><a class="code" href="struct_cv_l_s_h_operations.html">02892</a> <span class="keyword">struct </span><a class="code" href="struct_cv_l_s_h_operations.html">CvLSHOperations</a>
<a name="l02893"></a>02893 {
<a name="l02894"></a><a class="code" href="struct_cv_l_s_h_operations.html#aa951f102ca373b3f0d893e2b53936694">02894</a>     <span class="keyword">virtual</span> <a class="code" href="struct_cv_l_s_h_operations.html#aa951f102ca373b3f0d893e2b53936694">~CvLSHOperations</a>() {}
<a name="l02895"></a>02895 
<a name="l02896"></a>02896     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="struct_cv_l_s_h_operations.html#aa76a113cc8149bab0572c2643691774c">vector_add</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="core__c_8h.html#acd1647952fba31484ea63d6f1140e509">data</a>) = 0;
<a name="l02897"></a>02897     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="struct_cv_l_s_h_operations.html#a31e7558f6a0a6e58d693ec8df513ed7e">vector_remove</a>(<span class="keywordtype">int</span> i) = 0;
<a name="l02898"></a>02898     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="struct_cv_l_s_h_operations.html#a85dd8f3bdc6af41d2da118f7c54d6915">vector_lookup</a>(<span class="keywordtype">int</span> i) = 0;
<a name="l02899"></a>02899     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="struct_cv_l_s_h_operations.html#a3f82242a1531309e725a6d837c08f258">vector_reserve</a>(<span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>) = 0;
<a name="l02900"></a>02900     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_cv_l_s_h_operations.html#ab6905ef3ff4a60d2e905e7ea78b53a01">vector_count</a>() = 0;
<a name="l02901"></a>02901 
<a name="l02902"></a>02902     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="struct_cv_l_s_h_operations.html#a06b002b32a76c330948f4f893488a281">hash_insert</a>(<a class="code" href="structlsh__hash.html">lsh_hash</a> h, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> i) = 0;
<a name="l02903"></a>02903     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="struct_cv_l_s_h_operations.html#a50e421dde50cf914375aff0f504deb61">hash_remove</a>(<a class="code" href="structlsh__hash.html">lsh_hash</a> h, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> i) = 0;
<a name="l02904"></a>02904     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="struct_cv_l_s_h_operations.html#a886186aa6f8c14ca098ac050e8b5bb87">hash_lookup</a>(<a class="code" href="structlsh__hash.html">lsh_hash</a> h, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span>* ret_i, <span class="keywordtype">int</span> ret_i_max) = 0;
<a name="l02905"></a>02905 };
<a name="l02906"></a>02906 
<a name="l02907"></a>02907 <span class="preprocessor">#endif</span>
<a name="l02908"></a>02908 <span class="preprocessor"></span>
<a name="l02909"></a>02909 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l02910"></a>02910 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l02911"></a>02911 <span class="preprocessor">#endif</span>
<a name="l02912"></a>02912 <span class="preprocessor"></span>
<a name="l02913"></a>02913 <span class="comment">/* Splits color or grayscale image into multiple connected components</span>
<a name="l02914"></a>02914 <span class="comment"> of nearly the same color/brightness using modification of Burt algorithm.</span>
<a name="l02915"></a>02915 <span class="comment"> comp with contain a pointer to sequence (CvSeq)</span>
<a name="l02916"></a>02916 <span class="comment"> of connected components (CvConnectedComp) */</span>
<a name="l02917"></a><a class="code" href="legacy_8hpp.html#a36b8ce87916044769b804c11d6b40a79">02917</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvPyrSegmentation( <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a>,
<a name="l02918"></a>02918                               <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage, <a class="code" href="struct_cv_seq.html">CvSeq</a>** <a class="code" href="legacy_8hpp.html#aebb2c992b4f7c4a3c998f20467ee27f3">comp</a>,
<a name="l02919"></a>02919                               <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#ac693e272fb1883fe0343f55a14d72b22">level</a>, <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#a3624a49ef9de4b4c14537d162ac49d26">threshold1</a>,
<a name="l02920"></a>02920                               <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#a9f1cfe5469d77d47449d73966d484b84">threshold2</a> );
<a name="l02921"></a>02921 
<a name="l02922"></a>02922 <span class="comment">/****************************************************************************************\</span>
<a name="l02923"></a>02923 <span class="comment">*                              Planar subdivisions                                       *</span>
<a name="l02924"></a>02924 <span class="comment">\****************************************************************************************/</span>
<a name="l02925"></a>02925 
<a name="l02926"></a>02926 <span class="comment">/* Initializes Delaunay triangulation */</span>
<a name="l02927"></a><a class="code" href="legacy_8hpp.html#a0b66dd5dfd5fbb6d0d398740ea971f2f">02927</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvInitSubdivDelaunay2D( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv, <a class="code" href="struct_cv_rect.html">CvRect</a> <a class="code" href="core__c_8h.html#a530a78d59bfb8d13c3013626ebb95c2e">rect</a> );
<a name="l02928"></a>02928 
<a name="l02929"></a>02929 <span class="comment">/* Creates new subdivision */</span>
<a name="l02930"></a><a class="code" href="legacy_8hpp.html#a5d3ff76f59354ba6b84b839d0e114913">02930</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>*)  cvCreateSubdiv2D( <span class="keywordtype">int</span> subdiv_type, <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a4e5c1b1bef3aaad5af98436c73397964">header_size</a>,
<a name="l02931"></a>02931                                      <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a5d3ff76f59354ba6b84b839d0e114913">vtx_size</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a8c0a403d8ed5517d0fb3d74e8ed63984">quadedge_size</a>,
<a name="l02932"></a>02932                                      <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage );
<a name="l02933"></a>02933 
<a name="l02934"></a>02934 <span class="comment">/************************* high-level subdivision functions ***************************/</span>
<a name="l02935"></a>02935 
<a name="l02936"></a>02936 <span class="comment">/* Simplified Delaunay diagram creation */</span>
<a name="l02937"></a><a class="code" href="legacy_8hpp.html#aa07fd5ae24adb8e48d0a82a891d855ec">02937</a> CV_INLINE  <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* <a class="code" href="legacy_8hpp.html#aa07fd5ae24adb8e48d0a82a891d855ec">cvCreateSubdivDelaunay2D</a>( <a class="code" href="struct_cv_rect.html">CvRect</a> rect, <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage )
<a name="l02938"></a>02938 {
<a name="l02939"></a>02939     <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv = cvCreateSubdiv2D( CV_SEQ_KIND_SUBDIV2D, <span class="keyword">sizeof</span>(*subdiv),
<a name="l02940"></a>02940                                           <span class="keyword">sizeof</span>(<a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>), <span class="keyword">sizeof</span>(<a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>), storage );
<a name="l02941"></a>02941 
<a name="l02942"></a>02942     cvInitSubdivDelaunay2D( subdiv, rect );
<a name="l02943"></a>02943     <span class="keywordflow">return</span> subdiv;
<a name="l02944"></a>02944 }
<a name="l02945"></a>02945 
<a name="l02946"></a>02946 
<a name="l02947"></a>02947 <span class="comment">/* Inserts new point to the Delaunay triangulation */</span>
<a name="l02948"></a><a class="code" href="legacy_8hpp.html#ad6eaac986b8d4303fcae83fc3a05724d">02948</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*)  cvSubdivDelaunay2DInsert( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="imgproc__c_8h.html#a350b3a83768fbff7ceba7d1be6fe3475">pt</a>);
<a name="l02949"></a>02949 
<a name="l02950"></a>02950 <span class="comment">/* Locates a point within the Delaunay triangulation (finds the edge</span>
<a name="l02951"></a>02951 <span class="comment"> the point is left to or belongs to, or the triangulation point the given</span>
<a name="l02952"></a>02952 <span class="comment"> point coinsides with */</span>
<a name="l02953"></a>02953 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="imgproc_2types__c_8h.html#a968aa39d10c8ee30820fc2cf3008ff34">CvSubdiv2DPointLocation</a>)  cvSubdiv2DLocate(
<a name="l02954"></a><a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">02954</a>                                                  <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> pt,
<a name="l02955"></a>02955                                                  <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a>* <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a>,
<a name="l02956"></a>02956                                                  <a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>** <a class="code" href="legacy_8hpp.html#ac8a106041f9639c956b255212cfe857e">vertex</a> CV_DEFAULT(NULL) );
<a name="l02957"></a>02957 
<a name="l02958"></a>02958 <span class="comment">/* Calculates Voronoi tesselation (i.e. coordinates of Voronoi points) */</span>
<a name="l02959"></a>02959 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcSubdivVoronoi2D( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv );
<a name="l02960"></a>02960 
<a name="l02961"></a>02961 
<a name="l02962"></a>02962 <span class="comment">/* Removes all Voronoi points from the tesselation */</span>
<a name="l02963"></a>02963 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvClearSubdivVoronoi2D( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv );
<a name="l02964"></a>02964 
<a name="l02965"></a>02965 
<a name="l02966"></a>02966 <span class="comment">/* Finds the nearest to the given point vertex in subdivision. */</span>
<a name="l02967"></a>02967 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*) cvFindNearestPoint2D( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> pt );
<a name="l02968"></a>02968 
<a name="l02969"></a>02969 
<a name="l02970"></a>02970 <span class="comment">/************ Basic quad-edge navigation and operations ************/</span>
<a name="l02971"></a>02971 
<a name="l02972"></a><a class="code" href="legacy_8hpp.html#a1425f1ed71358d072fac3df7183fc894">02972</a> CV_INLINE  <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a>  <a class="code" href="legacy_8hpp.html#a1425f1ed71358d072fac3df7183fc894">cvSubdiv2DNextEdge</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> edge )
<a name="l02973"></a>02973 {
<a name="l02974"></a>02974     <span class="keywordflow">return</span>  CV_SUBDIV2D_NEXT_EDGE(edge);
<a name="l02975"></a>02975 }
<a name="l02976"></a>02976 
<a name="l02977"></a>02977 
<a name="l02978"></a><a class="code" href="legacy_8hpp.html#ab59e39f0a3bd070e5981c8c448ee15f1">02978</a> CV_INLINE  <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a>  <a class="code" href="legacy_8hpp.html#ab59e39f0a3bd070e5981c8c448ee15f1">cvSubdiv2DRotateEdge</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a>, <span class="keywordtype">int</span> <a class="code" href="namespacecv_1_1gpu.html#a9a754d4e24ef674789858af05942980b">rotate</a> )
<a name="l02979"></a>02979 {
<a name="l02980"></a>02980     <span class="keywordflow">return</span>  (edge &amp; ~3) + ((edge + <a class="code" href="namespacecv_1_1gpu.html#a9a754d4e24ef674789858af05942980b">rotate</a>) &amp; 3);
<a name="l02981"></a>02981 }
<a name="l02982"></a>02982 
<a name="l02983"></a><a class="code" href="legacy_8hpp.html#a632f890044d5fa0c380a7607eee5f6cf">02983</a> CV_INLINE  <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a>  <a class="code" href="legacy_8hpp.html#a632f890044d5fa0c380a7607eee5f6cf">cvSubdiv2DSymEdge</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a> )
<a name="l02984"></a>02984 {
<a name="l02985"></a>02985     <span class="keywordflow">return</span> edge ^ 2;
<a name="l02986"></a>02986 }
<a name="l02987"></a>02987 
<a name="l02988"></a><a class="code" href="legacy_8hpp.html#aa763c5d15321f06303ba7497eef9be3e">02988</a> CV_INLINE  <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a>  <a class="code" href="legacy_8hpp.html#aa763c5d15321f06303ba7497eef9be3e">cvSubdiv2DGetEdge</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a>, <a class="code" href="imgproc_2types__c_8h.html#a50323bd233c90e19e43e0f42e43c6136">CvNextEdgeType</a> <a class="code" href="core__c_8h.html#a8bc957583d2a5247e490ea9ce960cf21">type</a> )
<a name="l02989"></a>02989 {
<a name="l02990"></a>02990     <a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>* e = (<a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>*)(edge &amp; ~3);
<a name="l02991"></a>02991     edge = e-&gt;next[(edge + (<a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a>)type) &amp; 3];
<a name="l02992"></a>02992     <span class="keywordflow">return</span>  (edge &amp; ~3) + ((edge + ((<a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a>)type &gt;&gt; 4)) &amp; 3);
<a name="l02993"></a>02993 }
<a name="l02994"></a>02994 
<a name="l02995"></a>02995 
<a name="l02996"></a><a class="code" href="legacy_8hpp.html#a48646f4ca448bcb8e5c2f98d91da35bb">02996</a> CV_INLINE  <a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*  <a class="code" href="legacy_8hpp.html#a48646f4ca448bcb8e5c2f98d91da35bb">cvSubdiv2DEdgeOrg</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a> )
<a name="l02997"></a>02997 {
<a name="l02998"></a>02998     <a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>* e = (<a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>*)(edge &amp; ~3);
<a name="l02999"></a>02999     <span class="keywordflow">return</span> (<a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*)e-&gt;pt[edge &amp; 3];
<a name="l03000"></a>03000 }
<a name="l03001"></a>03001 
<a name="l03002"></a>03002 
<a name="l03003"></a><a class="code" href="legacy_8hpp.html#a248ea6d32ee4a2e89351e6daee047667">03003</a> CV_INLINE  <a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*  <a class="code" href="legacy_8hpp.html#a248ea6d32ee4a2e89351e6daee047667">cvSubdiv2DEdgeDst</a>( <a class="code" href="imgproc_2types__c_8h.html#a902e2556fb0a0610cf2ff8d237cdc124">CvSubdiv2DEdge</a> <a class="code" href="legacy_8hpp.html#a0f302ec6af7c8d3a162e6e0a217713eb">edge</a> )
<a name="l03004"></a>03004 {
<a name="l03005"></a>03005     <a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>* e = (<a class="code" href="struct_cv_quad_edge2_d.html">CvQuadEdge2D</a>*)(edge &amp; ~3);
<a name="l03006"></a>03006     <span class="keywordflow">return</span> (<a class="code" href="struct_cv_subdiv2_d_point.html">CvSubdiv2DPoint</a>*)e-&gt;pt[(edge + 2) &amp; 3];
<a name="l03007"></a>03007 }
<a name="l03008"></a>03008 
<a name="l03009"></a>03009 <span class="comment">/****************************************************************************************\</span>
<a name="l03010"></a>03010 <span class="comment">*                           Additional operations on Subdivisions                        *</span>
<a name="l03011"></a>03011 <span class="comment">\****************************************************************************************/</span>
<a name="l03012"></a>03012 
<a name="l03013"></a>03013 <span class="comment">// paints voronoi diagram: just demo function</span>
<a name="l03014"></a>03014 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  icvDrawMosaic( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv, <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="core__c_8h.html#af29de26095c2ca3a13726f87a7e4ff4e">src</a>, <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="calib3d_8hpp.html#ad07a04090e384b855c78ca9fb981b7a8">dst</a> );
<a name="l03015"></a>03015 
<a name="l03016"></a>03016 <span class="comment">// checks planar subdivision for correctness. It is not an absolute check,</span>
<a name="l03017"></a>03017 <span class="comment">// but it verifies some relations between quad-edges</span>
<a name="l03018"></a>03018 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>)   icvSubdiv2DCheck( <a class="code" href="struct_cv_subdiv2_d.html">CvSubdiv2D</a>* subdiv );
<a name="l03019"></a>03019 
<a name="l03020"></a>03020 <span class="comment">// returns squared distance between two 2D points with floating-point coordinates.</span>
<a name="l03021"></a><a class="code" href="legacy_8hpp.html#a98219add7b1a3328c23254efc9ee4bc1">03021</a> CV_INLINE <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a98219add7b1a3328c23254efc9ee4bc1">icvSqDist2D32f</a>( <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="core__c_8h.html#a3d93852899c445e76457745010aa0a5a">pt1</a>, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="core__c_8h.html#a902850a9e0c91c1564bccebb6d1759dd">pt2</a> )
<a name="l03022"></a>03022 {
<a name="l03023"></a>03023     <span class="keywordtype">double</span> dx = pt1.x - pt2.x;
<a name="l03024"></a>03024     <span class="keywordtype">double</span> dy = pt1.y - pt2.y;
<a name="l03025"></a>03025 
<a name="l03026"></a>03026     <span class="keywordflow">return</span> dx*dx + dy*dy;
<a name="l03027"></a>03027 }
<a name="l03028"></a>03028 
<a name="l03029"></a>03029 
<a name="l03030"></a>03030 
<a name="l03031"></a>03031 
<a name="l03032"></a><a class="code" href="legacy_8hpp.html#adde3365039b727436aba96705f6b2d0e">03032</a> CV_INLINE  <span class="keywordtype">double</span>  <a class="code" href="legacy_8hpp.html#adde3365039b727436aba96705f6b2d0e">cvTriangleArea</a>( <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#a1031d0e0a97a340abfe0a6ab9e831045">a</a>, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#ac04272e8ca865b8fba18d36edae9fd2a">b</a>, <a class="code" href="struct_cv_point2_d32f.html">CvPoint2D32f</a> <a class="code" href="legacy_8hpp.html#a1971420173e06f45845eed2ab4e3d5d0">c</a> )
<a name="l03033"></a>03033 {
<a name="l03034"></a>03034     <span class="keywordflow">return</span> ((<span class="keywordtype">double</span>)b.<a class="code" href="struct_cv_point2_d32f.html#a8d77880e3d92682aec3cbb36eae9cc40">x</a> - a.<a class="code" href="struct_cv_point2_d32f.html#a8d77880e3d92682aec3cbb36eae9cc40">x</a>) * ((double)c.<a class="code" href="struct_cv_point2_d32f.html#afaec75e4e30df5f2e3ab02c46dae0cb0">y</a> - a.<a class="code" href="struct_cv_point2_d32f.html#afaec75e4e30df5f2e3ab02c46dae0cb0">y</a>) - ((double)b.<a class="code" href="struct_cv_point2_d32f.html#afaec75e4e30df5f2e3ab02c46dae0cb0">y</a> - a.<a class="code" href="struct_cv_point2_d32f.html#afaec75e4e30df5f2e3ab02c46dae0cb0">y</a>) * ((double)c.<a class="code" href="struct_cv_point2_d32f.html#a8d77880e3d92682aec3cbb36eae9cc40">x</a> - a.<a class="code" href="struct_cv_point2_d32f.html#a8d77880e3d92682aec3cbb36eae9cc40">x</a>);
<a name="l03035"></a>03035 }
<a name="l03036"></a>03036 
<a name="l03037"></a>03037 
<a name="l03038"></a>03038 <span class="comment">/* Constructs kd-tree from set of feature descriptors */</span>
<a name="l03039"></a>03039 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keyword">struct</span> CvFeatureTree*) cvCreateKDTree(<a class="code" href="struct_cv_mat.html">CvMat</a>* desc);
<a name="l03040"></a>03040 
<a name="l03041"></a>03041 <span class="comment">/* Constructs spill-tree from set of feature descriptors */</span>
<a name="l03042"></a>03042 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(struct CvFeatureTree*) cvCreateSpillTree( const <a class="code" href="struct_cv_mat.html">CvMat</a>* raw_data,
<a name="l03043"></a>03043                                                const <span class="keywordtype">int</span> naive CV_DEFAULT(50),
<a name="l03044"></a>03044                                                const <span class="keywordtype">double</span> <a class="code" href="imgproc__c_8h.html#a7d8783b6b909806d38134f1f342005bf">rho</a> CV_DEFAULT(.7),
<a name="l03045"></a>03045                                                const <span class="keywordtype">double</span> tau CV_DEFAULT(.1) );
<a name="l03046"></a>03046 
<a name="l03047"></a>03047 <span class="comment">/* Release feature tree */</span>
<a name="l03048"></a>03048 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseFeatureTree(struct CvFeatureTree* tr);
<a name="l03049"></a>03049 
<a name="l03050"></a>03050 <span class="comment">/* Searches feature tree for k nearest neighbors of given reference points,</span>
<a name="l03051"></a>03051 <span class="comment"> searching (in case of kd-tree/bbf) at most emax leaves. */</span>
<a name="l03052"></a><a class="code" href="legacy_8hpp.html#afda9b18eb394e7ba7c2a99ccba0dfa03">03052</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvFindFeatures(struct CvFeatureTree* tr, const <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#afda9b18eb394e7ba7c2a99ccba0dfa03">query_points</a>,
<a name="l03053"></a>03053                            <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#a3e3b9b48bcbc7f460efbcfe4399ad24a">indices</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#ae895c2003a87eda49126845b7ac3688e">dist</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a7be9b6436e5ea72ff5d5a66779b4bd38">k</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a32032e53dbe8093af166f72e33e60eeb">emax</a> CV_DEFAULT(20));
<a name="l03054"></a>03054 
<a name="l03055"></a>03055 <span class="comment">/* Search feature tree for all points that are inlier to given rect region.</span>
<a name="l03056"></a>03056 <span class="comment"> Only implemented for kd trees */</span>
<a name="l03057"></a>03057 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) cvFindFeaturesBoxed(struct CvFeatureTree* tr,
<a name="l03058"></a><a class="code" href="legacy_8hpp.html#ab29db6f40ed610612b9056e9e571541b">03058</a>                                <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#aaa2d2bda7e4133f01f42e8fd6a025164">bounds_min</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#afadae014136e4199cf5fc70ddbacc4b0">bounds_max</a>,
<a name="l03059"></a>03059                                <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="legacy_8hpp.html#ab29db6f40ed610612b9056e9e571541b">out_indices</a>);
<a name="l03060"></a>03060 
<a name="l03061"></a>03061 
<a name="l03062"></a>03062 <span class="comment">/* Construct a Locality Sensitive Hash (LSH) table, for indexing d-dimensional vectors of</span>
<a name="l03063"></a>03063 <span class="comment"> given type. Vectors will be hashed L times with k-dimensional p-stable (p=2) functions. */</span>
<a name="l03064"></a><a class="code" href="legacy_8hpp.html#a6f364afbe132c4ecfea48bde1b0618ba">03064</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(struct CvLSH*) cvCreateLSH(struct <a class="code" href="struct_cv_l_s_h_operations.html">CvLSHOperations</a>* ops, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a6f364afbe132c4ecfea48bde1b0618ba">d</a>,
<a name="l03065"></a>03065                                  <span class="keywordtype">int</span> L CV_DEFAULT(10), <span class="keywordtype">int</span> k CV_DEFAULT(10),
<a name="l03066"></a>03066                                  <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a8bc957583d2a5247e490ea9ce960cf21">type</a> CV_DEFAULT(CV_64FC1), <span class="keywordtype">double</span> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a> CV_DEFAULT(4),
<a name="l03067"></a>03067                                  <a class="code" href="core_2types__c_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> seed CV_DEFAULT(-1));
<a name="l03068"></a>03068 
<a name="l03069"></a>03069 <span class="comment">/* Construct in-memory LSH table, with n bins. */</span>
<a name="l03070"></a><a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">03070</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(struct CvLSH*) cvCreateMemoryLSH(<span class="keywordtype">int</span> d, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <span class="keywordtype">int</span> L CV_DEFAULT(10), <span class="keywordtype">int</span> k CV_DEFAULT(10),
<a name="l03071"></a>03071                                        <span class="keywordtype">int</span> <a class="code" href="core__c_8h.html#a8bc957583d2a5247e490ea9ce960cf21">type</a> CV_DEFAULT(CV_64FC1), <span class="keywordtype">double</span> <a class="code" href="core__c_8h.html#a54709f3b06b33b66763f1613cc7fb571">r</a> CV_DEFAULT(4),
<a name="l03072"></a>03072                                        <a class="code" href="core_2types__c_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> seed CV_DEFAULT(-1));
<a name="l03073"></a>03073 
<a name="l03074"></a>03074 <span class="comment">/* Free the given LSH structure. */</span>
<a name="l03075"></a>03075 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseLSH(struct CvLSH** lsh);
<a name="l03076"></a>03076 
<a name="l03077"></a>03077 <span class="comment">/* Return the number of vectors in the LSH. */</span>
<a name="l03078"></a>03078 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) LSHSize(struct CvLSH* lsh);
<a name="l03079"></a>03079 
<a name="l03080"></a>03080 <span class="comment">/* Add vectors to the LSH structure, optionally returning indices. */</span>
<a name="l03081"></a><a class="code" href="legacy_8hpp.html#ab9fe6c09e6d02865a953fffc12fe6ca0">03081</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvLSHAdd(struct CvLSH* lsh, const <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="core__c_8h.html#acd1647952fba31484ea63d6f1140e509">data</a>, <a class="code" href="struct_cv_mat.html">CvMat</a>* indices CV_DEFAULT(0));
<a name="l03082"></a>03082 
<a name="l03083"></a>03083 <span class="comment">/* Remove vectors from LSH, as addressed by given indices. */</span>
<a name="l03084"></a>03084 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvLSHRemove(struct CvLSH* lsh, const <a class="code" href="struct_cv_mat.html">CvMat</a>* indices);
<a name="l03085"></a>03085 
<a name="l03086"></a>03086 <span class="comment">/* Query the LSH n times for at most k nearest points; data is n x d,</span>
<a name="l03087"></a>03087 <span class="comment"> indices and dist are n x k. At most emax stored points will be accessed. */</span>
<a name="l03088"></a><a class="code" href="legacy_8hpp.html#a32032e53dbe8093af166f72e33e60eeb">03088</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvLSHQuery(struct CvLSH* lsh, const <a class="code" href="struct_cv_mat.html">CvMat</a>* query_points,
<a name="l03089"></a>03089                        <a class="code" href="struct_cv_mat.html">CvMat</a>* indices, <a class="code" href="struct_cv_mat.html">CvMat</a>* dist, <span class="keywordtype">int</span> k, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#a32032e53dbe8093af166f72e33e60eeb">emax</a>);
<a name="l03090"></a>03090 
<a name="l03091"></a>03091 <span class="comment">/* Kolmogorov-Zabin stereo-correspondence algorithm (a.k.a. KZ1) */</span>
<a name="l03092"></a>03092 <span class="preprocessor">#define CV_STEREO_GC_OCCLUDED  SHRT_MAX</span>
<a name="l03093"></a>03093 <span class="preprocessor"></span>
<a name="l03094"></a><a class="code" href="struct_cv_stereo_g_c_state.html">03094</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_stereo_g_c_state.html">CvStereoGCState</a>
<a name="l03095"></a>03095 {
<a name="l03096"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a3ffcc3ba221a17b5c6a797f193e415ef">03096</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#a3ffcc3ba221a17b5c6a797f193e415ef">Ithreshold</a>;
<a name="l03097"></a><a class="code" href="struct_cv_stereo_g_c_state.html#aabf69d788a58964238fb7fd9856c9072">03097</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#aabf69d788a58964238fb7fd9856c9072">interactionRadius</a>;
<a name="l03098"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a8a8099aa413d54772f324ffbdf5bf3c4">03098</a>     <span class="keywordtype">float</span> <a class="code" href="struct_cv_stereo_g_c_state.html#a9235a0cc202d057ea7b7702e27ef5258">K</a>, <a class="code" href="struct_cv_stereo_g_c_state.html#a9964d61285e7ae6473ea67f37c690686">lambda</a>, <a class="code" href="struct_cv_stereo_g_c_state.html#a0fcc2b4ab0710f2a908bea3c7215bf37">lambda1</a>, <a class="code" href="struct_cv_stereo_g_c_state.html#a8a8099aa413d54772f324ffbdf5bf3c4">lambda2</a>;
<a name="l03099"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a5180d46f17b0ef1a0a12548f1ac8d131">03099</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#a5180d46f17b0ef1a0a12548f1ac8d131">occlusionCost</a>;
<a name="l03100"></a><a class="code" href="struct_cv_stereo_g_c_state.html#acd99c90864d862383ea2ee3d7771bcdf">03100</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#acd99c90864d862383ea2ee3d7771bcdf">minDisparity</a>;
<a name="l03101"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a25f14ac893bf2cc8cfa7f1b71692dbc9">03101</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#a25f14ac893bf2cc8cfa7f1b71692dbc9">numberOfDisparities</a>;
<a name="l03102"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a3e7a32482d880e232b95e6be0d0c0d20">03102</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_stereo_g_c_state.html#a3e7a32482d880e232b95e6be0d0c0d20">maxIters</a>;
<a name="l03103"></a>03103 
<a name="l03104"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a1db1664259831d3dfd963b67d2d1f086">03104</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a1db1664259831d3dfd963b67d2d1f086">left</a>;
<a name="l03105"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a0de1cdbbff1f05aed8f73b6d0d30dc27">03105</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a0de1cdbbff1f05aed8f73b6d0d30dc27">right</a>;
<a name="l03106"></a><a class="code" href="struct_cv_stereo_g_c_state.html#aa42201c55ae54bea97810a913e59eefb">03106</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#aa42201c55ae54bea97810a913e59eefb">dispLeft</a>;
<a name="l03107"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a8d1b00fb29ac17a6ba6c49a92dc78147">03107</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a8d1b00fb29ac17a6ba6c49a92dc78147">dispRight</a>;
<a name="l03108"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a47a4b2c5e47839d25f45c8214e2a3d61">03108</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a47a4b2c5e47839d25f45c8214e2a3d61">ptrLeft</a>;
<a name="l03109"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a72a4375a625d180a8d4670d8f40d8eac">03109</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a72a4375a625d180a8d4670d8f40d8eac">ptrRight</a>;
<a name="l03110"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a1fb806f995a7314ace15ace55d061d4e">03110</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a1fb806f995a7314ace15ace55d061d4e">vtxBuf</a>;
<a name="l03111"></a><a class="code" href="struct_cv_stereo_g_c_state.html#a75d3251f2b816ca26bf4ee82780f1394">03111</a>     <a class="code" href="struct_cv_mat.html">CvMat</a>* <a class="code" href="struct_cv_stereo_g_c_state.html#a75d3251f2b816ca26bf4ee82780f1394">edgeBuf</a>;
<a name="l03112"></a>03112 } <a class="code" href="legacy_8hpp.html#af71efbecf57cec01525a74bd78b3ef6f">CvStereoGCState</a>;
<a name="l03113"></a>03113 
<a name="l03114"></a><a class="code" href="legacy_8hpp.html#aa2a474f18c424a6890ec0d13f7f00460">03114</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_stereo_g_c_state.html">CvStereoGCState</a>*) cvCreateStereoGCState( <span class="keywordtype">int</span> <a class="code" href="calib3d_8hpp.html#a833b3f1fda9b69decddcee122e27c2fb">numberOfDisparities</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#aa2a474f18c424a6890ec0d13f7f00460">maxIters</a> );
<a name="l03115"></a>03115 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseStereoGCState( <a class="code" href="struct_cv_stereo_g_c_state.html">CvStereoGCState</a>** <a class="code" href="calib3d_8hpp.html#ad823b72173a53c77d8a75ca4a2b42a54">state</a> );
<a name="l03116"></a>03116 
<a name="l03117"></a><a class="code" href="legacy_8hpp.html#adf6b96319f18247b0ac3b2900987e75b">03117</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvFindStereoCorrespondenceGC( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* left, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="calib3d_8hpp.html#a6b04b878081bf724144b73c75dfd1894">right</a>,
<a name="l03118"></a>03118                                          <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a8cdbed370160b4943eca0b11ba23e93f">disparityLeft</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#ac76ccdf1671f62028b48a0b8631f7bd7">disparityRight</a>,
<a name="l03119"></a>03119                                          <a class="code" href="struct_cv_stereo_g_c_state.html">CvStereoGCState</a>* state,
<a name="l03120"></a>03120                                          <span class="keywordtype">int</span> useDisparityGuess CV_DEFAULT(0) );
<a name="l03121"></a>03121 
<a name="l03122"></a>03122 <span class="comment">/* Calculates optical flow for 2 images using classical Lucas &amp; Kanade algorithm */</span>
<a name="l03123"></a><a class="code" href="legacy_8hpp.html#a288228f7d1b8c11df847057580afc5b2">03123</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcOpticalFlowLK( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* prev, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a48b7636d793620e0059370fdefc62c6e">curr</a>,
<a name="l03124"></a>03124                                  <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#a288228f7d1b8c11df847057580afc5b2">win_size</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a1b49096cb71c0abeb119c1cfd84f67a0">velx</a>, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a30c79734bbfc20fc3b31ac62e1431f21">vely</a> );
<a name="l03125"></a>03125 
<a name="l03126"></a>03126 <span class="comment">/* Calculates optical flow for 2 images using block matching algorithm */</span>
<a name="l03127"></a><a class="code" href="legacy_8hpp.html#aa48cd04197214726a4f5a38d24bb46a5">03127</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcOpticalFlowBM( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* prev, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* curr,
<a name="l03128"></a>03128                                  <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="imgproc__c_8h.html#a2d7c85a0cd4aeceb7043475ac38fe836">block_size</a>, <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#aa973f16cc51ceb4ef9a209ef85dcd3fb">shift_size</a>,
<a name="l03129"></a>03129                                  <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="legacy_8hpp.html#a0327a8c849dfab37a441b7ea161d1524">max_range</a>, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#aa48cd04197214726a4f5a38d24bb46a5">use_previous</a>,
<a name="l03130"></a>03130                                  <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* velx, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* vely );
<a name="l03131"></a>03131 
<a name="l03132"></a>03132 <span class="comment">/* Calculates Optical flow for 2 images using Horn &amp; Schunck algorithm */</span>
<a name="l03133"></a><a class="code" href="legacy_8hpp.html#a2b2a31d8b9a3be743757541bf16e5801">03133</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>)  cvCalcOpticalFlowHS( const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* prev, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* curr,
<a name="l03134"></a>03134                                  <span class="keywordtype">int</span> use_previous, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* velx, <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* vely,
<a name="l03135"></a>03135                                  <span class="keywordtype">double</span> <a class="code" href="legacy_8hpp.html#a2b2a31d8b9a3be743757541bf16e5801">lambda</a>, <a class="code" href="struct_cv_term_criteria.html">CvTermCriteria</a> criteria );
<a name="l03136"></a>03136 
<a name="l03137"></a>03137 
<a name="l03138"></a>03138 <span class="comment">/****************************************************************************************\</span>
<a name="l03139"></a>03139 <span class="comment">*                           Background/foreground segmentation                           *</span>
<a name="l03140"></a>03140 <span class="comment">\****************************************************************************************/</span>
<a name="l03141"></a>03141 
<a name="l03142"></a>03142 <span class="comment">/* We discriminate between foreground and background pixels</span>
<a name="l03143"></a>03143 <span class="comment"> * by building and maintaining a model of the background.</span>
<a name="l03144"></a>03144 <span class="comment"> * Any pixel which does not fit this model is then deemed</span>
<a name="l03145"></a>03145 <span class="comment"> * to be foreground.</span>
<a name="l03146"></a>03146 <span class="comment"> *</span>
<a name="l03147"></a>03147 <span class="comment"> * At present we support two core background models,</span>
<a name="l03148"></a>03148 <span class="comment"> * one of which has two variations:</span>
<a name="l03149"></a>03149 <span class="comment"> *</span>
<a name="l03150"></a>03150 <span class="comment"> *  o CV_BG_MODEL_FGD: latest and greatest algorithm, described in</span>
<a name="l03151"></a>03151 <span class="comment"> *</span>
<a name="l03152"></a>03152 <span class="comment"> *   Foreground Object Detection from Videos Containing Complex Background.</span>
<a name="l03153"></a>03153 <span class="comment"> *   Liyuan Li, Weimin Huang, Irene Y.H. Gu, and Qi Tian.</span>
<a name="l03154"></a>03154 <span class="comment"> *   ACM MM2003 9p</span>
<a name="l03155"></a>03155 <span class="comment"> *</span>
<a name="l03156"></a>03156 <span class="comment"> *  o CV_BG_MODEL_FGD_SIMPLE:</span>
<a name="l03157"></a>03157 <span class="comment"> *       A code comment describes this as a simplified version of the above,</span>
<a name="l03158"></a>03158 <span class="comment"> *       but the code is in fact currently identical</span>
<a name="l03159"></a>03159 <span class="comment"> *</span>
<a name="l03160"></a>03160 <span class="comment"> *  o CV_BG_MODEL_MOG: &quot;Mixture of Gaussians&quot;, older algorithm, described in</span>
<a name="l03161"></a>03161 <span class="comment"> *</span>
<a name="l03162"></a>03162 <span class="comment"> *       Moving target classification and tracking from real-time video.</span>
<a name="l03163"></a>03163 <span class="comment"> *       A Lipton, H Fujijoshi, R Patil</span>
<a name="l03164"></a>03164 <span class="comment"> *       Proceedings IEEE Workshop on Application of Computer Vision pp 8-14 1998</span>
<a name="l03165"></a>03165 <span class="comment"> *</span>
<a name="l03166"></a>03166 <span class="comment"> *       Learning patterns of activity using real-time tracking</span>
<a name="l03167"></a>03167 <span class="comment"> *       C Stauffer and W Grimson  August 2000</span>
<a name="l03168"></a>03168 <span class="comment"> *       IEEE Transactions on Pattern Analysis and Machine Intelligence 22(8):747-757</span>
<a name="l03169"></a>03169 <span class="comment"> */</span>
<a name="l03170"></a>03170 
<a name="l03171"></a>03171 
<a name="l03172"></a>03172 <span class="preprocessor">#define CV_BG_MODEL_FGD     0</span>
<a name="l03173"></a>03173 <span class="preprocessor"></span><span class="preprocessor">#define CV_BG_MODEL_MOG     1           </span><span class="comment">/* &quot;Mixture of Gaussians&quot;.  */</span>
<a name="l03174"></a>03174 <span class="preprocessor">#define CV_BG_MODEL_FGD_SIMPLE  2</span>
<a name="l03175"></a>03175 <span class="preprocessor"></span>
<a name="l03176"></a>03176 <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>;
<a name="l03177"></a>03177 
<a name="l03178"></a>03178 <span class="keyword">typedef</span> <a class="code" href="highgui__c_8h.html#ad1f9461adaad33556b3a01c7f2c6ceab">void</a> (CV_CDECL * CvReleaseBGStatModel)( <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>** <a class="code" href="legacy_8hpp.html#a3ebec35d42be45ce8d7619b9ac95df9e">bg_model</a> );
<a name="l03179"></a><a class="code" href="legacy_8hpp.html#afe9943d0b74fa3f72845bdb339cbee5c">03179</a> <span class="keyword">typedef</span> <a class="code" href="namespacecv_1_1gpu_1_1device.html#a75abe072f62e9cbacd4e282107467bbb">int</a> (CV_CDECL * <a class="code" href="legacy_8hpp.html#afe9943d0b74fa3f72845bdb339cbee5c">CvUpdateBGStatModel</a>)( <a class="code" href="struct___ipl_image.html">IplImage</a>* <a class="code" href="legacy_8hpp.html#a34c361016bbb67ffed765ca10a34a598">curr_frame</a>, <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>* <a class="code" href="legacy_8hpp.html#a3ebec35d42be45ce8d7619b9ac95df9e">bg_model</a>,
<a name="l03180"></a>03180                                              <span class="keywordtype">double</span> learningRate );
<a name="l03181"></a>03181 
<a name="l03182"></a>03182 <span class="preprocessor">#define CV_BG_STAT_MODEL_FIELDS()                                               \</span>
<a name="l03183"></a>03183 <span class="preprocessor">int             type; </span><span class="comment">/*type of BG model*/</span>                                      \
<a name="l03184"></a>03184 CvReleaseBGStatModel release;                                                   \
<a name="l03185"></a>03185 CvUpdateBGStatModel update;                                                     \
<a name="l03186"></a>03186 IplImage*       background;   <span class="comment">/*8UC3 reference background image*/</span>               \
<a name="l03187"></a>03187 IplImage*       foreground;   <span class="comment">/*8UC1 foreground image*/</span>                         \
<a name="l03188"></a>03188 IplImage**      layers;       <span class="comment">/*8UC3 reference background image, can be null */</span> \
<a name="l03189"></a>03189 int             layer_count;  <span class="comment">/* can be zero */</span>                                 \
<a name="l03190"></a>03190 CvMemStorage*   storage;      <span class="comment">/*storage for foreground_regions*/</span>                \
<a name="l03191"></a>03191 CvSeq*          foreground_regions <span class="comment">/*foreground object contours*/</span>
<a name="l03192"></a>03192 
<a name="l03193"></a><a class="code" href="struct_cv_b_g_stat_model.html">03193</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>
<a name="l03194"></a>03194 {
<a name="l03195"></a>03195     <a class="code" href="struct_cv_b_g_stat_model.html#aedbfba7168c5829f7527d56e0d91040a">CV_BG_STAT_MODEL_FIELDS</a>();
<a name="l03196"></a>03196 } <a class="code" href="legacy_8hpp.html#a012574c6222a9d8a693139cfe7db64cd">CvBGStatModel</a>;
<a name="l03197"></a>03197 
<a name="l03198"></a>03198 <span class="comment">//</span>
<a name="l03199"></a>03199 
<a name="l03200"></a>03200 <span class="comment">// Releases memory used by BGStatModel</span>
<a name="l03201"></a>03201 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseBGStatModel( <a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>** bg_model );
<a name="l03202"></a>03202 
<a name="l03203"></a>03203 <span class="comment">// Updates statistical model and returns number of found foreground regions</span>
<a name="l03204"></a><a class="code" href="legacy_8hpp.html#a3ebec35d42be45ce8d7619b9ac95df9e">03204</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) cvUpdateBGStatModel( <a class="code" href="struct___ipl_image.html">IplImage</a>* current_frame, <a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>*  bg_model,
<a name="l03205"></a>03205                                <span class="keywordtype">double</span> learningRate CV_DEFAULT(-1));
<a name="l03206"></a>03206 
<a name="l03207"></a>03207 <span class="comment">// Performs FG post-processing using segmentation</span>
<a name="l03208"></a>03208 <span class="comment">// (all pixels of a region will be classified as foreground if majority of pixels of the region are FG).</span>
<a name="l03209"></a>03209 <span class="comment">// parameters:</span>
<a name="l03210"></a>03210 <span class="comment">//      segments - pointer to result of segmentation (for example MeanShiftSegmentation)</span>
<a name="l03211"></a>03211 <span class="comment">//      bg_model - pointer to CvBGStatModel structure</span>
<a name="l03212"></a>03212 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvRefineForegroundMaskBySegm( <a class="code" href="struct_cv_seq.html">CvSeq</a>* segments, <a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>*  bg_model );
<a name="l03213"></a>03213 
<a name="l03214"></a>03214 <span class="comment">/* Common use change detection function */</span>
<a name="l03215"></a>03215 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>)  cvChangeDetection( <a class="code" href="struct___ipl_image.html">IplImage</a>*  prev_frame,
<a name="l03216"></a><a class="code" href="legacy_8hpp.html#a34c361016bbb67ffed765ca10a34a598">03216</a>                               <a class="code" href="struct___ipl_image.html">IplImage</a>*  curr_frame,
<a name="l03217"></a>03217                               <a class="code" href="struct___ipl_image.html">IplImage</a>*  <a class="code" href="legacy_8hpp.html#ad0a6e1cdae323616e901aec748d4d5c6">change_mask</a> );
<a name="l03218"></a>03218 
<a name="l03219"></a>03219 <span class="comment">/*</span>
<a name="l03220"></a>03220 <span class="comment"> Interface of ACM MM2003 algorithm</span>
<a name="l03221"></a>03221 <span class="comment"> */</span>
<a name="l03222"></a>03222 
<a name="l03223"></a>03223 <span class="comment">/* Default parameters of foreground detection algorithm: */</span>
<a name="l03224"></a>03224 <span class="preprocessor">#define  CV_BGFG_FGD_LC              128</span>
<a name="l03225"></a>03225 <span class="preprocessor"></span><span class="preprocessor">#define  CV_BGFG_FGD_N1C             15</span>
<a name="l03226"></a>03226 <span class="preprocessor"></span><span class="preprocessor">#define  CV_BGFG_FGD_N2C             25</span>
<a name="l03227"></a>03227 <span class="preprocessor"></span>
<a name="l03228"></a>03228 <span class="preprocessor">#define  CV_BGFG_FGD_LCC             64</span>
<a name="l03229"></a>03229 <span class="preprocessor"></span><span class="preprocessor">#define  CV_BGFG_FGD_N1CC            25</span>
<a name="l03230"></a>03230 <span class="preprocessor"></span><span class="preprocessor">#define  CV_BGFG_FGD_N2CC            40</span>
<a name="l03231"></a>03231 <span class="preprocessor"></span>
<a name="l03232"></a>03232 <span class="comment">/* Background reference image update parameter: */</span>
<a name="l03233"></a>03233 <span class="preprocessor">#define  CV_BGFG_FGD_ALPHA_1         0.1f</span>
<a name="l03234"></a>03234 <span class="preprocessor"></span>
<a name="l03235"></a>03235 <span class="comment">/* stat model update parameter</span>
<a name="l03236"></a>03236 <span class="comment"> * 0.002f ~ 1K frame(~45sec), 0.005 ~ 18sec (if 25fps and absolutely static BG)</span>
<a name="l03237"></a>03237 <span class="comment"> */</span>
<a name="l03238"></a>03238 <span class="preprocessor">#define  CV_BGFG_FGD_ALPHA_2         0.005f</span>
<a name="l03239"></a>03239 <span class="preprocessor"></span>
<a name="l03240"></a>03240 <span class="comment">/* start value for alpha parameter (to fast initiate statistic model) */</span>
<a name="l03241"></a>03241 <span class="preprocessor">#define  CV_BGFG_FGD_ALPHA_3         0.1f</span>
<a name="l03242"></a>03242 <span class="preprocessor"></span>
<a name="l03243"></a>03243 <span class="preprocessor">#define  CV_BGFG_FGD_DELTA           2</span>
<a name="l03244"></a>03244 <span class="preprocessor"></span>
<a name="l03245"></a>03245 <span class="preprocessor">#define  CV_BGFG_FGD_T               0.9f</span>
<a name="l03246"></a>03246 <span class="preprocessor"></span>
<a name="l03247"></a>03247 <span class="preprocessor">#define  CV_BGFG_FGD_MINAREA         15.f</span>
<a name="l03248"></a>03248 <span class="preprocessor"></span>
<a name="l03249"></a>03249 <span class="preprocessor">#define  CV_BGFG_FGD_BG_UPDATE_TRESH 0.5f</span>
<a name="l03250"></a>03250 <span class="preprocessor"></span>
<a name="l03251"></a>03251 <span class="comment">/* See the above-referenced Li/Huang/Gu/Tian paper</span>
<a name="l03252"></a>03252 <span class="comment"> * for a full description of these background-model</span>
<a name="l03253"></a>03253 <span class="comment"> * tuning parameters.</span>
<a name="l03254"></a>03254 <span class="comment"> *</span>
<a name="l03255"></a>03255 <span class="comment"> * Nomenclature:  &#39;c&#39;  == &quot;color&quot;, a three-component red/green/blue vector.</span>
<a name="l03256"></a>03256 <span class="comment"> *                         We use histograms of these to model the range of</span>
<a name="l03257"></a>03257 <span class="comment"> *                         colors we&#39;ve seen at a given background pixel.</span>
<a name="l03258"></a>03258 <span class="comment"> *</span>
<a name="l03259"></a>03259 <span class="comment"> *                &#39;cc&#39; == &quot;color co-occurrence&quot;, a six-component vector giving</span>
<a name="l03260"></a>03260 <span class="comment"> *                         RGB color for both this frame and preceding frame.</span>
<a name="l03261"></a>03261 <span class="comment"> *                             We use histograms of these to model the range of</span>
<a name="l03262"></a>03262 <span class="comment"> *                         color CHANGES we&#39;ve seen at a given background pixel.</span>
<a name="l03263"></a>03263 <span class="comment"> */</span>
<a name="l03264"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html">03264</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_f_g_d_stat_model_params.html">CvFGDStatModelParams</a>
<a name="l03265"></a>03265 {
<a name="l03266"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#aac86ba5f354a21a368a1df04742860ff">03266</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#aac86ba5f354a21a368a1df04742860ff">Lc</a>;          <span class="comment">/* Quantized levels per &#39;color&#39; component. Power of two, typically 32, 64 or 128.               */</span>
<a name="l03267"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#af99c0e0c9ae588219f13583e22a715ed">03267</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#af99c0e0c9ae588219f13583e22a715ed">N1c</a>;         <span class="comment">/* Number of color vectors used to model normal background color variation at a given pixel.            */</span>
<a name="l03268"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#afb5e452daa801b83378b8fee545c5162">03268</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#afb5e452daa801b83378b8fee545c5162">N2c</a>;         <span class="comment">/* Number of color vectors retained at given pixel.  Must be &gt; N1c, typically ~ 5/3 of N1c.         */</span>
<a name="l03269"></a>03269     <span class="comment">/* Used to allow the first N1c vectors to adapt over time to changing background.               */</span>
<a name="l03270"></a>03270 
<a name="l03271"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#a3ef6879a486b1b068129394d324612b0">03271</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#a3ef6879a486b1b068129394d324612b0">Lcc</a>;         <span class="comment">/* Quantized levels per &#39;color co-occurrence&#39; component.  Power of two, typically 16, 32 or 64.         */</span>
<a name="l03272"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#abab3dcbc3510dc386ee536a3b6712b75">03272</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#abab3dcbc3510dc386ee536a3b6712b75">N1cc</a>;        <span class="comment">/* Number of color co-occurrence vectors used to model normal background color variation at a given pixel.  */</span>
<a name="l03273"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ae3e5c442d4f636c39d0180efd6910070">03273</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ae3e5c442d4f636c39d0180efd6910070">N2cc</a>;        <span class="comment">/* Number of color co-occurrence vectors retained at given pixel.  Must be &gt; N1cc, typically ~ 5/3 of N1cc. */</span>
<a name="l03274"></a>03274     <span class="comment">/* Used to allow the first N1cc vectors to adapt over time to changing background.              */</span>
<a name="l03275"></a>03275 
<a name="l03276"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#a5e06949f2ff0adf20bd5bb9059c0a179">03276</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#a5e06949f2ff0adf20bd5bb9059c0a179">is_obj_without_holes</a>;<span class="comment">/* If TRUE we ignore holes within foreground blobs. Defaults to TRUE.                       */</span>
<a name="l03277"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ad22b9089be11b542b4868ba3dd1713d1">03277</a>     <span class="keywordtype">int</span>    <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ad22b9089be11b542b4868ba3dd1713d1">perform_morphing</a>;    <span class="comment">/* Number of erode-dilate-erode foreground-blob cleanup iterations.                     */</span>
<a name="l03278"></a>03278     <span class="comment">/* These erase one-pixel junk blobs and merge almost-touching blobs. Default value is 1.            */</span>
<a name="l03279"></a>03279 
<a name="l03280"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ab1070d30fd82b26ec8766721122e8483">03280</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ab1070d30fd82b26ec8766721122e8483">alpha1</a>;      <span class="comment">/* How quickly we forget old background pixel values seen.  Typically set to 0.1                */</span>
<a name="l03281"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ace1a97cf24f397d30a522b66c9a9ec79">03281</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ace1a97cf24f397d30a522b66c9a9ec79">alpha2</a>;      <span class="comment">/* &quot;Controls speed of feature learning&quot;. Depends on T. Typical value circa 0.005.               */</span>
<a name="l03282"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#a975b153605ac09b3b04e263452169493">03282</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#a975b153605ac09b3b04e263452169493">alpha3</a>;      <span class="comment">/* Alternate to alpha2, used (e.g.) for quicker initial convergence. Typical value 0.1.             */</span>
<a name="l03283"></a>03283 
<a name="l03284"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ac4fa054edef4b46290e1d81b95bffc39">03284</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ac4fa054edef4b46290e1d81b95bffc39">delta</a>;       <span class="comment">/* Affects color and color co-occurrence quantization, typically set to 2.                  */</span>
<a name="l03285"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#ae622017985c5bb40a27fdb8fbc5aad95">03285</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#ae622017985c5bb40a27fdb8fbc5aad95">T</a>;           <span class="comment">/* &quot;A percentage value which determines when new features can be recognized as new background.&quot; (Typically 0.9).*/</span>
<a name="l03286"></a><a class="code" href="struct_cv_f_g_d_stat_model_params.html#a211c52623f57ab66c72ba4db5696225d">03286</a>     <span class="keywordtype">float</span>  <a class="code" href="struct_cv_f_g_d_stat_model_params.html#a211c52623f57ab66c72ba4db5696225d">minArea</a>;     <span class="comment">/* Discard foreground blobs whose bounding box is smaller than this threshold.                  */</span>
<a name="l03287"></a>03287 } <a class="code" href="legacy_8hpp.html#aaaad99a1354b3b7c9c32a564c2764cd8">CvFGDStatModelParams</a>;
<a name="l03288"></a>03288 
<a name="l03289"></a><a class="code" href="struct_cv_b_g_pixel_c_stat_table.html">03289</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_pixel_c_stat_table.html">CvBGPixelCStatTable</a>
<a name="l03290"></a>03290 {
<a name="l03291"></a><a class="code" href="struct_cv_b_g_pixel_c_stat_table.html#a29a8d4255e9a9820edcfc0b953554938">03291</a>     <span class="keywordtype">float</span>          <a class="code" href="struct_cv_b_g_pixel_c_stat_table.html#a14f1fb525af3cb098284bd2242e6c81e">Pv</a>, <a class="code" href="struct_cv_b_g_pixel_c_stat_table.html#a29a8d4255e9a9820edcfc0b953554938">Pvb</a>;
<a name="l03292"></a><a class="code" href="struct_cv_b_g_pixel_c_stat_table.html#a19bb4ebea98266474001967c364c2fec">03292</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>          <a class="code" href="struct_cv_b_g_pixel_c_stat_table.html#a19bb4ebea98266474001967c364c2fec">v</a>[3];
<a name="l03293"></a>03293 } <a class="code" href="legacy_8hpp.html#a2fd0ddd813609e9de1d46904e8e75bdb">CvBGPixelCStatTable</a>;
<a name="l03294"></a>03294 
<a name="l03295"></a><a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html">03295</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html">CvBGPixelCCStatTable</a>
<a name="l03296"></a>03296 {
<a name="l03297"></a><a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html#ad5793b967b14538dd2d4c09a9df0f756">03297</a>     <span class="keywordtype">float</span>          <a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html#a16bf958d3dbf30a8a7a26948cc6611e3">Pv</a>, <a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html#ad5793b967b14538dd2d4c09a9df0f756">Pvb</a>;
<a name="l03298"></a><a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html#a3e76f988fd3ab43fcf2ca7ca11635097">03298</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>          <a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html#a3e76f988fd3ab43fcf2ca7ca11635097">v</a>[6];
<a name="l03299"></a>03299 } <a class="code" href="legacy_8hpp.html#a81b73b1382b56317a0cccd091fd749c6">CvBGPixelCCStatTable</a>;
<a name="l03300"></a>03300 
<a name="l03301"></a><a class="code" href="struct_cv_b_g_pixel_stat.html">03301</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_pixel_stat.html">CvBGPixelStat</a>
<a name="l03302"></a>03302 {
<a name="l03303"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#acfe036c8c4bb456ae384f43ebddd1629">03303</a>     <span class="keywordtype">float</span>                 <a class="code" href="struct_cv_b_g_pixel_stat.html#acfe036c8c4bb456ae384f43ebddd1629">Pbc</a>;
<a name="l03304"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#a7d5b13421a935222967e1a30d14ea4f7">03304</a>     <span class="keywordtype">float</span>                 <a class="code" href="struct_cv_b_g_pixel_stat.html#a7d5b13421a935222967e1a30d14ea4f7">Pbcc</a>;
<a name="l03305"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#a856e3ea97f987f7888f3d0c6daa17614">03305</a>     <a class="code" href="struct_cv_b_g_pixel_c_stat_table.html">CvBGPixelCStatTable</a>*  <a class="code" href="struct_cv_b_g_pixel_stat.html#a856e3ea97f987f7888f3d0c6daa17614">ctable</a>;
<a name="l03306"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#a6e516d9913cc4cf3764abeeffe8cf35d">03306</a>     <a class="code" href="struct_cv_b_g_pixel_c_c_stat_table.html">CvBGPixelCCStatTable</a>* <a class="code" href="struct_cv_b_g_pixel_stat.html#a6e516d9913cc4cf3764abeeffe8cf35d">cctable</a>;
<a name="l03307"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#a1bf6fcf273879a8934e6f9aef4494331">03307</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>                 <a class="code" href="struct_cv_b_g_pixel_stat.html#a1bf6fcf273879a8934e6f9aef4494331">is_trained_st_model</a>;
<a name="l03308"></a><a class="code" href="struct_cv_b_g_pixel_stat.html#aad3efd5bcefd90b3fc0cd9c1e39095d4">03308</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>                 <a class="code" href="struct_cv_b_g_pixel_stat.html#aad3efd5bcefd90b3fc0cd9c1e39095d4">is_trained_dyn_model</a>;
<a name="l03309"></a>03309 } <a class="code" href="legacy_8hpp.html#ab3e519863a036d0a734be51aac88338a">CvBGPixelStat</a>;
<a name="l03310"></a>03310 
<a name="l03311"></a>03311 
<a name="l03312"></a><a class="code" href="struct_cv_f_g_d_stat_model.html">03312</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_f_g_d_stat_model.html">CvFGDStatModel</a>
<a name="l03313"></a>03313 {
<a name="l03314"></a>03314     <a class="code" href="struct_cv_f_g_d_stat_model.html#ad84bac405da65af0563abe5911132fa2">CV_BG_STAT_MODEL_FIELDS</a>();
<a name="l03315"></a><a class="code" href="struct_cv_f_g_d_stat_model.html#a1a6802be9cad34649a3b06acf5294123">03315</a>     <a class="code" href="struct_cv_b_g_pixel_stat.html">CvBGPixelStat</a>*         <a class="code" href="struct_cv_f_g_d_stat_model.html#a1a6802be9cad34649a3b06acf5294123">pixel_stat</a>;
<a name="l03316"></a><a class="code" href="struct_cv_f_g_d_stat_model.html#a802484fd8cbf4cd8415b3a96e96b1164">03316</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*              <a class="code" href="struct_cv_f_g_d_stat_model.html#a802484fd8cbf4cd8415b3a96e96b1164">Ftd</a>;
<a name="l03317"></a><a class="code" href="struct_cv_f_g_d_stat_model.html#a29b2bf55e927fb67b65876cda6f1f200">03317</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*              <a class="code" href="struct_cv_f_g_d_stat_model.html#a29b2bf55e927fb67b65876cda6f1f200">Fbd</a>;
<a name="l03318"></a><a class="code" href="struct_cv_f_g_d_stat_model.html#a5408042c3fe0246dc047c215397a818f">03318</a>     <a class="code" href="struct___ipl_image.html">IplImage</a>*              <a class="code" href="struct_cv_f_g_d_stat_model.html#a5408042c3fe0246dc047c215397a818f">prev_frame</a>;
<a name="l03319"></a><a class="code" href="struct_cv_f_g_d_stat_model.html#abd344f6b9f653ab49fde74d80cbce7aa">03319</a>     <a class="code" href="struct_cv_f_g_d_stat_model_params.html">CvFGDStatModelParams</a>   <a class="code" href="struct_cv_f_g_d_stat_model.html#abd344f6b9f653ab49fde74d80cbce7aa">params</a>;
<a name="l03320"></a>03320 } <a class="code" href="legacy_8hpp.html#a3353062f233cae7844273c1a87b89d38">CvFGDStatModel</a>;
<a name="l03321"></a>03321 
<a name="l03322"></a>03322 <span class="comment">/* Creates FGD model */</span>
<a name="l03323"></a>03323 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>*) cvCreateFGDStatModel( <a class="code" href="struct___ipl_image.html">IplImage</a>* first_frame,
<a name="l03324"></a>03324                                            <a class="code" href="struct_cv_f_g_d_stat_model_params.html">CvFGDStatModelParams</a>* parameters CV_DEFAULT(NULL));
<a name="l03325"></a>03325 
<a name="l03326"></a>03326 <span class="comment">/*</span>
<a name="l03327"></a>03327 <span class="comment"> Interface of Gaussian mixture algorithm</span>
<a name="l03328"></a>03328 <span class="comment"></span>
<a name="l03329"></a>03329 <span class="comment"> &quot;An improved adaptive background mixture model for real-time tracking with shadow detection&quot;</span>
<a name="l03330"></a>03330 <span class="comment"> P. KadewTraKuPong and R. Bowden,</span>
<a name="l03331"></a>03331 <span class="comment"> Proc. 2nd European Workshp on Advanced Video-Based Surveillance Systems, 2001.&quot;</span>
<a name="l03332"></a>03332 <span class="comment"> http://personal.ee.surrey.ac.uk/Personal/R.Bowden/publications/avbs01/avbs01.pdf</span>
<a name="l03333"></a>03333 <span class="comment"> */</span>
<a name="l03334"></a>03334 
<a name="l03335"></a>03335 <span class="comment">/* Note:  &quot;MOG&quot; == &quot;Mixture Of Gaussians&quot;: */</span>
<a name="l03336"></a>03336 
<a name="l03337"></a>03337 <span class="preprocessor">#define CV_BGFG_MOG_MAX_NGAUSSIANS 500</span>
<a name="l03338"></a>03338 <span class="preprocessor"></span>
<a name="l03339"></a>03339 <span class="comment">/* default parameters of gaussian background detection algorithm */</span>
<a name="l03340"></a>03340 <span class="preprocessor">#define CV_BGFG_MOG_BACKGROUND_THRESHOLD     0.7     </span><span class="comment">/* threshold sum of weights for background test */</span>
<a name="l03341"></a>03341 <span class="preprocessor">#define CV_BGFG_MOG_STD_THRESHOLD            2.5     </span><span class="comment">/* lambda=2.5 is 99% */</span>
<a name="l03342"></a>03342 <span class="preprocessor">#define CV_BGFG_MOG_WINDOW_SIZE              200     </span><span class="comment">/* Learning rate; alpha = 1/CV_GBG_WINDOW_SIZE */</span>
<a name="l03343"></a>03343 <span class="preprocessor">#define CV_BGFG_MOG_NGAUSSIANS               5       </span><span class="comment">/* = K = number of Gaussians in mixture */</span>
<a name="l03344"></a>03344 <span class="preprocessor">#define CV_BGFG_MOG_WEIGHT_INIT              0.05</span>
<a name="l03345"></a>03345 <span class="preprocessor"></span><span class="preprocessor">#define CV_BGFG_MOG_SIGMA_INIT               30</span>
<a name="l03346"></a>03346 <span class="preprocessor"></span><span class="preprocessor">#define CV_BGFG_MOG_MINAREA                  15.f</span>
<a name="l03347"></a>03347 <span class="preprocessor"></span>
<a name="l03348"></a>03348 
<a name="l03349"></a>03349 <span class="preprocessor">#define CV_BGFG_MOG_NCOLORS                  3</span>
<a name="l03350"></a>03350 <span class="preprocessor"></span>
<a name="l03351"></a><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html">03351</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html">CvGaussBGStatModelParams</a>
<a name="l03352"></a>03352 {
<a name="l03353"></a><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a40244648987b33f71423b21f9a07c319">03353</a>     <span class="keywordtype">int</span>     <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a40244648987b33f71423b21f9a07c319">win_size</a>;               <span class="comment">/* = 1/alpha */</span>
<a name="l03354"></a><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#aaf2c2567410866de4b696b453df74d13">03354</a>     <span class="keywordtype">int</span>     <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#aaf2c2567410866de4b696b453df74d13">n_gauss</a>;
<a name="l03355"></a><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a3f9d9737046dfd6fb5e468f8b65ab6cd">03355</a>     <span class="keywordtype">double</span>  <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a1648daffc44d76d0416fe08aba4f7ce8">bg_threshold</a>, <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a3f9d9737046dfd6fb5e468f8b65ab6cd">std_threshold</a>, <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a2bfb1edae6d5be69a867217c72b2a009">minArea</a>;
<a name="l03356"></a><a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a20ecf912155074c1c9f3c8bf1a756fc4">03356</a>     <span class="keywordtype">double</span>  <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#a20ecf912155074c1c9f3c8bf1a756fc4">weight_init</a>, <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html#af81821c18f94ae3fe2c1872cda910d4a">variance_init</a>;
<a name="l03357"></a>03357 }<a class="code" href="legacy_8hpp.html#ab50355283f3402d1d8f7bbb2ad5198e1">CvGaussBGStatModelParams</a>;
<a name="l03358"></a>03358 
<a name="l03359"></a><a class="code" href="struct_cv_gauss_b_g_values.html">03359</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_gauss_b_g_values.html">CvGaussBGValues</a>
<a name="l03360"></a>03360 {
<a name="l03361"></a><a class="code" href="struct_cv_gauss_b_g_values.html#a0ead7e4f776366c5746e0d2614491a3c">03361</a>     <span class="keywordtype">int</span>         <a class="code" href="struct_cv_gauss_b_g_values.html#a0ead7e4f776366c5746e0d2614491a3c">match_sum</a>;
<a name="l03362"></a><a class="code" href="struct_cv_gauss_b_g_values.html#a123de53e18b5254ec6557ddc542b1b42">03362</a>     <span class="keywordtype">double</span>      <a class="code" href="struct_cv_gauss_b_g_values.html#a123de53e18b5254ec6557ddc542b1b42">weight</a>;
<a name="l03363"></a><a class="code" href="struct_cv_gauss_b_g_values.html#ad70a97c35dda441899e98c84f94f3a71">03363</a>     <span class="keywordtype">double</span>      <a class="code" href="struct_cv_gauss_b_g_values.html#ad70a97c35dda441899e98c84f94f3a71">variance</a>[CV_BGFG_MOG_NCOLORS];
<a name="l03364"></a><a class="code" href="struct_cv_gauss_b_g_values.html#a1a89e405a3b88c3776d56c8fb45b810c">03364</a>     <span class="keywordtype">double</span>      <a class="code" href="struct_cv_gauss_b_g_values.html#a1a89e405a3b88c3776d56c8fb45b810c">mean</a>[CV_BGFG_MOG_NCOLORS];
<a name="l03365"></a>03365 } <a class="code" href="legacy_8hpp.html#aa16f0cdb74e320a30fa7042cdbbd40ee">CvGaussBGValues</a>;
<a name="l03366"></a>03366 
<a name="l03367"></a><a class="code" href="struct_cv_gauss_b_g_point.html">03367</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_gauss_b_g_point.html">CvGaussBGPoint</a>
<a name="l03368"></a>03368 {
<a name="l03369"></a><a class="code" href="struct_cv_gauss_b_g_point.html#a132738ec9fb8ee56a2dabf6075d190b3">03369</a>     <a class="code" href="struct_cv_gauss_b_g_values.html">CvGaussBGValues</a>* <a class="code" href="struct_cv_gauss_b_g_point.html#a132738ec9fb8ee56a2dabf6075d190b3">g_values</a>;
<a name="l03370"></a>03370 } <a class="code" href="legacy_8hpp.html#aef84743aa48622f04f6af5752a294d31">CvGaussBGPoint</a>;
<a name="l03371"></a>03371 
<a name="l03372"></a>03372 
<a name="l03373"></a><a class="code" href="struct_cv_gauss_b_g_model.html">03373</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_gauss_b_g_model.html">CvGaussBGModel</a>
<a name="l03374"></a>03374 {
<a name="l03375"></a>03375     <a class="code" href="struct_cv_gauss_b_g_model.html#aa5ecb4c83e07301bc3b6f357d6b6e8ac">CV_BG_STAT_MODEL_FIELDS</a>();
<a name="l03376"></a><a class="code" href="struct_cv_gauss_b_g_model.html#a4e96ac84bc0a35bfa107a6aae2b8cc32">03376</a>     <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html">CvGaussBGStatModelParams</a>   <a class="code" href="struct_cv_gauss_b_g_model.html#a4e96ac84bc0a35bfa107a6aae2b8cc32">params</a>;
<a name="l03377"></a><a class="code" href="struct_cv_gauss_b_g_model.html#ad195ebed0bd02c766fb6c64be83a7e16">03377</a>     <a class="code" href="struct_cv_gauss_b_g_point.html">CvGaussBGPoint</a>*            <a class="code" href="struct_cv_gauss_b_g_model.html#ad195ebed0bd02c766fb6c64be83a7e16">g_point</a>;
<a name="l03378"></a><a class="code" href="struct_cv_gauss_b_g_model.html#ac50839a9b69f645df2510c124463bf12">03378</a>     <span class="keywordtype">int</span>                        <a class="code" href="struct_cv_gauss_b_g_model.html#ac50839a9b69f645df2510c124463bf12">countFrames</a>;
<a name="l03379"></a><a class="code" href="struct_cv_gauss_b_g_model.html#a5398a6fe47cc99625cb4a33b0abbe0f2">03379</a>     <span class="keywordtype">void</span>*                      <a class="code" href="struct_cv_gauss_b_g_model.html#a5398a6fe47cc99625cb4a33b0abbe0f2">mog</a>;
<a name="l03380"></a>03380 } <a class="code" href="legacy_8hpp.html#a6e744ffa3d9e19030436d570442dd388">CvGaussBGModel</a>;
<a name="l03381"></a>03381 
<a name="l03382"></a>03382 
<a name="l03383"></a>03383 <span class="comment">/* Creates Gaussian mixture background model */</span>
<a name="l03384"></a>03384 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_b_g_stat_model.html">CvBGStatModel</a>*) cvCreateGaussianBGModel( <a class="code" href="struct___ipl_image.html">IplImage</a>* first_frame,
<a name="l03385"></a>03385                                               <a class="code" href="struct_cv_gauss_b_g_stat_model_params.html">CvGaussBGStatModelParams</a>* parameters CV_DEFAULT(NULL));
<a name="l03386"></a>03386 
<a name="l03387"></a>03387 
<a name="l03388"></a><a class="code" href="struct_cv_b_g_code_book_elem.html">03388</a> typedef struct <a class="code" href="struct_cv_b_g_code_book_elem.html">CvBGCodeBookElem</a>
<a name="l03389"></a>03389 {
<a name="l03390"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#a90f5d806cca33a8c32fb4a0f164cb012">03390</a>     <span class="keyword">struct </span>CvBGCodeBookElem* <a class="code" href="struct_cv_b_g_code_book_elem.html#a90f5d806cca33a8c32fb4a0f164cb012">next</a>;
<a name="l03391"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#ad4f0dd0fbb1b5b498b2a25bf189e4c0c">03391</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_b_g_code_book_elem.html#ad4f0dd0fbb1b5b498b2a25bf189e4c0c">tLastUpdate</a>;
<a name="l03392"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#a0e90c1442d2b945a5e013dd9bc4ac8a0">03392</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_b_g_code_book_elem.html#a0e90c1442d2b945a5e013dd9bc4ac8a0">stale</a>;
<a name="l03393"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#a6b925a6b35bed62c439693f7577aba4f">03393</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_elem.html#a6b925a6b35bed62c439693f7577aba4f">boxMin</a>[3];
<a name="l03394"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#aeb547cb5906020208a85f248c2ab0bb1">03394</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_elem.html#aeb547cb5906020208a85f248c2ab0bb1">boxMax</a>[3];
<a name="l03395"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#acf9a1d5717a48a059dc918ecb66f41e1">03395</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_elem.html#acf9a1d5717a48a059dc918ecb66f41e1">learnMin</a>[3];
<a name="l03396"></a><a class="code" href="struct_cv_b_g_code_book_elem.html#afe28345688cc1b32ebf5afeaef1aacec">03396</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_elem.html#afe28345688cc1b32ebf5afeaef1aacec">learnMax</a>[3];
<a name="l03397"></a>03397 } <a class="code" href="legacy_8hpp.html#ae2409fccb20f1b7479d35cbbf4cef4ff">CvBGCodeBookElem</a>;
<a name="l03398"></a>03398 
<a name="l03399"></a><a class="code" href="struct_cv_b_g_code_book_model.html">03399</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>
<a name="l03400"></a>03400 {
<a name="l03401"></a><a class="code" href="struct_cv_b_g_code_book_model.html#ac0189344d2ee3ea3a4d79b0179a49b9e">03401</a>     <a class="code" href="struct_cv_size.html">CvSize</a> <a class="code" href="struct_cv_b_g_code_book_model.html#ac0189344d2ee3ea3a4d79b0179a49b9e">size</a>;
<a name="l03402"></a><a class="code" href="struct_cv_b_g_code_book_model.html#a717a48bfd25d92aa1733ef8a94124949">03402</a>     <span class="keywordtype">int</span> <a class="code" href="struct_cv_b_g_code_book_model.html#a717a48bfd25d92aa1733ef8a94124949">t</a>;
<a name="l03403"></a><a class="code" href="struct_cv_b_g_code_book_model.html#adbee5a1b1d5393fcf7d513c7f97f2601">03403</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_model.html#adbee5a1b1d5393fcf7d513c7f97f2601">cbBounds</a>[3];
<a name="l03404"></a><a class="code" href="struct_cv_b_g_code_book_model.html#ab9474e810907e21b77f89a4ed63a4f97">03404</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_model.html#ab9474e810907e21b77f89a4ed63a4f97">modMin</a>[3];
<a name="l03405"></a><a class="code" href="struct_cv_b_g_code_book_model.html#a4c1fb0cc7173bafb6e33a9965e28e9c0">03405</a>     <a class="code" href="core_2types__c_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="struct_cv_b_g_code_book_model.html#a4c1fb0cc7173bafb6e33a9965e28e9c0">modMax</a>[3];
<a name="l03406"></a><a class="code" href="struct_cv_b_g_code_book_model.html#a82de70905b52c5d7efb91da173795a5e">03406</a>     <a class="code" href="struct_cv_b_g_code_book_elem.html">CvBGCodeBookElem</a>** <a class="code" href="struct_cv_b_g_code_book_model.html#a82de70905b52c5d7efb91da173795a5e">cbmap</a>;
<a name="l03407"></a><a class="code" href="struct_cv_b_g_code_book_model.html#af6dbfa6932fafbeeaf6e8f47f171f4ce">03407</a>     <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* <a class="code" href="struct_cv_b_g_code_book_model.html#af6dbfa6932fafbeeaf6e8f47f171f4ce">storage</a>;
<a name="l03408"></a><a class="code" href="struct_cv_b_g_code_book_model.html#ae52f0bf5e3ec04e00a73c4983c6839ec">03408</a>     <a class="code" href="struct_cv_b_g_code_book_elem.html">CvBGCodeBookElem</a>* <a class="code" href="struct_cv_b_g_code_book_model.html#ae52f0bf5e3ec04e00a73c4983c6839ec">freeList</a>;
<a name="l03409"></a>03409 } <a class="code" href="legacy_8hpp.html#a3cb1f272351a3f711daaa09ba95dbb63">CvBGCodeBookModel</a>;
<a name="l03410"></a>03410 
<a name="l03411"></a>03411 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>*) cvCreateBGCodeBookModel( <span class="keywordtype">void</span> );
<a name="l03412"></a>03412 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvReleaseBGCodeBookModel( <a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>** model );
<a name="l03413"></a>03413 
<a name="l03414"></a><a class="code" href="legacy_8hpp.html#ad62b16ab219ae2483e8a3d921c44cc97">03414</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvBGCodeBookUpdate( <a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>* model, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* image,
<a name="l03415"></a>03415                                <a class="code" href="struct_cv_rect.html">CvRect</a> roi CV_DEFAULT(<a class="code" href="core_2types__c_8h.html#afaffdb9052823163862a88209f379921">cvRect</a>(0,0,0,0)),
<a name="l03416"></a>03416                                const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="core__c_8h.html#a714486ca39ce82afa199836b36993f59">mask</a> CV_DEFAULT(0) );
<a name="l03417"></a>03417 
<a name="l03418"></a><a class="code" href="legacy_8hpp.html#a7ff9edf5eaa300d3c1cea7de20631fd8">03418</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">int</span>) cvBGCodeBookDiff( const <a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>* model, const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* image,
<a name="l03419"></a>03419                             <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="legacy_8hpp.html#a7ff9edf5eaa300d3c1cea7de20631fd8">fgmask</a>, <a class="code" href="struct_cv_rect.html">CvRect</a> roi CV_DEFAULT(cvRect(0,0,0,0)) );
<a name="l03420"></a>03420 
<a name="l03421"></a><a class="code" href="legacy_8hpp.html#aabc0d76c262b8ee0bd22eac4322fcc3b">03421</a> <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<span class="keywordtype">void</span>) cvBGCodeBookClearStale( <a class="code" href="struct_cv_b_g_code_book_model.html">CvBGCodeBookModel</a>* model, <span class="keywordtype">int</span> <a class="code" href="legacy_8hpp.html#aabc0d76c262b8ee0bd22eac4322fcc3b">staleThresh</a>,
<a name="l03422"></a>03422                                    <a class="code" href="struct_cv_rect.html">CvRect</a> roi CV_DEFAULT(cvRect(0,0,0,0)),
<a name="l03423"></a>03423                                    const <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a>* <a class="code" href="core__c_8h.html#a714486ca39ce82afa199836b36993f59">mask</a> CV_DEFAULT(0) );
<a name="l03424"></a>03424 
<a name="l03425"></a>03425 <a class="code" href="calib3d_8hpp.html#ab3ff078a73ec6fb00e8e5dc21dbf5593">CVAPI</a>(<a class="code" href="struct_cv_seq.html">CvSeq</a>*) cvSegmentFGMask( <a class="code" href="core_2types__c_8h.html#ac5046bc0456e9295d80b37774384798c">CvArr</a> *fgmask, <span class="keywordtype">int</span> poly1Hull0 CV_DEFAULT(1),
<a name="l03426"></a>03426                               <span class="keywordtype">float</span> perimScale CV_DEFAULT(4.f),
<a name="l03427"></a>03427                               <a class="code" href="struct_cv_mem_storage.html">CvMemStorage</a>* storage CV_DEFAULT(0),
<a name="l03428"></a>03428                               <a class="code" href="struct_cv_point.html">CvPoint</a> <a class="code" href="imgproc__c_8h.html#aecaf8d39ccebc1daaa89ee5f071a9090">offset</a> CV_DEFAULT(<a class="code" href="core_2types__c_8h.html#a52acfee56f24f5d9c08651861fa675e9">cvPoint</a>(0,0)));
<a name="l03429"></a>03429 
<a name="l03430"></a>03430 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l03431"></a>03431 <span class="preprocessor"></span>}
<a name="l03432"></a>03432 <span class="preprocessor">#endif</span>
<a name="l03433"></a>03433 <span class="preprocessor"></span>
<a name="l03434"></a>03434 <span class="preprocessor">#endif</span>
<a name="l03435"></a>03435 <span class="preprocessor"></span>
<a name="l03436"></a>03436 <span class="comment">/* End of file. */</span>
</pre></div></div><!-- contents -->
	<div class="footer">
		<p> </p>
	</div>
</div>	
</body>
</html>
